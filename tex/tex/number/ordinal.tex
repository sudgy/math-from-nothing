\documentclass[../../math.tex]{subfiles}
\externaldocument{../../math.tex}
\externaldocument{../basics/foundations}
\externaldocument{../basics/set}
\externaldocument{../basics/elementary_algebra}

\begin{document}

\setcounter{chapter}{8}

\chapter{Cardinals and Ordinals}

The cardinals and ordinals are concepts that extend the natural numbers to
infinite values in two different ways.  Traditionally, the cardinals were
conceived of as equivalence classes of types under the existence of bijections,
and the ordinals as equivalence classes of well-ordered types under the
existence of order isomorphisms.  However, under naive set theory, these
definitions are inconsistent due to problems with things like the set of all
ordinals or the set of all cardinals.

In modern set theories such as ZFC, ordinals are instead taken to be particular
sets, with cardinals being defined as particular ordinals.  In ZFC, there is no
``set of all ordinals'' or ``set of all cardinals'', which removes the
inconsistencies of the original definition.

However, in the foundations used here, there is another way around the
inconsistencies which allows us to define cardinals and ordinals using the
original definitions.  The exact way around the inconsistencies involves the
universe hierarchy, and some of the theorems here will need to be explicit about
what universe certain types are in.

While I wanted to separate the cardinals and ordinals into their own chapters,
the development of the theory of each one is reliant on the other, so this isn't
really feasible.  Instead, the basics of ordinals will be developed, then the
basics of cardinals, which will allow for the rest of the theory of each type to
be developed separately.

\section{Construction of the Ordinals}

\begin{definition}
    We will say that an order type is a type $\U$ that has a well order.
\end{definition}

In general, people often use ``order type'' to refer to more than just well
orders, but the concept is mainly useful for well orders, so for the sake of
simplicity we will consider order types to only be well orders.  Remember that
to prove that a type is well-ordered, it suffices to prove that the relation is
antisymmetric and that every nonempty subset has a least element.

\begin{definition}
    Define a relation $\sim$ on order types where $\A \sim \B$ is defined to
    mean that there exists an order isomorphism between $\A$ and $\B$, that is,
    a function $f$ that is bijective and orderly.  Note that these conditions
    also imply that $f$ is equivalently orderly and strictly equivalently
    orderly.
\end{definition}

\begin{lemma}
    The relation $\sim$ is an equivalence relation.
\end{lemma}
\begin{proof}
    \textit{Reflexivitity.}  The identity function is an order isomorphism.

    \textit{Symmetry.}  Assume that there is an order isomorphism $f$ from $\A$
    to $\B$.  Then its inverse $f^{-1}$ is bijective, and when $a \leq b$, we
    have $f(f^{-1}(a)) \leq f(f^{-1}(b))$, and because $f$ is an order
    isomorphism, $f^{-1}(a) \leq f^{-1}(b)$, so $f^{-1}$ is an order isomorphism
    from $\B$ to $\A$.

    \textit{Transitivity.}  Given three order types $\A$, $\B$, and $\C$ with
    order isomorphisms $f : \A \to \B$ and $g : \B \to \C$, $g \circ f$ is an
    order isomorphism from $\A$ to $\C$.
\end{proof}

\begin{definition}
    Define the type $\Ord$ to be the quotient of all order types by $\sim$.
\end{definition}

Note that because $\Ord$ is a type that contains order types, $\Ord$ must be
higher on the universe hierarchy than order types are.  In particular, if order
types live in $\Type_n$, then $\Ord$ lives in $\Type_{n+1}$.  This means that it
is impossible to build an order type out of ordinals, so it is also impossible
to build an ordinal out of a set of ordinals.  So while there is a type of all
ordinals, it lives in a different universe than order types themselves, removing
the inconsistencies of naive set theory.  However, being unable to create
ordinals out of sets of ordinals entirely seems to be a major restriction on the
theory.  We will find a way around this restriction in a few sections after
developing the theory of cardinals for a bit.

\section{Ordering Ordinals}

It turns out that the ordinals themselves are well ordered.  This ordering is so
important that unlike the previous types that have been developed, this ordering
will be developed before the other operations.  Most sources describe the order
on ordinals using strict inequalities, but describing them using non-strict
inequalities can be useful at times too and is the default way to describe
orderings in the Coq code, so I will first describe the order on ordinals using
non-strict inequalities.

\begin{definition}
    Let $\A$ and $\B$ be order types.  Then we say that $f : \A \to \B$ is an
    ordinal inequality function if it is injective, orderly, and if for all $b :
    \B$ with $f(a) \neq b$ for all $a : \A$, we have $f(a) < b$ for all $a :
    \A$.
\end{definition}

\begin{definition}
    Given two order types $\A$ and $\B$, we will say that $\A \leqq \B$ if there
    exists an ordinal inequality function from $\A$ to $\B$.
\end{definition}

\begin{lemma}
    The relation $\leqq$ is well-defined under the relation $\sim$.
\end{lemma}
\begin{proof}
    Let $A$, $B$, $C$, and $D$ be order types with order isomorphisms $f : A \to
    B$ and $g : C \to D$, and let $h$ be an ordinal inequality function from $A$
    to $C$.  We must prove that there exists an ordinal inequality function from
    $B$ to $D$.  We will prove that $g \circ h \circ f^{-1}$ is such a function.

    \noindent \textit{Injectivity.}
    $g$, $h$, and $f^{-1}$ are all injective, so by Instance \ref{inj_comp}, $g
    \circ h \circ f^{-1}$ is as well.

    \noindent \textit{Orderly.}
    Let $a \leq b$.  Then $f(f^{-1}(a)) \leq f(f^{-1}(b))$, and because $f$ is
    orderly, $f^{-1}(a) \leq f^{-1}(b)$.  Then because $g$ and $h$ are orderly,
    $g(h(f^{-1}(a))) \leq g(h(f^{-1}(b)))$, showing that $g \circ h \circ
    f^{-1}$ is orderly.

    \noindent \textit{Ordinal inequality condition.}
    Let $b : D$ be such that there is no $a : B$ such that $g(h(f^{-1}(a))) =
    b$.  This means that there is no $x : A$ such that $g(h(f^{-1}(f(x)))) =
    g(h(x)) = b = g(g^{-1}(b))$, so by the injectivity of $g$ there is no $x :
    A$ such that $h(x) = g^{-1}(b)$.  Because $h$ is an ordinal inequality
    function, this means that for all $x : A$, $h(x) < g^{-1}(b)$.  Thus, for
    any $a : B$, we have $h(f^{-1}(a)) < g^{-1}(b)$, and applying $g$ to both
    sides gives $g(h(f^{-1}(a))) < b$.
\end{proof}

\begin{instance}
    Define order in the ordinals as the operation obtained by applying Theorem
    \ref{binary_op_ex} to the previous lemma.
\end{instance}

As the following theorem shows, this order is equivalent to the usual definition
of the order on ordinals.

\begin{theorem} \label{ord_lt_simpl}
    For two order types $\A$ and $\B$, $[\A] < [\B]$ iff there exists a $x : \B$
    such that $\A \sim \B_x$, the initial segment of $x$ in $\B$.
\end{theorem}
\begin{proof}
    First assume that $[\A] < [\B]$.  This means that there exists an ordinal
    inequality function $f : \A \to \B$, but no order isomorphism from $\A$ to
    $\B$.  First, there exists an $x' : \B$ such that $f(a) \neq x'$ for all $a
    : \A$.  For if there wasn't such an $x'$, $f$ would be surjective, meaning
    that it is an order isomorphism from $\A$ to $\B$, which is impossible.  Now
    define $x$ to be the least value in $B$ such that $f(a) \neq x$ for all $a :
    \A$.  Because $f$ is an ordinal inequality function, this means that $f(a) <
    x$ for all $a : \A$.  Thus, $f$ can be considered to be a function from $\A$
    to $\B_x$.  $f$ is surjective, because for any $y < x$, by the minimality of
    $x$, there must be an $a : \A$ such that $f(y) = a$.  Thus, $f$ is an order
    isomorphism from $\A$ to $\B_x$.

    Now assume that there exists an $x : \B$ and an order isomorphism $f : \A
    \to \B_x$.  We must prove that $[\A] \leq [\B]$, and that $[\A] \neq [\B]$.

    For $[\A] \leq [\B]$, $f$ itself is already injective and orderly, so all
    that's left to prove is that for all $b : \B$, if $f(a) \neq b$ for all $a$,
    then $f(a) < b$ for all $a$.  So let $b$ be such that $f(a) \neq b$ for all
    $a$, and let $a : \A$.  If $b \leq f(a)$, because $f(a) < x$ by definition
    of $f$, we have $b < x$.  Thus, $b$ is in $\B_x$, so by surjectivity of $f$
    there is some $z$ such that $f(z) = b$.  This however contradicts the
    definition of $b$.  Thus, we must have $f(a) < b$, showing that $f$ is an
    ordinal inequality function.

    For $[\A] \neq [\B]$, assume for a contradiction that $\B \sim \A$.  Then
    there is an order isomorphism $g : B \to A$.  Then we can prove by
    transfinite induction that for all $a : \B$, $a \leq f(g(a))$.  The
    inductive hypothesis states that for all $b < a$, $b \leq f(g(b))$.  Now if
    $f(g(a)) < a$, we would have $f(g(a)) < f(g(f(g(a))))$, and because $f$ and
    $g$ are orderly, we have $a < f(g(a))$.  This contradicts $f(g(a)) < a$, so
    we must have $a \leq f(g(a))$ for all $a : \B$.  This implies that $x \leq
    f(g(x))$, but by the definition of $f$ we must also have $f(g(x)) < x$,
    which is a contradiction.  Thus, we must have $[\A] \neq [\B]$.
\end{proof}

Even though we can normally get away with only proving antisymmetry and the
well-ordering property to prove that a type is well ordered, the proof that the
ordinals are well-ordered here uses the fact that the order is transitive and
connex, so those will have to be proven on their own anyway.

\begin{instance}
    The order on ordinals is connex.
\end{instance}

\begin{proof}
    The proof of this instance is rather involved and will be split up into
    several sub-definitions and lemmas.

    It suffices to prove that for all ordinals $\alpha$ and $\beta$, if $\alpha
    \nless \beta$, then $\beta \leq \alpha$.  Let $\A$ be an order type of
    $\alpha$ and $\B$ be an order type of $\beta$.  Then we know that $\A$ is
    not order isomorphic to an initial segment of $\B$.
    \begin{definition}
        Define a function $f : (p : \B) \to (\B_p \to \A) \to \A$ with $f(p,
        g)$ given by:
        \begin{itemize}
            \item If there exists an $a$ such that $g(x) < a$ for all $x < p$,
                define $f(p, g)$ to be the least such $a$.
            \item Otherwise, $f(p, g)$ will be a random throwaway value in $\A$.
                Such a value is guaranteed to exist since in this context, $p$ is a
                value in $\B$, so if $\A$ was empty, we would have $[\A] < [\B]$,
                which is impossible by assumption.
        \end{itemize}
        By transfinite recursion, there exists a function $g : \B \to \A$ such
        that for all $n : \B$, we have $g(n) = f(n, g \uparrow n)$.
    \end{definition}
    We will prove that $g$ is an ordinal inequality function, proving that
    $\beta \leq \alpha$.

    \begin{definition}
        Given an $n : \B$, define $G_n$ to be the set $\{z : \A \mid \forall x <
        n, g(x) < z\}$.
    \end{definition}

    \begin{definition}
        Say that a value $n : \B$ is \textit{good} if $G_n$ is nonempty.
    \end{definition}
    We will now prove several properties of $g$ and good values:

    \begin{lemma} \label{ord_connex_least}
        For all good $n$, $g(n)$ is the least element of $G_n$.
    \end{lemma}
    \begin{subproof}
        Because $n$ is good, $g(n) = f(n, g \uparrow n)$ takes the first branch
        in the definition of $f$, which produces exactly the least element of
        $G_n$.
    \end{subproof}

    \begin{lemma} \label{ord_connex_preserve}
        $g$ is strictly orderly for good values.
    \end{lemma}
    \begin{subproof}
        This follows directly from the previous lemma.
    \end{subproof}

    \begin{lemma} \label{ord_connex_inj}
        $g$ is injective for good values.
    \end{lemma}
    \begin{subproof}
        Let $a$ and $b$ be good values such that $g(a) = g(b)$.  For a
        contradiction, assume that $a \neq b$, and without loss of generality,
        assume that $a < b$.  Because $g$ is stirctly orderly for good values,
        we have $g(a) < g(b)$, contradicting $g(a) = g(b)$.  Thus, $a = b$.
    \end{subproof}

    \begin{lemma} \label{ord_connex_all_good}
        All $n : \B$ are good.
    \end{lemma}
    \begin{subproof}
        The proof will be by transfinite induction on $n$.  The inductive
        hypothesis states that for all $b < n$, $b$ is good, and we must prove
        that $n$ is good.  For a contradiction, assume that $n$ is not good.  We
        will prove that $\A$ is isomorphic to $\B_n$, contradicting the
        hypothesis that $[\A] \nless [\B]$.  The isomorphism from $\B_n$ to $\A$
        will be $g$ itself.

        $g$ is injective for all $x < n$ because by the inductive hypothesis,
        all such $x$ are good, and $g$ is injective on good values by Lemma
        \ref{ord_connex_inj}.

        For surjectivity, let $x : \A$.  For a contradiction, assume that there
        does not exist any $y : \B_n$ such that $g(y) = x$.  We will prove that
        under this assumption, $n$ is in fact good, contradicting our previous
        assumption.  To prove that $n$ is good, we will prove that for all $a <
        n$, we have $g(a) < x$.  This will be proven using a second transfinite
        induction, this time on $a$: the second inductive hypothesis states that
        for all $b < a$ such that $b < n$ (note that this second condition is
        redundant since $a < n$), we have $g(b) < x$.  This is equivalent to
        saying that $x \in G_a$.  We assumed earlier that $g(y) \neq x$ for all
        $y$, so we only need to prove that $g(a) \leq x$.  By the first
        inductive hypothesis, $a$ is good, so by Lemma \ref{ord_connex_least},
        $g(a)$ is the least element of $G_a$.  Since $x \in G_a$, we have $g(a)
        \leq x$, as required.

        $g$ is orderly for all $x < n$ because by the inductive hypothesis, all
        such $x$ are good, and $g$ is orderly on good values by Lemma
        \ref{ord_connex_preserve}.

        Thus, under the assumption that $n$ is not good, $g$ is an order
        isomorphism from $\B_n$ to $\A$, which is impossible, so all $n : \B$
        are good.
    \end{subproof}
    At this point, most parts of the proof are complete.  Because all values are
    good, $g$ is an injective orderly function from $\B$ to $\A$.  We only need
    to prove the final condition to show that $g$ is an ordinal inequality
    function.  Let $b : \A$ with $g(a) \neq b$ for all $a : \B$, and let $a :
    \B$.  We must prove that $g(a) < b$.  The proof will be by transfinite
    induction on $a$.  The inductive hypothesis states that for all $c < a$, we
    have $g(c) < b$.  This means that $b \in G_a$.  Now since $g(a) \neq b$, we
    only need to prove that $g(a) \leq b$.  By Lemma \ref{ord_connex_least},
    $g(a)$ is the least element of $G_a$, and since $b \in G_a$, $g(a) \leq b$
    as required.
\end{proof}

\begin{lemma} \label{ord_le_part}
    Let $f$ be an ordinal inequality functions from $\A$ to $\B$.  For all $x$
    and $y$ such that all $a < x$ implies $f(a) \neq y$, we have $f(x) \leq y$.
\end{lemma}
\begin{proof}
    Assume for a contradiction that $y < f(x)$.  For an $a : \A$, if $a < x$, we
    have $f(a) \neq y$ by assumption, and if $x \leq a$, we have $y < f(x) \leq
    f(a)$, so $y \neq f(a)$.  Thus, for all $a : \A$, we have $f(a) \neq y$, so
    because $f$ is an ordinal inequality function, we have $f(x) < y$.  This
    contradicts $y < f(x)$, so it must be the case that $f(x) \leq y$ as
    required.
\end{proof}

\begin{instance}
    The order on ordinals is antisymmetric.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be order types with ordinal inequality functions $f : \A
    \to \B$ and $g : \B \to \A$.  We will prove that $f$ itself is an order
    isomorphism.  It is already orderly and injective, so we only
    need to prove that it is surjective.  Let $x : \B$.  We will prove that
    $f(g(x)) = x$.  The proof will be by transfinite induction on $x$.  The
    inductive hypothesis states that for all $b < x$, $f(g(b)) = b$.

    We will now use Lemma \ref{ord_le_part} to prove that $f(g(x)) \leq x$.  So
    let $a < g(x)$.  We must prove that $f(a) \neq x$.  For a contradiction,
    assume that $f(a) = x$.  If $g(x) \leq a$, we would have a contradiction, so
    let's again use Lemma \ref{ord_le_part} to prove this.  So let $b < x$, and
    again for a contradiction assume that $g(b) = a$.  Then from $f(a) = x$ and
    $g(b) = a$, we have $f(g(b)) = x$.  $f(g(b)) = b$ by the inductive
    hypothesis, so $b = x$, contradicting $b < x$.

    All of these contradictions end up showing that, in fact, $f(g(x)) \leq x$.
    Again, we need to prove that $f(g(x)) = x$.  If $f(g(x)) \neq x$, we would
    have $f(g(x)) < x$, so by the inductive hypothesis we would have
    $f(g(f(g(x)))) = f(g(x))$, and since $f$ and $g$ are injective we have
    $f(g(x)) = x$ as required.
\end{proof}

We can now prove a simpler form of ordinal inequalities.

\begin{lemma} \label{ord_le_simpl}
    For all order types $\A$ and $\B$, if there exists an injective orderly
    function from $\A$ to $\B$, then $[\A] \leq [\B]$.
\end{lemma}
\begin{proof}
    Let $f$ be an injective orderly function from $\A$ to $\B$, and assume for a
    contradiction that $[\B] < [\A]$.  This means that there exists $x : \A$ and
    an order isomorphism $g : \B \to \A_x$.  Defining $h = g \circ f$, we have
    an injective orderly function from $\A$ to $\A_x$.

    Let $a$ be an arbitrary value in $\A$.  We will prove by transfinite
    induction that $a \leq h(a)$.  The inductive hypothesis states that for all
    $b < a$, we have $b \leq h(b)$.  Now if $h(a) < a$, we would have $h(a) \leq
    h(h(a))$ by the inductive hypothesis, so $a \leq h(a)$ by $h$ being
    equivalently orderly.  $h(a) < a$ contradicts $a \leq h(a)$, proving that $a
    \leq h(a)$ for all $a$.

    By the previous paragraph, we have $x \leq h(x)$.  But by definition, $h(x)
    < x$.  This is a contradiction, showing that our original assumption that
    $[\B] < [\A]$ is wrong.  Thus, $[\A] \leq [\B]$.
\end{proof}

With this lemma, we no longer need to prove that the ordinal inequality
condition holds when trying to prove that one ordinal is less than or equal to
another.

\begin{instance}
    The order on ordinals is transitive.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types with ordinal inequality functions $f
    : \A \to \B$ and $g : \B \to \C$.  By Lemma \ref{ord_le_simpl}, We need to
    find an injective orderly function from $\A$ to $\C$.  By instances
    \ref{inj_comp} and \ref{homo_le_compose}, $g \circ f$ is such a function.
\end{proof}

Because we can't have $\Type_n : \Type_n$, it is impossible to make an ordinal
out of ordinals.  However, in many of the cases where we would want to make an
ordinal out of ordinals, using the following function works well enough.

\begin{definition} \label{ord_type_init_ord}
    Given an order type $\A$, define a function $f_\A : \A \to \Ord_{[\A]}$ that
    takes $a : \A$ to $[\A_a]$.  This is well-defined by Theorem
    \ref{ord_lt_simpl}.
\end{definition}

\begin{theorem}
    For all order types $\A$, $f_\A$ is surjective.
\end{theorem}
\begin{proof}
    Let $[\Y]$ be an ordinal less than $[\A]$.  This means that there exists
    some $x : \A$ such that $\Y$ is order isomorphic to $\A_x$.  Then $f_\A(x) =
    [\A_x] = [\Y]$ as required.
\end{proof}

\begin{theorem}
    For all order types $\A$, $f_\A$ is orderly.
\end{theorem}
\begin{proof}
    Let $a$ and $b$ be values in $\A$ such that $a \leq b$.  Then we must prove
    that $f_\A(a) \leq f_\A(b)$.  By Lemma \ref{ord_le_simpl}, we need to find
    an injective orderly function from $\A_a$ to $\A_b$.  Because $a \leq b$,
    everything in $\A_a$ is in $\A_b$, so the identity function is such a
    function.
\end{proof}

\begin{lemma} \label{ords_lt_wo}
    For all ordinals $\alpha$, the initial segment of $\alpha$ is well-ordered.
\end{lemma}
\begin{proof}
    Let $\A$ be an order type, let $\beta < [\A]$, and let $S$ be a set on
    $\Ord_{[\A]}$, the initial segment of $[\A]$, with $\beta \in S$.  Define a
    new set $S' = \{a \A \mid f_\A(a) \in S\}$.  Because $f_\A$ is surjective,
    there exists some $x : \A$ such that $f_\A(a) = \beta$.  Since $\beta \in
    S$, we have $x \in S'$.  Thus, because $\A$ is well-ordered, $S'$ has a
    least element $m$.  We will prove that $f_\A(m)$ is the least element of
    $S$.  $f_\A(m) \in S$ since $m \in S'$.  To prove that it's the least
    element in $S$, let $\gamma$ be an ordinal less than $[\A]$ that is in $S$.
    Since $f_\A$ is surjective, there exists some $z$ such that $f_\A(z) =
    \gamma$.  Then $z \in S'$, so $m \leq z$ because $m$ is the least element of
    $S'$.  Because $f_\A$ is orderly, $f_\A(m) \leq f_\A(z) = \gamma$, showing
    that $f_\A(m)$ is the least element of $S$.
\end{proof}

\begin{instance}
    The order on ordinals is a well order.
\end{instance}
\begin{proof}
    Let $S$ be a set of ordinals, and let $\alpha \in S$.  If $\alpha$ is the
    least element of $S$ then we're done, so assume that $\alpha$ is not the
    least element of $S$.  Then this means that there exists some ordinal $\beta
    < \alpha$ such that $\beta \in S$.  Now define a set $S' = \{\gamma \in
    \Ord_\alpha \mid \gamma \in S\}$.  Since $\beta \in S'$, by Lemma
    \ref{ords_lt_wo} $S'$ has a least element $\mu < \alpha$.  We will prove
    that $\mu$ is the least element of $S$ as well.  $\mu$ is already an element
    of $S$ by virtue of being in $S'$, so we just need to prove that it's the
    least element of $S$.  So let $y \in S$.  If $y < \alpha$, Then $y \in S'$,
    and since $\mu$ is the least element of $S'$, $\mu \leq S'$.  If $y \geq
    \alpha$, then since $\mu < \alpha$, we have $\mu < y$.  Either way, $\mu
    \leq y$, showing that $\mu$ is the least element of $S$.
\end{proof}

Thus, we can now perform transfinite induction and recursion on the ordinals.
However, given that not all sets of ordinals have a supremum, the use of
transfinite recursion seems to be severely limited.  However, if we first
develop some of the theory of cardinals, we will find a way around this issue,
making transfinite recursion of ordinals as powerful as it is in other
foundations.

\section{Construction of the Cardinals}

The construction of the cardinals is similar to the construction of the
ordinals.

\begin{definition}
    Define a relation $\sim$ on types where $\A \sim \B$ is defined to mean that
    there exists a bijective function from $\A$ to $\B$.
\end{definition}

\begin{lemma}
    The relation $\sim$ is an equivalence relation.
\end{lemma}
\begin{proof}
    For reflexivity, the identity function is bijective, for symmetry, the
    inverse of a bijective function is bijective, and for transitivity, the
    composition of two bijective functions is bijective.
\end{proof}

\begin{definition}
    Define the type $\Card$ to be the quotient of all types by $\sim$.
\end{definition}

Like the ordinals, the cardinals are a type that contains other types, so if the
types used to build the cardinals are of type $\Type_n$, the cardinals are of
type $\Type_{n+1}$.  This solves the naive set theory paradoxes in the same way
as with the ordinals, and also introduces the same issues as before.  Again, we
will solve these issues a little later.

\begin{definition}
    Given a type $\A$, we will use the notation $|\A|$ to mean the cardinality
    of $\A$, that is, the equivalence class of $\A$.
\end{definition}

We can also relate the cardinals to the ordinals in a few ways.

\begin{lemma}
    For all order types $\A$ and $\B$, if $\A \sim \B$ in the ordinal sense,
    then $|\A| = |\B|$.
\end{lemma}
\begin{proof}
    Because $\A \sim \B$, we have an order isomorphism between $\A$ and $\B$.
    Order isomorphisms are bijective, meaning that $|\A| = |\B|$.
\end{proof}

\begin{definition}
    Define a function from the ordinals to the cardinals given by Theorem
    \ref{unary_op_ex} and the previous lemma.  At the possible risk of abusing
    notation, denote this function with $|\alpha|$ for a given ordinal $\alpha$.
\end{definition}

\begin{lemma}
    For all cardinals $\kappa$, there exists an ordinal $\alpha$ such that
    $|\alpha| = \kappa$.
\end{lemma}
\begin{proof}
    Let $\A$ be a type.  By the well-ordering theorem, $\A$ can be well-ordered.
    Then the ordinal $[\A]$ is such that $|[\A]| = |\A|$ as required.
\end{proof}

\begin{definition}
    Define a function from the cardinals to the ordinals given by the least
    ordinal satisfying the result of the previous theorem.  Denote this function
    $\lfloor \kappa \rfloor$ for a given cardinal $\kappa$.
\end{definition}

\begin{theorem} \label{card_to_initial_ord_to_card_eq}
    For all cardinals $\kappa$, we have $|\lfloor \kappa \rfloor| = \kappa$.
\end{theorem}
\begin{proof}
    This is true by definition.
\end{proof}

\begin{instance}
    The function $\lfloor \kappa \rfloor$ is injective.
\end{instance}
\begin{proof}
    Let $\kappa$ and $\mu$ be cardinals such that $\lfloor \kappa \rfloor =
    \lfloor \mu \rfloor$.  Then we can take the cardinality of both sides to get
    $|\lfloor \kappa \rfloor| = |\lfloor \mu \rfloor|$.  By Theorem
    \ref{card_to_initial_ord_to_card_eq}, we have $\kappa = \mu$.
\end{proof}

\begin{theorem} \label{ord_to_card_to_initial_ord_le}
    For all ordinals $\alpha$, we have $\lfloor|\alpha|\rfloor \leq \alpha$.
\end{theorem}
\begin{proof}
    This follows directly from $\lfloor|\alpha|\rfloor$ being the smallest
    ordinal equivalent to $|\alpha|$.
\end{proof}

\section{Ordering Cardinals}

\begin{definition}
    Let $\A$ and $\B$ be types.  Then we say that $\A \leqq \B$ if there exists
    an injective function from $\A$ to $\B$.
\end{definition}

\begin{lemma}
    The relation $\leqq$ is well-defined.
\end{lemma}
\begin{proof}
    Let $\A$, $\B$, $\C$, and $\D$ be types with bijective functions $f : \A \to
    \B$ and $g : \C \to \D$, and an injective function $h : \A \to \C$.  Then
    because the composition of injective functions is injective, the function $g
    \circ h \circ f^{-1}$ is an injective function from $\B$ to $\D$.
\end{proof}

\begin{instance}
    Define order in the cardinals as the operation obtained by applying Theorem
    \ref{binary_op_ex} to the previous lemma.
\end{instance}

\begin{instance}[Schr\"oder-Bernstein]
    The order on the cardinals is antisymmetric.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be types with injective functions $f : \A \to \B$ and $g :
    \B \to \A$.  We will now make several definitions.  First, we will say that
    a $b : \B$ is \textit{lonely} if $f(a) \neq b$ for all $a$.  We say that a
    value $b_0 : \B$ is a descendant of a value $b_1 : \B$ if there exists an
    $n$ such that $b_1 = (f \circ g)^n(b_0)$.  We will say that a value $a : \A$
    has an ancestor if there exists a lonely $b$ such that $b$ is a descendant
    of $f(a)$.

    First, we will prove that for every $a$ that has an ancestor, there exists
    some $c : \B$ such that $g(c) = a$.  Because $a$ has an ancestor, there
    exsits some lonely $b : \B$ and natural number $n$ with $f(a) = (f \circ
    g)^n(b)$.  If $n = 0$, we would have $f(a) = b$, contradicting $b$ being
    lonely, so this case is impossible.  If $n \neq 0$, we have $f(a) = f(g((f
    \circ g)^{n-1}(b)))$, and by injectivity of $f$ we have $a = g((f \circ
    g)^{n-1}(b))$, showing that $(f \circ g)^{n-1}(b)$ is the value we are
    looking for.  Either way, we have proven that for every $a$ that has an
    ancestor, there exists some $c : \B$ such that $g(c) = a$.

    Define a new function $p$ that takes in an $a : \A$ that has an ancestor and
    produces the parent of $a$ as guaranteed by the previous paragraph.  Now
    define a function $h : \A \to \B$ given by
    \[
        h(a) = \begin{cases}
            p(a) &\text{if $a$ has an ancestor} \\
            f(a) &\text{otherwise.}
        \end{cases}
    \]
    We will now prove that $h$ is bijective, proving the theorem.

    For injectivity, let $a_1$ and $a_2$ be such that $h(a_1) = h(a_2)$.  We
    need to prove that $a_1 = a_2$.  We have three cases: when $a_1$ and $a_2$
    both have ancestors, when neither have an ancestor, and when one has an
    ancestor and the other doesn't.
    \begin{case} \textit{$a_1$ and $a_2$ both have ancestors.}
        We now have $p(a_1) = p(a_2)$.  Applying $g$ to both sides, we get
        $g(p(a_1)) = g(p(a_2))$.  By the definition of $p$, we get $a_1 = a_2$
        as required.
    \end{case}
    \begin{case} \textit{One of $a_1$ and $a_2$ have an ancestor, and the other
        doesn't.}
        Without loss of generality, assume that $a_1$ has an ancester and $a_2$
        does not.  Then we have $p(a_1) = f(a_2)$.  Applying $g$ to both sides
        and using the definition of $p$, we get $a_1 = g(f(a_2))$.  Because
        $a_1$ has an ancestor and $a_1 = g(f(a_2))$, there exists a lonely $b$
        and a natural number $n$ such that $f(g(f(a_2))) = (f \circ g)^n(b)$.
        Now if $n = 0$, we would have $f(g(f(a_2))) = b$, contradicting $b$
        being lonely.  If $n \neq 0$, then we would have $f(g(f(a_2))) = f(g((f
        \circ g)^{n-1}(b)))$, which by injectivity means that $f(a_2) = (f \circ
        g)^{n-1}(b)$.  This means that $a_2$ has an ancestor, showing that this
        case is actually impossible.
    \end{case}
    \begin{case} \textit{Neither $a_1$ or $a_2$ have an ancestor.}
        We now have $f(a_1) = f(a_2)$, so by injectivity we have $a_1 = a_2$ as
        required.
    \end{case}

    For surjectivity, let $y : \B$.  There will be two cases: when there exists
    a lonely $b$ such that $y$ is a descendant of $b$, or when no such $b$
    exists.
    \setcounter{case}{0}
    \begin{case} \textit{There exists a lonely $b$ such that $y$ is a descendant
        of $b$.}
        Because $y$ is a descendant of $b$, there exists an $n$ such that $y =
        (f \circ g)^n(b)$.  Then $f(g(y)) = (f \circ g)^{n+1}(b)$, showing that
        $g(y)$ has an ancestor.  Thus, $h(g(y)) = p(g(y)) = y$ as required.
    \end{case}
    \begin{case} \text{There does not exist a lonely $b$ such that $y$ is a
        descendent of $b$.}
        In particular, since $y$ is trivially a descendent of itself, $y$ must
        be not lonely.  This implies that there exists an $a$ with $f(a) = y$.
        Then by the assumption of this case we know that there does not exist a
        lonely $b$ such that $f(a)$ is a descendent of $b$, which is precisely
        the statement that $a$ has no ancestor.  Thus $h(a) = f(a) = y$ as
        required.
    \end{case}
\end{proof}

The order of the cardinals and the order of the ordinals are related in many
ways.

\begin{theorem} \label{ord_to_card_le}
    For all ordinals $\alpha$ and $\beta$, if $\alpha \leq \beta$, then
    $|\alpha| \leq |\beta|$.
\end{theorem}
\begin{proof}
    Let $\A$ and $\B$ be order types representing $\alpha$ and $\beta$
    respectively.  By $\alpha \leq \beta$, we have an ordinal inequality
    function from $\A$ to $\B$.  Ordinal inequality functions are injective,
    proving that $|\alpha| \leq |\beta|$ as well.
\end{proof}

\begin{theorem} \label{card_to_initial_ord_le}
    For all cardinals $\kappa$ and $\mu$, if $\lfloor \kappa \rfloor \leq
    \lfloor \mu \rfloor$, then $\kappa \leq \mu$.
\end{theorem}
\begin{proof}
    From the previous theorem, we have $|\lfloor \kappa \rfloor| \leq |\lfloor
    \mu \rfloor|$, and the result follows directly from Theorem
    \ref{card_to_initial_ord_to_card_eq}.
\end{proof}

We can now prove the last of the fundamental properties of the order on
cardinals.

\begin{instance}
    The order on the cardinals is a well order.
\end{instance}
\begin{proof}
    Let $S$ be a nonempty set of cardinals.  Define a set $S'$ on the ordinals
    given by $\{\alpha : \Ord \mid \exists \kappa \in S, \lfloor \kappa \rfloor
    = \alpha\}$.  Then $S'$ is nonempty because $S$ in nonempty.  Thus, by the
    well-ordering of the ordinals, $S'$ has a least element $\alpha$, so there
    is some $\kappa \in S$ with $\lfloor \kappa \rfloor = \alpha$.  We will
    prove that $\kappa$ is the least element of $S$.  Let $\mu \in S$.  Then
    $\lfloor \mu \rfloor \in S'$, so by $\alpha$ being the least element of
    $S'$, we have $\lfloor \kappa \rfloor \leq \lfloor \mu \rfloor$.  Then by
    Theorem \ref{card_to_initial_ord_le}, we get $\kappa \leq \mu$, proving that
    $\kappa$ is the least element of $S$.
\end{proof}

Recall that antisymmetry and the well ordering property imply connexivity and
transitivity.  Thus, the cardinals are a well-ordered type.

\begin{instance}
    The function $\lfloor \kappa \rfloor$ is orderly.
\end{instance}
\begin{proof}
    Assume that we have cardinals $\kappa$ and $\mu$ such that $\kappa \leq
    \mu$.  For a contradiction, assume that $\lfloor \mu \rfloor < \lfloor
    \kappa \rfloor$.  Then by Theorem \ref{card_to_initial_ord_le}, we have $\mu
    \leq \kappa$, and by antisymmetry we have $\kappa = \mu$.  However, this
    contradicts $\lfloor \mu \rfloor < \lfloor \kappa \rfloor$, so we must have
    $\lfloor \kappa \rfloor \leq \lfloor \mu \rfloor$ as required.
\end{proof}

Because $\lfloor \kappa \rfloor$ is injective, this means that it also is
equivalently orderly and strictly orderly.

\begin{theorem} \label{ord_to_card_lt}
    For all ordinals $\alpha$ and $\beta$, if $|\alpha| < |\beta|$, then $\alpha
    < \beta$.
\end{theorem}
\begin{proof}
    This is just the contrapositive of Theorem \ref{ord_to_card_le}.
\end{proof}

\begin{theorem} \label{card_lt_ex}
    For all types $\U$ and $\V$, if $|\U| < |\V|$, then for all functions $f :
    \U \to \V$, there exists a $y$ such that for all $x$, $f(x) \neq y$.
\end{theorem}
\begin{proof}
    Assume the opposite, which is precisely the statement that an surjective
    function $f : \U \to \V$ exists.  Then by the partition principle (Theorem
    \ref{partition_principle}), we have an injective function from $\V$ to $\U$,
    contradicting $|\U| < |\V|$.
\end{proof}

\begin{theorem}[Cantor's Theorem] \label{power_set_bigger}
    For all types $\A$, we have $|\A| < |\A \to \Prop|$.
\end{theorem}
\begin{proof}
    First, to prove that $|\A| \leq |\A \to \Prop|$, let $f : \A \to (\A \to
    \Prop)$ be defined by $f(a) = \{a\}$.  This function is injective because
    $\{a\} = \{b\}$ implies that $a = b$.  To prove that $|\A| \neq |\A \to
    \Prop|$, assume for a contradiction that some bijective function $f : \A \to
    (\A \to \Prop)$ exists.  Define a set $B : \A \to \Prop$ given by $\{x : \A,
    x \notin f(x)\}$.  Because $f$ is surjective, there exists some $x$ such
    that $f(x) = B$.  This means that $f(x)(x) = B(x)$, or more simply, that $x
    \in f(x)$ if and only if $x \notin f(x)$.  This is a contradiction, showing
    that no such bijection can exist.
\end{proof}

\begin{theorem} \label{card_unbounded}
    The cardinals are unbounded, that is, for any cardinal $\kappa$, there
    exists a cardinal $\mu$ such that $\kappa < \mu$.
\end{theorem}
\begin{proof}
    This follows directly from the previous theorem.
\end{proof}

\end{document}
