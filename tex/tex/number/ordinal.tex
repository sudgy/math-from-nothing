\documentclass[../../math.tex]{subfiles}
\externaldocument{../../math.tex}
\externaldocument{../basics/foundations}
\externaldocument{../basics/set}
\externaldocument{../basics/elementary_algebra}

\begin{document}

\setcounter{chapter}{8}

\chapter{Cardinals and Ordinals}

The cardinals and ordinals are concepts that extend the natural numbers to
infinite values in two different ways.  Traditionally, the cardinals were
conceived of as equivalence classes of types under the existence of bijections,
and the ordinals as equivalence classes of well-ordered types under the
existence of order isomorphisms.  However, under naive set theory, these
definitions are inconsistent due to problems with things like the set of all
ordinals or the set of all cardinals.

In modern set theories such as ZFC, ordinals are instead taken to be particular
sets, with cardinals being defined as particular ordinals.  In ZFC, there is no
``set of all ordinals'' or ``set of all cardinals'', which removes the
inconsistencies of the original definition.

However, in the foundations used here, there is another way around the
inconsistencies which allows us to define cardinals and ordinals using the
original definitions.  The exact way around the inconsistencies involves the
universe hierarchy, and some of the theorems here will need to be explicit about
what universe certain types are in.

While I wanted to separate the cardinals and ordinals into their own chapters,
the development of the theory of each one is reliant on the other, so this isn't
really feasible.  Instead, the basics of ordinals will be developed, then the
basics of cardinals, which will allow for the rest of the theory of each type to
be developed separately.

\section{Construction of the Ordinals}

\begin{definition}
    We will say that an order type is a type $\U$ that has a well order.
\end{definition}

In general, people often use ``order type'' to refer to more than just well
orders, but the concept is mainly useful for well orders, so for the sake of
simplicity we will consider order types to only be well orders.  Remember that
to prove that a type is well-ordered, it suffices to prove that the relation is
antisymmetric and that every nonempty subset has a least element.

\begin{definition}
    Define a relation $\sim$ on order types where $\A \sim \B$ is defined to
    mean that there exists an order isomorphism between $\A$ and $\B$, that is,
    a function $f$ that is bijective and orderly.  Note that these conditions
    also imply that $f$ is equivalently orderly and strictly equivalently
    orderly.
\end{definition}

\begin{lemma}
    The relation $\sim$ is an equivalence relation.
\end{lemma}
\begin{proof}
    \textit{Reflexivitity.}  The identity function is an order isomorphism.

    \textit{Symmetry.}  Assume that there is an order isomorphism $f$ from $\A$
    to $\B$.  Then its inverse $f^{-1}$ is bijective, and when $a \leq b$, we
    have $f(f^{-1}(a)) \leq f(f^{-1}(b))$, and because $f$ is an order
    isomorphism, $f^{-1}(a) \leq f^{-1}(b)$, so $f^{-1}$ is an order isomorphism
    from $\B$ to $\A$.

    \textit{Transitivity.}  Given three order types $\A$, $\B$, and $\C$ with
    order isomorphisms $f : \A \to \B$ and $g : \B \to \C$, $g \circ f$ is an
    order isomorphism from $\A$ to $\C$.
\end{proof}

\begin{definition}
    Define the type $\Ord$ to be the quotient of all order types by $\sim$.
\end{definition}

Note that because $\Ord$ is a type that contains order types, $\Ord$ must be
higher on the universe hierarchy than order types are.  In particular, if order
types live in $\Type_n$, then $\Ord$ lives in $\Type_{n+1}$.  This means that it
is impossible to build an order type out of ordinals, so it is also impossible
to build an ordinal out of a set of ordinals.  So while there is a type of all
ordinals, it lives in a different universe than order types themselves, removing
the inconsistencies of naive set theory.  However, being unable to create
ordinals out of sets of ordinals entirely seems to be a major restriction on the
theory.  We will find a way around this restriction in a few sections after
developing the theory of cardinals for a bit.

\section{Ordering Ordinals}

It turns out that the ordinals themselves are well ordered.  This ordering is so
important that unlike the previous types that have been developed, this ordering
will be developed before the other operations.  Most sources describe the order
on ordinals using strict inequalities, but describing them using non-strict
inequalities can be useful at times too and is the default way to describe
orderings in the Coq code, so I will first describe the order on ordinals using
non-strict inequalities.

\begin{definition}
    Let $\A$ and $\B$ be order types.  Then we say that $f : \A \to \B$ is an
    ordinal inequality function if it is injective, orderly, and if for all $b :
    \B$ with $f(a) \neq b$ for all $a : \A$, we have $f(a) < b$ for all $a :
    \A$.
\end{definition}

\begin{definition}
    Given two order types $\A$ and $\B$, we will say that $\A \leqq \B$ if there
    exists an ordinal inequality function from $\A$ to $\B$.
\end{definition}

\begin{lemma}
    The relation $\leqq$ is well-defined under the relation $\sim$.
\end{lemma}
\begin{proof}
    Let $A$, $B$, $C$, and $D$ be order types with order isomorphisms $f : A \to
    B$ and $g : C \to D$, and let $h$ be an ordinal inequality function from $A$
    to $C$.  We must prove that there exists an ordinal inequality function from
    $B$ to $D$.  We will prove that $g \circ h \circ f^{-1}$ is such a function.

    \noindent \textit{Injectivity.}
    $g$, $h$, and $f^{-1}$ are all injective, so by Instance \ref{inj_comp}, $g
    \circ h \circ f^{-1}$ is as well.

    \noindent \textit{Orderly.}
    Let $a \leq b$.  Then $f(f^{-1}(a)) \leq f(f^{-1}(b))$, and because $f$ is
    orderly, $f^{-1}(a) \leq f^{-1}(b)$.  Then because $g$ and $h$ are orderly,
    $g(h(f^{-1}(a))) \leq g(h(f^{-1}(b)))$, showing that $g \circ h \circ
    f^{-1}$ is orderly.

    \noindent \textit{Ordinal inequality condition.}
    Let $b : D$ be such that there is no $a : B$ such that $g(h(f^{-1}(a))) =
    b$.  This means that there is no $x : A$ such that $g(h(f^{-1}(f(x)))) =
    g(h(x)) = b = g(g^{-1}(b))$, so by the injectivity of $g$ there is no $x :
    A$ such that $h(x) = g^{-1}(b)$.  Because $h$ is an ordinal inequality
    function, this means that for all $x : A$, $h(x) < g^{-1}(b)$.  Thus, for
    any $a : B$, we have $h(f^{-1}(a)) < g^{-1}(b)$, and applying $g$ to both
    sides gives $g(h(f^{-1}(a))) < b$.
\end{proof}

\begin{instance}
    Define order in the ordinals as the operation obtained by applying Theorem
    \ref{binary_op_ex} to the previous lemma.
\end{instance}

As the following theorem shows, this order is equivalent to the usual definition
of the order on ordinals.

\begin{theorem} \label{ord_lt_simpl}
    For two order types $\A$ and $\B$, $[\A] < [\B]$ iff there exists a $x : \B$
    such that $\A \sim \B_x$, the initial segment of $x$ in $\B$.
\end{theorem}
\begin{proof}
    First assume that $[\A] < [\B]$.  This means that there exists an ordinal
    inequality function $f : \A \to \B$, but no order isomorphism from $\A$ to
    $\B$.  First, there exists an $x' : \B$ such that $f(a) \neq x'$ for all $a
    : \A$.  For if there wasn't such an $x'$, $f$ would be surjective, meaning
    that it is an order isomorphism from $\A$ to $\B$, which is impossible.  Now
    define $x$ to be the least value in $B$ such that $f(a) \neq x$ for all $a :
    \A$.  Because $f$ is an ordinal inequality function, this means that $f(a) <
    x$ for all $a : \A$.  Thus, $f$ can be considered to be a function from $\A$
    to $\B_x$.  $f$ is surjective, because for any $y < x$, by the minimality of
    $x$, there must be an $a : \A$ such that $f(y) = a$.  Thus, $f$ is an order
    isomorphism from $\A$ to $\B_x$.

    Now assume that there exists an $x : \B$ and an order isomorphism $f : \A
    \to \B_x$.  We must prove that $[\A] \leq [\B]$, and that $[\A] \neq [\B]$.

    For $[\A] \leq [\B]$, $f$ itself is already injective and orderly, so all
    that's left to prove is that for all $b : \B$, if $f(a) \neq b$ for all $a$,
    then $f(a) < b$ for all $a$.  So let $b$ be such that $f(a) \neq b$ for all
    $a$, and let $a : \A$.  If $b \leq f(a)$, because $f(a) < x$ by definition
    of $f$, we have $b < x$.  Thus, $b$ is in $\B_x$, so by surjectivity of $f$
    there is some $z$ such that $f(z) = b$.  This however contradicts the
    definition of $b$.  Thus, we must have $f(a) < b$, showing that $f$ is an
    ordinal inequality function.

    For $[\A] \neq [\B]$, assume for a contradiction that $\B \sim \A$.  Then
    there is an order isomorphism $g : B \to A$.  Then we can prove by
    transfinite induction that for all $a : \B$, $a \leq f(g(a))$.  The
    inductive hypothesis states that for all $b < a$, $b \leq f(g(b))$.  Now if
    $f(g(a)) < a$, we would have $f(g(a)) < f(g(f(g(a))))$, and because $f$ and
    $g$ are orderly, we have $a < f(g(a))$.  This contradicts $f(g(a)) < a$, so
    we must have $a \leq f(g(a))$ for all $a : \B$.  This implies that $x \leq
    f(g(x))$, but by the definition of $f$ we must also have $f(g(x)) < x$,
    which is a contradiction.  Thus, we must have $[\A] \neq [\B]$.
\end{proof}

Even though we can normally get away with only proving antisymmetry and the
well-ordering property to prove that a type is well ordered, the proof that the
ordinals are well-ordered here uses the fact that the order is transitive and
connex, so those will have to be proven on their own anyway.

\begin{instance}
    The order on ordinals is connex.
\end{instance}

\begin{proof}
    The proof of this instance is rather involved and will be split up into
    several sub-definitions and lemmas.

    It suffices to prove that for all ordinals $\alpha$ and $\beta$, if $\alpha
    \nless \beta$, then $\beta \leq \alpha$.  Let $\A$ be an order type of
    $\alpha$ and $\B$ be an order type of $\beta$.  Then we know that $\A$ is
    not order isomorphic to an initial segment of $\B$.
    \begin{definition}
        Define a function $f : (p : \B) \to (\B_p \to \A) \to \A$ with $f(p,
        g)$ given by:
        \begin{itemize}
            \item If there exists an $a$ such that $g(x) < a$ for all $x < p$,
                define $f(p, g)$ to be the least such $a$.
            \item Otherwise, $f(p, g)$ will be a random throwaway value in $\A$.
                Such a value is guaranteed to exist since in this context, $p$ is a
                value in $\B$, so if $\A$ was empty, we would have $[\A] < [\B]$,
                which is impossible by assumption.
        \end{itemize}
        By transfinite recursion, there exists a function $g : \B \to \A$ such
        that for all $n : \B$, we have $g(n) = f(n, g \uparrow n)$.
    \end{definition}
    We will prove that $g$ is an ordinal inequality function, proving that
    $\beta \leq \alpha$.

    \begin{definition}
        Given an $n : \B$, define $G_n$ to be the set $\{z : \A \mid \forall x <
        n, g(x) < z\}$.
    \end{definition}

    \begin{definition}
        Say that a value $n : \B$ is \textit{good} if $G_n$ is nonempty.
    \end{definition}
    We will now prove several properties of $g$ and good values:

    \begin{lemma} \label{ord_connex_least}
        For all good $n$, $g(n)$ is the least element of $G_n$.
    \end{lemma}
    \begin{subproof}
        Because $n$ is good, $g(n) = f(n, g \uparrow n)$ takes the first branch
        in the definition of $f$, which produces exactly the least element of
        $G_n$.
    \end{subproof}

    \begin{lemma} \label{ord_connex_preserve}
        $g$ is strictly orderly for good values.
    \end{lemma}
    \begin{subproof}
        This follows directly from the previous lemma.
    \end{subproof}

    \begin{lemma} \label{ord_connex_inj}
        $g$ is injective for good values.
    \end{lemma}
    \begin{subproof}
        Let $a$ and $b$ be good values such that $g(a) = g(b)$.  For a
        contradiction, assume that $a \neq b$, and without loss of generality,
        assume that $a < b$.  Because $g$ is stirctly orderly for good values,
        we have $g(a) < g(b)$, contradicting $g(a) = g(b)$.  Thus, $a = b$.
    \end{subproof}

    \begin{lemma} \label{ord_connex_all_good}
        All $n : \B$ are good.
    \end{lemma}
    \begin{subproof}
        The proof will be by transfinite induction on $n$.  The inductive
        hypothesis states that for all $b < n$, $b$ is good, and we must prove
        that $n$ is good.  For a contradiction, assume that $n$ is not good.  We
        will prove that $\A$ is isomorphic to $\B_n$, contradicting the
        hypothesis that $[\A] \nless [\B]$.  The isomorphism from $\B_n$ to $\A$
        will be $g$ itself.

        $g$ is injective for all $x < n$ because by the inductive hypothesis,
        all such $x$ are good, and $g$ is injective on good values by Lemma
        \ref{ord_connex_inj}.

        For surjectivity, let $x : \A$.  For a contradiction, assume that there
        does not exist any $y : \B_n$ such that $g(y) = x$.  We will prove that
        under this assumption, $n$ is in fact good, contradicting our previous
        assumption.  To prove that $n$ is good, we will prove that for all $a <
        n$, we have $g(a) < x$.  This will be proven using a second transfinite
        induction, this time on $a$: the second inductive hypothesis states that
        for all $b < a$ such that $b < n$ (note that this second condition is
        redundant since $a < n$), we have $g(b) < x$.  This is equivalent to
        saying that $x \in G_a$.  We assumed earlier that $g(y) \neq x$ for all
        $y$, so we only need to prove that $g(a) \leq x$.  By the first
        inductive hypothesis, $a$ is good, so by Lemma \ref{ord_connex_least},
        $g(a)$ is the least element of $G_a$.  Since $x \in G_a$, we have $g(a)
        \leq x$, as required.

        $g$ is orderly for all $x < n$ because by the inductive hypothesis, all
        such $x$ are good, and $g$ is orderly on good values by Lemma
        \ref{ord_connex_preserve}.

        Thus, under the assumption that $n$ is not good, $g$ is an order
        isomorphism from $\B_n$ to $\A$, which is impossible, so all $n : \B$
        are good.
    \end{subproof}
    At this point, most parts of the proof are complete.  Because all values are
    good, $g$ is an injective orderly function from $\B$ to $\A$.  We only need
    to prove the final condition to show that $g$ is an ordinal inequality
    function.  Let $b : \A$ with $g(a) \neq b$ for all $a : \B$, and let $a :
    \B$.  We must prove that $g(a) < b$.  The proof will be by transfinite
    induction on $a$.  The inductive hypothesis states that for all $c < a$, we
    have $g(c) < b$.  This means that $b \in G_a$.  Now since $g(a) \neq b$, we
    only need to prove that $g(a) \leq b$.  By Lemma \ref{ord_connex_least},
    $g(a)$ is the least element of $G_a$, and since $b \in G_a$, $g(a) \leq b$
    as required.
\end{proof}

\begin{lemma} \label{ord_le_part}
    Let $f$ be an ordinal inequality functions from $\A$ to $\B$.  For all $x$
    and $y$ such that all $a < x$ implies $f(a) \neq y$, we have $f(x) \leq y$.
\end{lemma}
\begin{proof}
    Assume for a contradiction that $y < f(x)$.  For an $a : \A$, if $a < x$, we
    have $f(a) \neq y$ by assumption, and if $x \leq a$, we have $y < f(x) \leq
    f(a)$, so $y \neq f(a)$.  Thus, for all $a : \A$, we have $f(a) \neq y$, so
    because $f$ is an ordinal inequality function, we have $f(x) < y$.  This
    contradicts $y < f(x)$, so it must be the case that $f(x) \leq y$ as
    required.
\end{proof}

\begin{instance}
    The order on ordinals is antisymmetric.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be order types with ordinal inequality functions $f : \A
    \to \B$ and $g : \B \to \A$.  We will prove that $f$ itself is an order
    isomorphism.  It is already orderly and injective, so we only
    need to prove that it is surjective.  Let $x : \B$.  We will prove that
    $f(g(x)) = x$.  The proof will be by transfinite induction on $x$.  The
    inductive hypothesis states that for all $b < x$, $f(g(b)) = b$.

    We will now use Lemma \ref{ord_le_part} to prove that $f(g(x)) \leq x$.  So
    let $a < g(x)$.  We must prove that $f(a) \neq x$.  For a contradiction,
    assume that $f(a) = x$.  If $g(x) \leq a$, we would have a contradiction, so
    let's again use Lemma \ref{ord_le_part} to prove this.  So let $b < x$, and
    again for a contradiction assume that $g(b) = a$.  Then from $f(a) = x$ and
    $g(b) = a$, we have $f(g(b)) = x$.  $f(g(b)) = b$ by the inductive
    hypothesis, so $b = x$, contradicting $b < x$.

    All of these contradictions end up showing that, in fact, $f(g(x)) \leq x$.
    Again, we need to prove that $f(g(x)) = x$.  If $f(g(x)) \neq x$, we would
    have $f(g(x)) < x$, so by the inductive hypothesis we would have
    $f(g(f(g(x)))) = f(g(x))$, and since $f$ and $g$ are injective we have
    $f(g(x)) = x$ as required.
\end{proof}

We can now prove a simpler form of ordinal inequalities.

\begin{lemma} \label{ord_le_simpl}
    For all order types $\A$ and $\B$, if there exists an injective orderly
    function from $\A$ to $\B$, then $[\A] \leq [\B]$.
\end{lemma}
\begin{proof}
    Let $f$ be an injective orderly function from $\A$ to $\B$, and assume for a
    contradiction that $[\B] < [\A]$.  This means that there exists $x : \A$ and
    an order isomorphism $g : \B \to \A_x$.  Defining $h = g \circ f$, we have
    an injective orderly function from $\A$ to $\A_x$.

    Let $a$ be an arbitrary value in $\A$.  We will prove by transfinite
    induction that $a \leq h(a)$.  The inductive hypothesis states that for all
    $b < a$, we have $b \leq h(b)$.  Now if $h(a) < a$, we would have $h(a) \leq
    h(h(a))$ by the inductive hypothesis, so $a \leq h(a)$ by $h$ being
    equivalently orderly.  $h(a) < a$ contradicts $a \leq h(a)$, proving that $a
    \leq h(a)$ for all $a$.

    By the previous paragraph, we have $x \leq h(x)$.  But by definition, $h(x)
    < x$.  This is a contradiction, showing that our original assumption that
    $[\B] < [\A]$ is wrong.  Thus, $[\A] \leq [\B]$.
\end{proof}

With this lemma, we no longer need to prove that the ordinal inequality
condition holds when trying to prove that one ordinal is less than or equal to
another.

\begin{instance}
    The order on ordinals is transitive.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types with ordinal inequality functions $f
    : \A \to \B$ and $g : \B \to \C$.  By Lemma \ref{ord_le_simpl}, We need to
    find an injective orderly function from $\A$ to $\C$.  By instances
    \ref{inj_comp} and \ref{homo_le_compose}, $g \circ f$ is such a function.
\end{proof}

Because we can't have $\Type_n : \Type_n$, it is impossible to make an ordinal
out of ordinals.  However, in many of the cases where we would want to make an
ordinal out of ordinals, using the following function works well enough.

\begin{definition} \label{ord_type_init_ord}
    Given an order type $\A$, define a function $f_\A : \A \to \Ord_{[\A]}$ that
    takes $a : \A$ to $[\A_a]$.  This is well-defined by Theorem
    \ref{ord_lt_simpl}.
\end{definition}

\begin{theorem}
    For all order types $\A$, $f_\A$ is surjective.
\end{theorem}
\begin{proof}
    Let $[\Y]$ be an ordinal less than $[\A]$.  This means that there exists
    some $x : \A$ such that $\Y$ is order isomorphic to $\A_x$.  Then $f_\A(x) =
    [\A_x] = [\Y]$ as required.
\end{proof}

\begin{theorem}
    For all order types $\A$, $f_\A$ is orderly.
\end{theorem}
\begin{proof}
    Let $a$ and $b$ be values in $\A$ such that $a \leq b$.  Then we must prove
    that $f_\A(a) \leq f_\A(b)$.  By Lemma \ref{ord_le_simpl}, we need to find
    an injective orderly function from $\A_a$ to $\A_b$.  Because $a \leq b$,
    everything in $\A_a$ is in $\A_b$, so the identity function is such a
    function.
\end{proof}

\begin{lemma} \label{ords_lt_wo}
    For all ordinals $\alpha$, the initial segment of $\alpha$ is well-ordered.
\end{lemma}
\begin{proof}
    Let $\A$ be an order type, let $\beta < [\A]$, and let $S$ be a set on
    $\Ord_{[\A]}$, the initial segment of $[\A]$, with $\beta \in S$.  Define a
    new set $S' = \{a \A \mid f_\A(a) \in S\}$.  Because $f_\A$ is surjective,
    there exists some $x : \A$ such that $f_\A(a) = \beta$.  Since $\beta \in
    S$, we have $x \in S'$.  Thus, because $\A$ is well-ordered, $S'$ has a
    least element $m$.  We will prove that $f_\A(m)$ is the least element of
    $S$.  $f_\A(m) \in S$ since $m \in S'$.  To prove that it's the least
    element in $S$, let $\gamma$ be an ordinal less than $[\A]$ that is in $S$.
    Since $f_\A$ is surjective, there exists some $z$ such that $f_\A(z) =
    \gamma$.  Then $z \in S'$, so $m \leq z$ because $m$ is the least element of
    $S'$.  Because $f_\A$ is orderly, $f_\A(m) \leq f_\A(z) = \gamma$, showing
    that $f_\A(m)$ is the least element of $S$.
\end{proof}

\begin{instance}
    The order on ordinals is a well order.
\end{instance}
\begin{proof}
    Let $S$ be a set of ordinals, and let $\alpha \in S$.  If $\alpha$ is the
    least element of $S$ then we're done, so assume that $\alpha$ is not the
    least element of $S$.  Then this means that there exists some ordinal $\beta
    < \alpha$ such that $\beta \in S$.  Now define a set $S' = \{\gamma \in
    \Ord_\alpha \mid \gamma \in S\}$.  Since $\beta \in S'$, by Lemma
    \ref{ords_lt_wo} $S'$ has a least element $\mu < \alpha$.  We will prove
    that $\mu$ is the least element of $S$ as well.  $\mu$ is already an element
    of $S$ by virtue of being in $S'$, so we just need to prove that it's the
    least element of $S$.  So let $y \in S$.  If $y < \alpha$, Then $y \in S'$,
    and since $\mu$ is the least element of $S'$, $\mu \leq S'$.  If $y \geq
    \alpha$, then since $\mu < \alpha$, we have $\mu < y$.  Either way, $\mu
    \leq y$, showing that $\mu$ is the least element of $S$.
\end{proof}

Thus, we can now perform transfinite induction and recursion on the ordinals.
However, given that not all sets of ordinals have a supremum, the use of
transfinite recursion seems to be severely limited.  However, if we first
develop some of the theory of cardinals, we will find a way around this issue,
making transfinite recursion of ordinals as powerful as it is in other
foundations.

\section{Construction of the Cardinals}

The construction of the cardinals is similar to the construction of the
ordinals.

\begin{definition}
    Define a relation $\sim$ on types where $\A \sim \B$ is defined to mean that
    there exists a bijective function from $\A$ to $\B$.
\end{definition}

\begin{lemma}
    The relation $\sim$ is an equivalence relation.
\end{lemma}
\begin{proof}
    For reflexivity, the identity function is bijective, for symmetry, the
    inverse of a bijective function is bijective, and for transitivity, the
    composition of two bijective functions is bijective.
\end{proof}

\begin{definition}
    Define the type $\Card$ to be the quotient of all types by $\sim$.
\end{definition}

Like the ordinals, the cardinals are a type that contains other types, so if the
types used to build the cardinals are of type $\Type_n$, the cardinals are of
type $\Type_{n+1}$.  This solves the naive set theory paradoxes in the same way
as with the ordinals, and also introduces the same issues as before.  Again, we
will solve these issues a little later.

\begin{definition}
    Given a type $\A$, we will use the notation $|\A|$ to mean the cardinality
    of $\A$, that is, the equivalence class of $\A$.
\end{definition}

We can also relate the cardinals to the ordinals in a few ways.

\begin{lemma}
    For all order types $\A$ and $\B$, if $\A \sim \B$ in the ordinal sense,
    then $|\A| = |\B|$.
\end{lemma}
\begin{proof}
    Because $\A \sim \B$, we have an order isomorphism between $\A$ and $\B$.
    Order isomorphisms are bijective, meaning that $|\A| = |\B|$.
\end{proof}

\begin{definition}
    Define a function from the ordinals to the cardinals given by Theorem
    \ref{unary_op_ex} and the previous lemma.  At the possible risk of abusing
    notation, denote this function with $|\alpha|$ for a given ordinal $\alpha$.
\end{definition}

\begin{lemma}
    For all cardinals $\kappa$, there exists an ordinal $\alpha$ such that
    $|\alpha| = \kappa$.
\end{lemma}
\begin{proof}
    Let $\A$ be a type.  By the well-ordering theorem, $\A$ can be well-ordered.
    Then the ordinal $[\A]$ is such that $|[\A]| = |\A|$ as required.
\end{proof}

\begin{definition}
    Define a function from the cardinals to the ordinals given by the least
    ordinal satisfying the result of the previous theorem.  Denote this function
    $\lfloor \kappa \rfloor$ for a given cardinal $\kappa$.
\end{definition}

\begin{theorem} \label{card_to_initial_ord_to_card_eq}
    For all cardinals $\kappa$, we have $|\lfloor \kappa \rfloor| = \kappa$.
\end{theorem}
\begin{proof}
    This is true by definition.
\end{proof}

\begin{instance}
    The function $\lfloor \kappa \rfloor$ is injective.
\end{instance}
\begin{proof}
    Let $\kappa$ and $\mu$ be cardinals such that $\lfloor \kappa \rfloor =
    \lfloor \mu \rfloor$.  Then we can take the cardinality of both sides to get
    $|\lfloor \kappa \rfloor| = |\lfloor \mu \rfloor|$.  By Theorem
    \ref{card_to_initial_ord_to_card_eq}, we have $\kappa = \mu$.
\end{proof}

\begin{theorem} \label{ord_to_card_to_initial_ord_le}
    For all ordinals $\alpha$, we have $\lfloor|\alpha|\rfloor \leq \alpha$.
\end{theorem}
\begin{proof}
    This follows directly from $\lfloor|\alpha|\rfloor$ being the smallest
    ordinal equivalent to $|\alpha|$.
\end{proof}

\section{Ordering Cardinals}

\begin{definition}
    Let $\A$ and $\B$ be types.  Then we say that $\A \leqq \B$ if there exists
    an injective function from $\A$ to $\B$.
\end{definition}

\begin{lemma}
    The relation $\leqq$ is well-defined.
\end{lemma}
\begin{proof}
    Let $\A$, $\B$, $\C$, and $\D$ be types with bijective functions $f : \A \to
    \B$ and $g : \C \to \D$, and an injective function $h : \A \to \C$.  Then
    because the composition of injective functions is injective, the function $g
    \circ h \circ f^{-1}$ is an injective function from $\B$ to $\D$.
\end{proof}

\begin{instance}
    Define order in the cardinals as the operation obtained by applying Theorem
    \ref{binary_op_ex} to the previous lemma.
\end{instance}

\begin{instance}[Schr\"oder-Bernstein]
    The order on the cardinals is antisymmetric.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be types with injective functions $f : \A \to \B$ and $g :
    \B \to \A$.  We will now make several definitions.  First, we will say that
    a $b : \B$ is \textit{lonely} if $f(a) \neq b$ for all $a$.  We say that a
    value $b_0 : \B$ is a descendant of a value $b_1 : \B$ if there exists an
    $n$ such that $b_1 = (f \circ g)^n(b_0)$.  We will say that a value $a : \A$
    has an ancestor if there exists a lonely $b$ such that $b$ is a descendant
    of $f(a)$.

    First, we will prove that for every $a$ that has an ancestor, there exists
    some $c : \B$ such that $g(c) = a$.  Because $a$ has an ancestor, there
    exsits some lonely $b : \B$ and natural number $n$ with $f(a) = (f \circ
    g)^n(b)$.  If $n = 0$, we would have $f(a) = b$, contradicting $b$ being
    lonely, so this case is impossible.  If $n \neq 0$, we have $f(a) = f(g((f
    \circ g)^{n-1}(b)))$, and by injectivity of $f$ we have $a = g((f \circ
    g)^{n-1}(b))$, showing that $(f \circ g)^{n-1}(b)$ is the value we are
    looking for.  Either way, we have proven that for every $a$ that has an
    ancestor, there exists some $c : \B$ such that $g(c) = a$.

    Define a new function $p$ that takes in an $a : \A$ that has an ancestor and
    produces the parent of $a$ as guaranteed by the previous paragraph.  Now
    define a function $h : \A \to \B$ given by
    \[
        h(a) = \begin{cases}
            p(a) &\text{if $a$ has an ancestor} \\
            f(a) &\text{otherwise.}
        \end{cases}
    \]
    We will now prove that $h$ is bijective, proving the theorem.

    For injectivity, let $a_1$ and $a_2$ be such that $h(a_1) = h(a_2)$.  We
    need to prove that $a_1 = a_2$.  We have three cases: when $a_1$ and $a_2$
    both have ancestors, when neither have an ancestor, and when one has an
    ancestor and the other doesn't.
    \begin{case} \textit{$a_1$ and $a_2$ both have ancestors.}
        We now have $p(a_1) = p(a_2)$.  Applying $g$ to both sides, we get
        $g(p(a_1)) = g(p(a_2))$.  By the definition of $p$, we get $a_1 = a_2$
        as required.
    \end{case}
    \begin{case} \textit{One of $a_1$ and $a_2$ have an ancestor, and the other
        doesn't.}
        Without loss of generality, assume that $a_1$ has an ancester and $a_2$
        does not.  Then we have $p(a_1) = f(a_2)$.  Applying $g$ to both sides
        and using the definition of $p$, we get $a_1 = g(f(a_2))$.  Because
        $a_1$ has an ancestor and $a_1 = g(f(a_2))$, there exists a lonely $b$
        and a natural number $n$ such that $f(g(f(a_2))) = (f \circ g)^n(b)$.
        Now if $n = 0$, we would have $f(g(f(a_2))) = b$, contradicting $b$
        being lonely.  If $n \neq 0$, then we would have $f(g(f(a_2))) = f(g((f
        \circ g)^{n-1}(b)))$, which by injectivity means that $f(a_2) = (f \circ
        g)^{n-1}(b)$.  This means that $a_2$ has an ancestor, showing that this
        case is actually impossible.
    \end{case}
    \begin{case} \textit{Neither $a_1$ or $a_2$ have an ancestor.}
        We now have $f(a_1) = f(a_2)$, so by injectivity we have $a_1 = a_2$ as
        required.
    \end{case}

    For surjectivity, let $y : \B$.  There will be two cases: when there exists
    a lonely $b$ such that $y$ is a descendant of $b$, or when no such $b$
    exists.
    \setcounter{case}{0}
    \begin{case} \textit{There exists a lonely $b$ such that $y$ is a descendant
        of $b$.}
        Because $y$ is a descendant of $b$, there exists an $n$ such that $y =
        (f \circ g)^n(b)$.  Then $f(g(y)) = (f \circ g)^{n+1}(b)$, showing that
        $g(y)$ has an ancestor.  Thus, $h(g(y)) = p(g(y)) = y$ as required.
    \end{case}
    \begin{case} \text{There does not exist a lonely $b$ such that $y$ is a
        descendent of $b$.}
        In particular, since $y$ is trivially a descendent of itself, $y$ must
        be not lonely.  This implies that there exists an $a$ with $f(a) = y$.
        Then by the assumption of this case we know that there does not exist a
        lonely $b$ such that $f(a)$ is a descendent of $b$, which is precisely
        the statement that $a$ has no ancestor.  Thus $h(a) = f(a) = y$ as
        required.
    \end{case}
\end{proof}

The order of the cardinals and the order of the ordinals are related in many
ways.

\begin{theorem} \label{ord_to_card_le}
    For all ordinals $\alpha$ and $\beta$, if $\alpha \leq \beta$, then
    $|\alpha| \leq |\beta|$.
\end{theorem}
\begin{proof}
    Let $\A$ and $\B$ be order types representing $\alpha$ and $\beta$
    respectively.  By $\alpha \leq \beta$, we have an ordinal inequality
    function from $\A$ to $\B$.  Ordinal inequality functions are injective,
    proving that $|\alpha| \leq |\beta|$ as well.
\end{proof}

\begin{theorem} \label{card_to_initial_ord_le}
    For all cardinals $\kappa$ and $\mu$, if $\lfloor \kappa \rfloor \leq
    \lfloor \mu \rfloor$, then $\kappa \leq \mu$.
\end{theorem}
\begin{proof}
    From the previous theorem, we have $|\lfloor \kappa \rfloor| \leq |\lfloor
    \mu \rfloor|$, and the result follows directly from Theorem
    \ref{card_to_initial_ord_to_card_eq}.
\end{proof}

We can now prove the last of the fundamental properties of the order on
cardinals.

\begin{instance}
    The order on the cardinals is a well order.
\end{instance}
\begin{proof}
    Let $S$ be a nonempty set of cardinals.  Define a set $S'$ on the ordinals
    given by $\{\alpha : \Ord \mid \exists \kappa \in S, \lfloor \kappa \rfloor
    = \alpha\}$.  Then $S'$ is nonempty because $S$ in nonempty.  Thus, by the
    well-ordering of the ordinals, $S'$ has a least element $\alpha$, so there
    is some $\kappa \in S$ with $\lfloor \kappa \rfloor = \alpha$.  We will
    prove that $\kappa$ is the least element of $S$.  Let $\mu \in S$.  Then
    $\lfloor \mu \rfloor \in S'$, so by $\alpha$ being the least element of
    $S'$, we have $\lfloor \kappa \rfloor \leq \lfloor \mu \rfloor$.  Then by
    Theorem \ref{card_to_initial_ord_le}, we get $\kappa \leq \mu$, proving that
    $\kappa$ is the least element of $S$.
\end{proof}

Recall that antisymmetry and the well ordering property imply connexivity and
transitivity.  Thus, the cardinals are a well-ordered type.

\begin{instance}
    The function $\lfloor \kappa \rfloor$ is orderly.
\end{instance}
\begin{proof}
    Assume that we have cardinals $\kappa$ and $\mu$ such that $\kappa \leq
    \mu$.  For a contradiction, assume that $\lfloor \mu \rfloor < \lfloor
    \kappa \rfloor$.  Then by Theorem \ref{card_to_initial_ord_le}, we have $\mu
    \leq \kappa$, and by antisymmetry we have $\kappa = \mu$.  However, this
    contradicts $\lfloor \mu \rfloor < \lfloor \kappa \rfloor$, so we must have
    $\lfloor \kappa \rfloor \leq \lfloor \mu \rfloor$ as required.
\end{proof}

Because $\lfloor \kappa \rfloor$ is injective, this means that it also is
equivalently orderly and strictly orderly.

\begin{theorem} \label{ord_to_card_lt}
    For all ordinals $\alpha$ and $\beta$, if $|\alpha| < |\beta|$, then $\alpha
    < \beta$.
\end{theorem}
\begin{proof}
    This is just the contrapositive of Theorem \ref{ord_to_card_le}.
\end{proof}

\begin{theorem} \label{card_lt_ex}
    For all types $\U$ and $\V$, if $|\U| < |\V|$, then for all functions $f :
    \U \to \V$, there exists a $y$ such that for all $x$, $f(x) \neq y$.
\end{theorem}
\begin{proof}
    Assume the opposite, which is precisely the statement that an surjective
    function $f : \U \to \V$ exists.  Then by the partition principle (Theorem
    \ref{partition_principle}), we have an injective function from $\V$ to $\U$,
    contradicting $|\U| < |\V|$.
\end{proof}

\begin{theorem}[Cantor's Theorem] \label{power_set_bigger}
    For all types $\A$, we have $|\A| < |\A \to \Prop|$.
\end{theorem}
\begin{proof}
    First, to prove that $|\A| \leq |\A \to \Prop|$, let $f : \A \to (\A \to
    \Prop)$ be defined by $f(a) = \{a\}$.  This function is injective because
    $\{a\} = \{b\}$ implies that $a = b$.  To prove that $|\A| \neq |\A \to
    \Prop|$, assume for a contradiction that some bijective function $f : \A \to
    (\A \to \Prop)$ exists.  Define a set $B : \A \to \Prop$ given by $\{x : \A,
    x \notin f(x)\}$.  Because $f$ is surjective, there exists some $x$ such
    that $f(x) = B$.  This means that $f(x)(x) = B(x)$, or more simply, that $x
    \in f(x)$ if and only if $x \notin f(x)$.  This is a contradiction, showing
    that no such bijection can exist.
\end{proof}

\begin{theorem} \label{card_unbounded}
    The cardinals are unbounded, that is, for any cardinal $\kappa$, there
    exists a cardinal $\mu$ such that $\kappa < \mu$.
\end{theorem}
\begin{proof}
    This follows directly from the previous theorem.
\end{proof}

\section{The Largeness of the Cardinals and Ordinals}

As mentioned above, it is impossible to make cardinals out of other cardinals or
ordinals out of other ordinals.  However, there are many situations where doing
this is desirable.  In this section, we will find ways to work around this
issue.  Care needs to be taken when talking about types in this section, since
the problem we are trying to work around involves universes.  Thus, in this
section, universes will be explicitly given for types.

Let $\Type_n$ be the universe that the types and order types that we use to
build ordinals and cardinals are in.  Then, ordinals and cardinals are in
$\Type_{n + 1}$.

\begin{theorem} \label{card_large_set}
    Let $S$ be a set of cardinals, $\X$ a type in $\Type_n$, and $f$ a
    surjective function from $\X$ to $\T(S)$.  Then there exists a cardinal
    $\kappa$ that is gerater than all cardinals in $S$.
\end{theorem}
\begin{proof}
    Define a new dependent type $\C$ that has a single constructor that takes in
    a value in $x : \X$ and a value in some type that has cardinality equal to
    $f(x)$.  $\C : \Type_n$, because $\X : \Type_n$ and the other value is in a
    type that we make cardinals from, which is also $\Type_n$.  Thus, $|\C|$ is
    a well-formed cardinal.  Let $\A$ be a type such that $|\A| \in S$.  We will
    prove that $|\A| \leq |\C|$, which by Theorem \ref{power_set_bigger} implies
    that $|\A| < |\C \to \Prop|$, which will show that $|\C \to \Prop|$ is the
    cardinal we are looking for.

    To prove that $|\A| \leq |\C|$, we must find an injective function from
    $\A$ to $\C$.  Because $f$ is surjective, we have some $x : \X$ such that
    $f(x) = |\A|$.  Let $\B$ be a type that has cardinality $f(x)$.  Then $|\A|
    = |\B|$ so there exists a bijective function $g : \A \to \B$.  Define the
    function $h : \A \to \C$ that takes $a : \A$ to the dependent pair $(x,
    g(a)) : \C$.  We will prove that $h$ is injective.  Let $a$ and $b$ be such
    that $h(a) = h(b)$.  Then $(x, g(a)) = (x, g(b))$, so $g(a) = g(b)$.  By the
    injectivity of $g$, we have $a = b$ as required.
\end{proof}

While this theorem is useful, the conditions are a little annoying to satisfy.
However, there are a few variations that are more easily used.

\begin{theorem} \label{card_large}
    For all types $\X$ in $\Type_n$ and functions $f : \X \to \Card$, there
    exists a cardinal $\kappa$ that is greater than the image of $f$.
\end{theorem}
\begin{proof}
    Let $S$ be the image of $f$.  $f$ is trivially surjective when restricted to
    its image, so the result follows from the previous theorem.
\end{proof}

There is also a corresponding theorem for ordinals.

\begin{theorem} \label{ord_large}
    For all types $\X$ in $\Type_n$ and functions $f : \X \to \Ord$, there
    exists an ordinal $\alpha$ that is greater than the image of $f$.
\end{theorem}
\begin{proof}
    Define a new function $g : \X \to \Card$ given by $g(x) = |f(x)|$.  Then
    there exists a cardinal $\mu$ such that $g(x) < \mu$ for all $x : \X$.  By
    Theorem \ref{ord_to_card_lt}, we have $\lfloor | f(x) | \rfloor < \lfloor
    \mu \rfloor$ and by Theorem \ref{card_to_initial_ord_to_card_eq} we have
    $f(x) < \lfloor \mu \rfloor$, showing that $\lfloor \mu \rfloor$ is greater
    than everything in the image of $f$.
\end{proof}

These theorems are still a little annoying in that you need to explicitly find a
type $X : \Type_n$ to use.  However, there is a very important special case of
these theorems that is incredibly useful.

\begin{theorem} \label{ord_initial_small}
    For all ordinals $\beta$ and functions $f : \Ord_\beta \to \Ord$, there
    exists an ordinal $\gamma$ such that $f(\alpha) < \gamma$ for all $\alpha$.
\end{theorem}
\begin{proof}
    Let $\B$ be an order type for $\beta$.  $\B$ has type $\Type_n$.  Using $g :
    \B \to \Ord_\beta$ to denote the function given by Definition
    \ref{ord_type_init_ord}, $f \circ g$ is a surjective function from $\B$ to
    $\Ord$, so the result follows from the previous theorem.
\end{proof}

This theorem means that when doing transfinite recursion on the ordinals, one
can always use suprema (or strict suprema).  As such, it is basically required
for doing much more with the ordinals.  There is a corresponding theorem for
cardinals that can be used for recursively defining functions from the ordinals
to the cardinals.

\begin{theorem} \label{ord_card_large}
    For all ordinals $\beta$ and functions $f : \Ord_\beta \to \Card$, there
    exists a cardinal $\mu$ such that $f(\alpha) < \mu$ for all $\alpha$.
\end{theorem}
\begin{proof}
    Define $g : \Ord_\beta \to \Ord$ by $g(\alpha) = \lfloor f(\alpha) \rfloor$.
    By the previous theorem, this function has a bound $\gamma$.  By Theorem
    \ref{card_unbounded}, we have a cardinal $\mu$ with $|\gamma| < \mu$.  By
    Theorems \ref{card_to_initial_ord_to_card_eq} and \ref{ord_to_card_lt}, we
    have $\gamma < \lfloor \mu \rfloor$.  Then for all $\alpha$, we have
    $\lfloor f(\alpha) \rfloor < \gamma$, so by transitivity $\lfloor f(\alpha)
    \rfloor < \lfloor \mu \rfloor$.  Because $\lfloor x \rfloor$ is strictly
    equivalently orderly, we have $f(\alpha) < \mu$, showing that $\mu$ is a
    strict upper bound of the image of $f$.
\end{proof}

As an example of the application of this theorem, we will define something
related to the $\aleph$ function.  Note that this isn't quite $\aleph$ itself,
so we will call it $\aleph'$.  The definition of $\aleph$ itself will be given
later.

\begin{definition}
    Consider a function $a : (\beta : \Ord) \to (g : \Ord_\beta \to \Card) \to
    \Card$ that takes in such a $\beta$ and $g$ and produces the least cardinal
    greater than the image of $g$.  Then define $\aleph'$ to be the function
    given by transfinite recursion using $a$.  Instead of writing the
    application of this function as $\aleph'(\alpha)$, we will write
    $\aleph'_\alpha$.
\end{definition}

\begin{theorem} \label{aleph'_gt}
    For all ordinals $\alpha$ and $\beta$ with $\alpha < \beta$, we have
    $\aleph'_\alpha < \aleph'_\beta$.
\end{theorem}
\begin{proof}
    This follows directly from the definition of $\aleph'$.
\end{proof}

\begin{theorem} \label{aleph'_least}
    For all ordinals $\alpha$ and cardinals $\mu$, if $\aleph'_\beta < \mu$ for
    all $\beta < \alpha$, then $\aleph'_\alpha \leq \mu$.
\end{theorem}
\begin{proof}
    This follows directly from the definition of $\aleph'$.
\end{proof}

\begin{instance}
    $\aleph'$ is injective.
\end{instance}
\begin{proof}
    Let $\aleph'_\alpha = \aleph'_\beta$ and assume for a contradiction that
    $\alpha \neq \beta$.  Without loss of generality, assume that $\alpha <
    \beta$.  Then by Theorem \ref{aleph'_gt}, we have $\aleph'_\alpha <
    \aleph'_\beta$, which is impossible.  Thus, we must have $\alpha = \beta$.
\end{proof}

\begin{instance}
    $\aleph'$ is orderly.
\end{instance}
\begin{proof}
    Let $\alpha \leq \beta$.  If $\alpha = \beta$, we would immediately have
    $\aleph'_\alpha \leq \aleph'_\beta$, and if $\alpha \neq \beta$, we would
    have $\alpha < \beta$, so by Theorem \ref{aleph'_gt} we would have
    $\aleph'_\alpha < \aleph'_\beta$.  Either way, $\aleph'_\alpha \leq
    \aleph'_\beta$.
\end{proof}

\begin{lemma}
    For all cardinals $\mu$, there exists an ordinal $\alpha$ with $\mu \leq
    \aleph'_\alpha$.
\end{lemma}
\begin{proof}
    We will prove that $\mu \leq \aleph'_{\lfloor \mu \rfloor}$ by transfinite
    induction.  The inductive hypothesis states that for all cardinals $\kappa <
    \mu$, we have $\kappa \leq \aleph'_{\lfloor \mu \rfloor}$.  Then if we had
    $\aleph'_{\lfloor \mu \rfloor} < \mu$, by the inductive hypothesis we would
    have $\aleph'_{\lfloor \mu \rfloor} \leq \aleph'_{\lfloor \aleph_{\lfloor
    \mu \rfloor} \rfloor}$.  Because $\aleph'$ and $\lfloor x \rfloor$ are
    equivalently orderly, this reduces to $\mu \leq \aleph'_{\lfloor \mu
    \rfloor}$.  But we assumed that $\aleph'_{\lfloor \mu \rfloor} < \mu$, so
    this is a contradiction.  Thus, we must have $\mu \leq \aleph'_{\lfloor \mu
    \rfloor}$.
\end{proof}

\begin{instance}
    $\aleph'$ is surjective.
\end{instance}
\begin{proof}
    Let $\kappa$ be a cardinal.  Let $\alpha$ be the least ordinal such that
    $\kappa \leq \aleph'_\alpha$.  We will prove that $\kappa =
    \aleph'_\alpha$.  This will be done by antisymmetry.  We already have
    $\kappa \leq \aleph'_\alpha$, so we only need to prove that $\aleph'_\alpha
    \leq \kappa$.  To do so, we will use Theorem \ref{aleph'_least}.  So let
    $\beta < \alpha$.  We must prove that $\aleph'_\beta < \kappa$.  If $\kappa
    \leq \aleph'_\beta$, we would have $\alpha \leq \beta$ by the minimality of
    $\alpha$.  This contradicts $\beta < \alpha$, so we must have $\aleph'_\beta
    < \kappa$, showing that $\aleph'_\alpha \leq \kappa$.
\end{proof}

Thus, $\aleph'$ is a bijective order-preserving function, so the cardinals and
ordinals are order-isomorphic to each other!  However, it is still helpful to
distinguish between the two because they are used in very different ways.

Given that every ordinal function with a bounded input has a bounded output,
there are a few helpful definitions we can make:

\begin{definition}
    Given an ordinal function $f$, let $\lub(f(\alpha), \alpha < \beta)$ be the
    least upper bound of the restriction of $f$ to the initial segment of
    $\beta$.
\end{definition}

\begin{definition}
    Given an ordinal function $f$, let $\lsub(f(\alpha), \alpha < \beta)$ be the
    least strict upper bound of the restriction of $f$ to the initial segment of
    $\beta$.
\end{definition}

Least upper bounds and least strict upper bounds have many properties, and for
convenience, these will be stated below.  No proofs will be given because they
follow directly from the definitions.

\begin{theorem} \label{ord_lub_ge}
    For all $\alpha$, $\beta$, and $f$ with $\alpha < \beta$, we have $f(\alpha)
    \leq \lub(f(\delta), \delta < \beta)$.
\end{theorem}

\begin{theorem} \label{ord_lub_least}
    For all $\beta$, $\gamma$, and $f$, if for all $\alpha < \beta$ we have
    $f(\alpha) \leq \gamma$, we have $\lub(f(\delta), \delta < \beta) \leq
    \gamma$.
\end{theorem}

\begin{theorem} \label{ord_lub_other_leq}
    For all $\beta$, $\gamma$, and $f$, if $\gamma$ has the same property as
    $\lub(f(\delta), \delta < \alpha)$ in the previous theorem, then $\gamma
    \leq \lub(f(\delta), \delta < \beta)$.
\end{theorem}

\begin{theorem} \label{ord_lub_eq}
    $\lub(f(\delta), \delta < \beta)$ is uniquely described by the previous two
    theorems.
\end{theorem}

\begin{theorem} \label{ord_lsub_gt}
    For all $\alpha$, $\beta$, and $f$ with $\alpha < \beta$, we have $f(\alpha)
    < \lsub(f(\delta), \delta < \beta)$.
\end{theorem}

\begin{theorem} \label{ord_lsub_least}
    For all $\beta$, $\gamma$, and $f$, if for all $\alpha < \beta$ we have
    $f(\alpha) < \gamma$, we have $\lsub(f(\delta), \delta < \beta) \leq
    \gamma$.
\end{theorem}

\begin{theorem} \label{ord_lsub_other_leq}
    For all $\beta$, $\gamma$, and $f$, if $\gamma$ has the same property as
    $\lsub(f(\delta), \delta < \alpha)$ in the previous theorem, then $\gamma
    \leq \lsub(f(\delta), \delta < \beta)$.
\end{theorem}

\begin{theorem} \label{ord_lsub_eq}
    $\lsub(f(\delta), \delta < \beta)$ is uniquely described by the previous two
    theorems.
\end{theorem}

There are also a few not quite trivial facts about these functions:

\begin{theorem} \label{ord_lsub_self_eq}
    For all ordinals $\beta$, we have $\lsub(\alpha, \alpha < \beta) = \beta$.
\end{theorem}
\begin{proof}
    The proof will be by Theorem \ref{ord_lsub_eq}.  $\beta$ is a strict upper
    bound of $\alpha$ for all $\alpha < \beta$ by definition.  Now let
    $\varepsilon$ be another strict upper bound of $\alpha$ for all $\alpha <
    \beta$.  If $\varepsilon < \beta$, we would have $\varepsilon < \varepsilon$
    by $\varepsilon$ being a strict upper bound, which is impossible, so we must
    have $\beta \leq \varepsilon$.  Thus, $\beta$ is the least strict upper
    bound.
\end{proof}

\begin{theorem} \label{ord_lsub_in}
    For all $\alpha$, $\beta$, and $f$, if $\alpha < \lsub(f(\delta), \delta <
    \beta)$, then there exists a $\gamma < \beta$ such that $\alpha \leq
    f(\gamma)$.
\end{theorem}
\begin{proof}
    Assume the opposite, that is, that for all $\gamma < \beta$, we have
    $f(\gamma) < \alpha$.  This means that $\alpha$ is an upper bound of $f$, so
    by Theorem \ref{ord_lsub_least}, we have $\lsub(f(\delta), \delta < \beta)
    \leq \alpha$, contradicting the hypothesis that $\alpha < \lsub(f(\delta),
    \delta < \beta)$.  Thus, we must have some $\gamma < \beta$ with $\alpha
    \leq f(\gamma)$.
\end{proof}

\begin{theorem} \label{ord_lub_in}
    For all $\alpha$, $\beta$, and $f$, if $\alpha < \lub(f(\delta), \delta <
    \beta)$, then there exists a $\gamma < \beta$ such that $\alpha <
    f(\gamma)$.
\end{theorem}
\begin{proof}
    The proof is the same in form as the previous proof, although a couple
    strict/nonstrict inequalities get converted to nonstrict/strict
    inequalities.
\end{proof}

There will be more to prove about these functions, but those will have to wait
until we have developed a small amount of ordinal orithmetic.

The next several sections of this chapter will be looking at the arithmetic
properties of the cardinals and ordinals.  For the cardinals, the definitions
are relatively straightforward.  For the ordinals, there are two options.
First, there are constructive definitions that are similar to the definitions
for the cardinals.  The other definitions involve transfinite recursion.  The
constructive definitions can be quite cumbersome, especially for exponentiation.
Thus, the recursive definitions will be used here.

\section{Addition of Ordinals}

The definition of addition will use $0$, so we will define the ordinal $0$
first.

\begin{instance}
    Define the ordinal $0$ to be the ordinal corresponding to the empty type.
\end{instance}

\begin{theorem} \label{ord_false_0}
    For all order types $\A$, if $\A \to \False$, we have $0 = [\A]$.
\end{theorem}
\begin{proof}
    The empty function is vacuously injective and orderly, and it is vacuously
    surjective because $\A \to \False$.
\end{proof}

\begin{theorem} \label{ord_pos} \label{ord_pos2}
    For all ordinals $\alpha$, $0 \leq \alpha$.
\end{theorem}
\begin{proof}
    The empty function is trivially an injective orderly function.
\end{proof}

\begin{theorem} \label{ord_neg_eq}
    For all ordinals $\alpha$, if $\alpha \leq 0$, then $0 = \alpha$.
\end{theorem}
\begin{proof}
    The result follows directly from antisymmetry and from the previous theorem.
\end{proof}

\begin{theorem} \label{ord_lsub_f_zero}
    For all ordinals $\beta$ and ordinal functions $f$, if $0 = \lsub(f(\delta),
    \delta < \beta)$, then $0 = \beta$.
\end{theorem}
\begin{proof}
    If we instead had $0 \neq \beta$, we would have $f(0) < 0$ by Theorem
    \ref{ord_lsub_gt}, which is impossible.
\end{proof}

\begin{theorem} \label{ord_lub_f_zero}
    For all ordinals $\beta$ and ordinal functions $f$, if $0 = \lub(f(\delta),
    \delta < \beta)$, then $f(\delta) = 0$ for all $\delta < \beta$.
\end{theorem}
\begin{proof}
    The result follows directly from Theorems \ref{ord_neg_eq} and
    \ref{ord_lub_ge}.
\end{proof}

\begin{theorem} \label{ord_lub_constant}
    For all ordinals $\alpha$ and $\beta$, if $0 \neq \beta$, then $\lub(\alpha,
    \delta < \beta) = \alpha$.  (Notice that $\delta$, despite being the input
    in the function, isn't used in the actual value of the function.)
\end{theorem}
\begin{proof}
    The proof will be by Theorem \ref{ord_lub_eq}.  $\alpha$ is an upper bound
    of the constant function $\alpha$ by reflexivity.  Let $\varepsilon$ be
    another upper bound of the constant function $\alpha$.  $0$ is a valid input
    to this function because $0 \neq \beta$, so looking at $\varepsilon$ being
    an upper bound at this input, we get $\alpha \leq \varepsilon$, showing
    thath $\alpha$ is the least upper bound.
\end{proof}

\begin{instance}
    Let $\alpha$ be an ordinal.  Consider the function $f : (\beta : \Ord) \to
    (g : \Ord_\beta \to \Ord) \to \Ord$ that is given by
    \[
        f(\beta, g) = \begin{cases}
            \alpha &\text{if $0 = \beta$} \\
            \lsub(g(\delta), \delta < \beta) &\text{otherwise.}
        \end{cases}
    \]
    Let $g$ be the function given by transfinite recursion on $f$.  Then define
    the sum $\alpha + \beta$ to be equal to $g(\beta)$.
\end{instance}

Addition of ordinals is quite strange in that it is noncommutative, and some
standard identities only hold on one side.  Care must be taken to know exactly
which identities hold and which do not.

\begin{instance}
    $0$ is a right additive identity in $\Ord$.
\end{instance}
\begin{proof}
    This follows directly from the definition.
\end{proof}

\begin{instance}
    $0$ is a left additive identity in $\Ord$.
\end{instance}
\begin{proof}
    Let $\alpha$ be an ordinal.  We will prove that $0 + \alpha = \alpha$ by
    transfinite induction.  The inductive hypothesis states that for all $\delta
    < \alpha$, we have $0 + \delta = \beta$.  When $\alpha = 0$, we have $0 + 0 =
    0$.  When $\alpha \neq 0$,
    \begin{align*}
        0 + \alpha
        &= \lsub(0 + \delta, \delta < \alpha)
            && \text{by the definition of addition} \\
        &= \lsub(\delta, \delta < \alpha)
            && \text{by the inductive hypothesis} \\
        &= \alpha
            && \text{by Theorem \ref{ord_lsub_self_eq}.} \\
    \end{align*}
\end{proof}

\begin{theorem} \label{ord_lt_lplus}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha < \beta$, we
    have $\gamma + \alpha < \gamma + \beta$.
\end{theorem}
\begin{proof}
    First, because $\alpha < \beta$, we have $0 \neq \beta$.  Then the result
    follows directly from Theorem \ref{ord_lsub_gt}.
\end{proof}

\begin{instance} \label{ord_plus_lcancel}
    Addition of ordinals is left cancellative.
\end{instance}
\begin{proof}
    Let $\gamma + \alpha = \gamma + \beta$.  For a contradiction assume that
    $\alpha \neq \beta$, and without loss of generality assume that $\alpha <
    \beta$.  Then by Theorem \ref{ord_lt_lplus} we have $\gamma + \alpha <
    \gamma + \beta$, contradicting $\gamma + \alpha = \gamma + \beta$.  Thus,
    $\alpha = \beta$.
\end{proof}

\begin{instance}
    The order of ordinals is left additive.
\end{instance}
\begin{proof}
    Let $\alpha \leq \beta$.  We must prove that $\gamma + \alpha \leq \gamma +
    \beta$.  If $\alpha = \beta$, the result follows by reflexivity, and if
    $\alpha \neq \beta$, the result follows by Theorem \ref{ord_lt_lplus}.
\end{proof}

\begin{theorem} \label{ord_le_self_rplus}
    For all ordinals $\alpha$ and $\beta$, we have $\alpha \leq \alpha + \beta$.
\end{theorem}
\begin{proof}
    \begin{align*}
        0 & \leq \beta \\
        \alpha + 0 &\leq \alpha + \beta \\
        \alpha &\leq \alpha + \beta.
    \end{align*}
\end{proof}

\begin{theorem} \label{ord_le_self_lplus}
    For all ordinals $\alpha$ and $\beta$, we have $\alpha \leq \beta + \alpha$.
\end{theorem}
\begin{proof}
    The proof will be by transfinite induction on $\alpha$.  The inductive
    hypothesis says that for all $\gamma < \alpha$, we have $\gamma \leq \beta +
    \gamma$.  If $\beta + \alpha < \alpha$, this would mean that $\beta + \alpha
    \leq \beta + (\beta \alpha)$.  By Theorem \ref{ord_lt_lplus} we would also
    have $\beta + (\beta + \alpha) < \beta + \alpha$.  The last two inequalities
    are incompatible, so we must have $\alpha \leq \beta + \alpha$.
\end{proof}

\begin{theorem} \label{ord_le_ex}
    For all ordinals $\alpha$ and $\beta$, if $\alpha \leq \beta$, then there
    exists an ordinal $\gamma$ such that $\alpha + \gamma = \beta$.
\end{theorem}
\begin{proof}
    If $\alpha = \beta$, then $\gamma = 0$ suffices, so now consider the case
    $\alpha \neq \beta$.  Let $S$ be the set $\{\varepsilon : \Ord \mid \beta
    \leq \alpha + \varepsilon\}$.  By Theorem \ref{ord_le_self_lplus}, this set
    is nonempty, so it has a least element $\gamma$.  If $\gamma = 0$, we would
    have $0 \in S$, so $\beta \leq \alpha$, contradicting $\alpha \leq \beta$
    and $\alpha \neq \beta$.  So we must have $\gamma \neq 0$.  We will prove by
    Theorem \ref{ord_lsub_eq} that $\alpha + \gamma = \beta$.

    First, let $\delta < \gamma$.  We must prove that $\alpha + \delta < \beta$.
    If $\beta \leq \alpha + \delta$, we would have $\delta \in S$, so $\gamma
    \leq \delta$, contradicting $\delta < \gamma$.  Thus, we must have $\alpha +
    \delta < \beta$ as required.

    Now let $\zeta$ be another ordinal such that for all $\delta < \gamma$, we
    have $\alpha + \delta < \zeta$.  We must prove that $\beta \leq \zeta$.
    Because $\gamma \in S$, we have $\beta \leq \alpha + \gamma$, so by
    transitivity it suffices to prove $\alpha + \gamma \leq \zeta$.  The result
    follows directly $\alpha + \gamma$ being the least element that satisfies
    the conditions that $\zeta$ does.
\end{proof}

\begin{theorem} \label{ord_lt_ex}
    For all ordinals $\alpha$ and $\beta$ with $\alpha < \beta$, there exists a
    $\gamma \neq 0$ such that $\alpha + \gamma = \beta$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_le_ex}, we already have a $\gamma$ with $\alpha + \gamma
    = \beta$, so we just need to prove that $\gamma \neq 0$.  If $\gamma = 0$,
    we would gave $\alpha = \beta$, contradicting $\alpha < \beta$, so we must
    have $\gamma \neq 0$.
\end{proof}

\begin{theorem} \label{ord_lt_plus_lcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\gamma + \alpha <
    \gamma + \beta$, we have $\alpha < \beta$.
\end{theorem}
\begin{proof}
    If $\beta \leq \alpha$, we would have $\gamma + \beta \leq \gamma + \alpha$,
    contradicting $\gamma + \alpha < \gamma + \beta$.
\end{proof}

\begin{theorem} \label{ord_nz_rplus}
    For all ordinals $\alpha$ and $\beta$, if $0 \neq \beta$, then $0 \neq
    \alpha + \beta$.
\end{theorem}
\begin{proof}
    If $0 = \alpha + \beta$, then by Theorem \ref{ord_lsub_gt}, we have $\alpha
    + \delta < 0$ for all $\delta < \beta$.  Since $\beta \neq 0$, such a
    $\delta$ exists, which is impossible.
\end{proof}

\begin{theorem} \label{ord_nz_lplus}
    For all ordinals $\alpha$ and $\beta$, if $0 \neq \alpha$, then $0 \neq
    \alpha + \beta$.
\end{theorem}
\begin{proof}
    If $\beta = 0$, the result follows directly, and if $\beta \neq 0$, the
    result follows from the previous theorem.
\end{proof}

\begin{instance}
    The order on ordinals is left additive cancellative.
\end{instance}
\begin{proof}
    Let $\gamma + \alpha \leq \gamma + \beta$.  We must prove that $\alpha \leq
    \beta$.  If $\gamma + \alpha = \gamma + \beta$, by cancelling we get $\alpha
    = \beta$, and the result follow by reflexivity.  If $\gamma + \alpha \neq
    \gamma + \beta$, we have $\gamma + \alpha < \gamma + \beta$, so the result
    follows from Theorem \ref{ord_lt_plus_lcancel}.
\end{proof}

\begin{theorem} \label{ord_lsub_plus}
    For all ordinals $\alpha$ and $\beta$ and ordinal functions $f$, if $0 \neq
    \beta$, then
    \[
        \alpha + \lsub(f(\delta), \delta < \beta)
        = \lsub(\alpha + f(\delta), \delta < \beta).
    \]
\end{theorem}
\begin{proof}
    Because $0 \neq \beta$, we also have $0 \neq \lsub(f(\delta), \delta <
    \beta)$ by Theorem \ref{ord_lsub_f_zero}.  We will prove the result by
    antisymmetry.

    To prove that
    \[
        \alpha + \lsub(f(\delta), \delta < \beta)
        \leq \lsub(\alpha + f(\delta), \delta < \beta),
    \]
    first notice that by the definition of addition this is equivalent to
    \[
        \lsub(\alpha + \delta_1, \delta_1 < \lsub(f(\delta_2), \delta_2 <
        \beta)) \leq \lsub(\alpha + f(\delta), \delta < \beta).
    \]
    Then by Theorem \ref{ord_lsub_least}, it suffices to prove that for all
    $\zeta < \lsub(f(\delta), \delta < \beta)$, we have
    \[
        \alpha + \zeta < \lsub(\alpha + f(\delta), \delta < \beta).
    \]
    By Theorem \ref{ord_lsub_in}, we have some $\gamma < \beta$ with $\zeta
    \leq f(\gamma)$.  Adding $\alpha$ on both sides, we get
    \[
        \alpha + \zeta \leq \alpha + f(\gamma).
    \]
    By Theorem \ref{ord_lsub_gt}, we have
    \[
        \alpha + f(\gamma) < \lsub(\alpha + f(\delta), \delta < \beta),
    \]
    and the result follows from transitivity with the last two inequalities.

    To prove that
    \[
        \lsub(\alpha + f(\delta), \delta < \beta)
        \leq \alpha + \lsub(f(\delta), \delta < \beta),
    \]
    we will use Theorem \ref{ord_lsub_least}.  Let $\zeta < \beta$.  Then by
    Theorem \ref{ord_lsub_gt}, we have
    \[
        f(\zeta) < \lsub(f(\delta), \delta < \beta),
    \]
    and adding $\alpha$ on the left shows that $\alpha + \lsub(f(\delta), \delta
    < \beta)$ is an upper bound as required.
\end{proof}

\begin{theorem} \label{ord_lub_plus}
    For all ordinals $\alpha$ and $\beta$ and ordinal functions $f$, if $0 \neq
    \beta$, then
    \[
        \alpha + \lub(f(\delta), \delta < \beta)
        = \lub(\alpha + f(\delta), \delta < \beta).
    \]
\end{theorem}
\begin{proof}
    If $0 = \lub(f(\delta), \delta < \beta)$, we would have $f(\delta) = 0$ for
    all $\delta$ by Theorem \ref{ord_lub_f_zero}.  Then the result would follow
    from Theorem \ref{ord_lub_constant}.  So now consider the case $0 \neq
    \lub(f(\delta), \delta < \beta)$.  We will prove the result by antisymmetry.

    To prove that
    \[
        \alpha + \lub(f(\delta), \delta < \beta)
        \leq \lub(\alpha + f(\delta), \delta < \beta),
    \]
    first notice that by the definition of addition this is equivalent to
    \[
        \lsub(\alpha + \delta_1, \delta_1 < \lub(f(\delta_2), \delta_2 < \beta))
        \leq \lub(\alpha + f(\delta), \delta < \beta).
    \]
    Then by Theorem \ref{ord_lsub_least}, it suffices to prove that for all
    $\zeta < \lsub(f(\delta), \delta < \beta)$, we have
    \[
        \alpha + \zeta < \lub(\alpha + f(\delta), \delta < \beta).
    \]
    By Theorem \ref{ord_lsub_in}, we have some $\gamma < \beta$ with $\zeta
    < f(\gamma)$.  Adding $\alpha$ on both sides, we get
    \[
        \alpha + \zeta < \alpha + f(\gamma).
    \]
    By Theorem \ref{ord_lub_ge}, we have
    \[
        \alpha + f(\gamma) \leq \lub(\alpha + f(\delta), \delta < \beta),
    \]
    and the result follows from transitivity with the last two inequalities.

    To prove that
    \[
        \lub(\alpha + f(\delta), \delta < \beta)
        \leq \alpha + \lub(f(\delta), \delta < \beta),
    \]
    we will use Theorem \ref{ord_lub_least}.  Let $\zeta < \beta$.  Then by
    Theorem \ref{ord_lub_ge}, we have
    \[
        f(\zeta) \leq \lub(f(\delta), \delta < \beta),
    \]
    and adding $\alpha$ on the left shows that $\alpha + \lub(f(\delta), \delta
    < \beta)$ is an upper bound as required.
\end{proof}

\begin{instance}
    Addition of ordinals is associative.
\end{instance}
\begin{proof}
    Let $\alpha$, $\beta$, and $\gamma$ be ordinals.  We will prove that $\alpha
    + (\beta + \gamma) = (\alpha + \beta) + \gamma$ by transfinite induction on
    $\gamma$.  The inductive hypothesis states that for all $\delta < \gamma$,
    we have $\alpha + (\beta + \delta) = (\alpha + \beta) + \delta$.  If $\gamma
    = 0$, the result follows instantly, so now consider the case $\gamma \neq
    0$.  Then
    \begin{align*}
        \alpha + (\beta + \gamma)
        &= \alpha + \lsub(\beta + \delta, \delta < \gamma)
            &&\text{by the definition of addition} \\
        &= \lsub(\alpha + (\beta + \delta), \delta < \gamma)
            &&\text{by Theorem \ref{ord_lsub_plus}} \\
        &= \lsub((\alpha + \beta) + \delta, \delta < \gamma)
            &&\text{by the inductive hypothesis} \\
        &= (\alpha + \beta) + \gamma
            &&\text{by the definition of addition.} \\
    \end{align*}
\end{proof}

\begin{instance}
    The order on ordinals is right additive.
\end{instance}
\begin{proof}
    Let $\alpha \leq \beta$.  We must prove that for all ordinals $\gamma$, we
    have $\alpha + \gamma \leq \beta + \gamma$.  By Theorem \ref{ord_le_ex}, we
    have a $\delta$ such that $\alpha + \delta = \beta$.  Then by Theorem
    \ref{ord_le_self_lplus},
    \begin{align*}
        \gamma &\leq \delta + \gamma \\
        \alpha + \gamma &\leq \alpha + \delta + \gamma \\
        \alpha + \gamma &\leq \beta + \gamma
    \end{align*}
\end{proof}

\begin{theorem} \label{ord_lt_plus_rcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha + \gamma <
    \beta + \gamma$, then $\alpha < \beta$.
\end{theorem}
\begin{proof}
    If we had $\beta \leq \alpha$, we could add $\gamma$ on the right to get
    $\beta + \gamma \leq \alpha + \gamma$, contradicting $\alpha + \gamma <
    \beta + \gamma$.
\end{proof}

\begin{theorem} \label{ord_lt_self_rplus}
    For all ordinals $\alpha$ and $\beta$, if $0 \neq \beta$, we have $\alpha <
    \alpha + \beta$.
\end{theorem}
\begin{proof}
    We already know that $\alpha \leq \alpha + \beta$ by Theorem
    \ref{ord_le_self_rplus}, so it remains to prove that $\alpha \neq \alpha +
    \beta$.  If $\alpha = \alpha + \beta$, by cancelling $\alpha$ we would get
    $0 = \beta$, contradicting $0 \neq \beta$.
\end{proof}

\section{Multiplication of Ordinals}

\begin{instance}
    Let $\alpha$ be an ordinal.  Consider the function $f : (\beta : \Ord) \to
    (g : \Ord_\beta \to \Ord) \to \Ord$ given by
    \[
        f(\beta, g) = \lub(g(\delta) + \alpha, \delta < \beta).
    \]
    Let $g$ be the function given by transfinite recursion on $f$.  Then define
    the product $\alpha \beta$ to be equal to $g(\beta)$.
\end{instance}

Note that this definition uses $\lub$, not $\lsub$ like with addition.

\begin{instance}
    Zero is a left annihilator in the ordinals.
\end{instance}
\begin{proof}
    Let $\alpha$ be an ordinal.  We will prove that $0\alpha = 0$ by transfinite
    induction.  The inductive hypothesis states that for all $\delta < \alpha$,
    we have $0\delta = 0$.  We will prove the result using Theorem
    \ref{ord_lub_eq}.  For every $\delta < \alpha$, we have $0\delta + 0 = 0
    \leq 0$ by the inductive hypothesis, so $0$ is an upper bound.  And by
    Theorem \ref{ord_pos}, $0$ is the least upper bound.
\end{proof}

\begin{instance}
    Zero is a right annihilator in the ordinals.
\end{instance}
\begin{proof}
    Let $\alpha$ be an ordinal.  We will prove that $\alpha 0 = 0$ using Theorem
    \ref{ord_lub_eq}.  It's impossible for there to be any $\delta < 0$, so $0$
    is vacuously an upper bound. And by Theorem \ref{ord_pos}, $0$ is the least
    upper bound.
\end{proof}

\begin{instance}
    Define the ordinal 1 to be the ordinal corresponding to the singleton type.
\end{instance}

\begin{instance} \label{ord_not_trivial}
    The ordinals are not trivial.
\end{instance}
\begin{proof}
    If $0 = 1$, we would have an order isomorphism $f$ from the singleton type
    to the empty type.  Then $f(I)$ is a value of the singleton type, which is
    impossible.  Thus, we must have $0 \neq 1$.
\end{proof}

\begin{theorem} \label{ord_one_pos}
    In the ordinals, $0 < 1$.
\end{theorem}
\begin{proof}
    This follows directly from Theorem \ref{ord_pos2} and the previous proof.
\end{proof}

\begin{theorem} \label{ord_lt_one_eq}
    For all ordinals $\alpha$, if $\alpha < 1$, then $0 = \alpha$.
\end{theorem}
\begin{proof}
    Let $\A$ be an order type with $[\A] = \alpha$.  Then by $\alpha < 1$ and
    Theorem \ref{ord_lt_simpl}, we know that there is an order isomorphism $f$
    from $\A$ to $\S_x$, an initial segment of the singleton type.  If we had a
    value in $a : \A$, we would have $f(a) < x$, but all values of the singleton
    type are equal, so this is impossible.  Thus, by Theorem \ref{ord_false_0},
    we have $0 = \alpha$.
\end{proof}

\begin{theorem} \label{ord_pos_one}
    For all ordinals $\alpha$, $0 \neq \alpha$ if and only if $1 \leq \alpha$.
\end{theorem}
\begin{proof}
    First assume that $0 \neq \alpha$.  If $\alpha < 1$, by the last theorem we
    have $0 = \alpha$, a contradiction.

    Now assume that $1 \leq \alpha$.  If $0 = \alpha$, we would have $1 \leq 0$,
    a contradiction.
\end{proof}

\begin{theorem} \label{ord_lt_suc_le}
    For all ordinals $\alpha$ and $\beta$, $\alpha < \beta + 1$ if and only if
    $\alpha \leq \beta$.
\end{theorem}
\begin{proof}
    First assume that $\alpha < \beta + 1$.  By the definition of addition, we
    have $\alpha < \lsub(\beta + \delta, \delta < 1)$.  Since $\delta < 1$
    implies $\delta = 0$, this means that $\beta + 1$ is the smallest ordinal
    greater than $\beta$.  Because of this, if $\beta < \alpha$, we would have
    $\beta + 1 \leq \alpha$, contradicting $\alpha < \beta + 1$.  Thus, we must
    have $\alpha \leq \beta$.

    Now assume that $\alpha \leq \beta$.  By Theorem \ref{ord_le_ex}, there
    exsits a $\gamma$ such that $\alpha + \gamma = \beta$.  Then we have
    \begin{align*}
        0 &\neq 1 && \text{by Instance \ref{ord_not_trivial}} \\
        0 &\neq \gamma + 1 && \text{by Theorem \ref{ord_nz_rplus}} \\
        0 &< \gamma + 1 && \text{by Theorem \ref{ord_pos2}} \\
        \alpha &< \alpha + \gamma + 1 && \text{by Theorem \ref{ord_lt_lplus}} \\
        \alpha &< \beta + 1 &&
    \end{align*}
\end{proof}

\begin{theorem} \label{ord_le_suc_lt}
    For all ordinals $\alpha$ and $\beta$, $\alpha + 1 \leq \beta$ if and only
    if $\alpha < \beta$.
\end{theorem}
\begin{proof}
    First assume that $\alpha + 1 \leq \beta$.  Then by the previous theorem,
    $\alpha + 1 < \beta + 1$, so $\alpha < \beta$ by Theorem
    \ref{ord_lt_plus_rcancel}.

    Now assume that $\alpha < \beta$.  Then by Theorem \ref{ord_lt_ex}, we have
    some $\gamma \neq 0$ such that $\alpha + \gamma = \beta$.  Then since
    $\gamma \neq 0$, we have $1 \leq \gamma$ by Theorem \ref{ord_pos_one}, and
    adding $\alpha$ to both sides on the left, we get $\alpha + 1 \leq \alpha +
    \gamma = \beta$.
\end{proof}

\begin{theorem} \label{ord_le_suc}
    For all ordinals $\alpha$, we have $\alpha \leq \alpha + 1$.
\end{theorem}
\begin{proof}
    Special case of Theorem \ref{ord_le_self_rplus}.
\end{proof}

\begin{theorem} \label{ord_lt_suc}
    For all ordinals $\alpha$, we have $\alpha < \alpha + 1$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_lt_suc_le}, this is equivalent to $\alpha \leq \alpha$,
    which is true by reflexivity.
\end{proof}

\begin{theorem} \label{ord_lsub_lub}
    For all ordinals $\beta$ and ordinal functions $f$,
    \[
        \lsub(f(\delta), \delta < \beta) = \lub(f(\delta) + 1, \delta < \beta).
    \]
\end{theorem}
\begin{proof}
    The proof will be by Theorem \ref{ord_lub_eq}.  First, let $\alpha < \beta$.
    Then for any $\varepsilon$ with $f(\delta) < \varepsilon$ with $\delta <
    \beta$, we have $f(\alpha) + 1 \leq \varepsilon$ by Theorem
    \ref{ord_le_suc_lt}.  Thus, by Theorem \ref{ord_lsub_other_leq}, we have
    $f(\alpha) + 1 \leq \lsub(f(\delta), \delta < \beta)$, so $\lsub(f(\delta),
    \delta < \beta)$ is an upper bound of $f(\delta) + 1$.

    To prove that it's the least upper bound, let $\varepsilon$ be another upper
    bound.  Then for all $\alpha < \beta$ we have $f(\alpha) + 1 \leq
    \varepsilon$, so by Theorem \ref{ord_le_suc_lt}, we have $f(\alpha) <
    \varepsilon$.  Thus, by Theorem \ref{ord_lsub_least}, we have
    $\lsub(f(\delta), \delta < \beta) \leq \varepsilon$, showing that
    $\lsub(f(\delta), \delta < \beta)$ is the least upper bound.
\end{proof}

\begin{theorem} \label{ord_lub_one}
    For all ordinals $\alpha$, $\lub(\alpha, \delta < 1) = \alpha$.
\end{theorem}
\begin{proof}
    The proof will be by Theorem \ref{ord_lub_eq}.  $\alpha \leq \alpha$, so
    $\alpha$ is an upper bound.  Then for any $\varepsilon$ with $\alpha \leq
    \varepsilon$ for any $\delta < 1$, $\delta = 0$ works, so $\alpha$ is the
    least upper bound.
\end{proof}

\begin{instance}
    One in the ordinals is a left multiplicative identity.
\end{instance}
\begin{proof}
    Let $\alpha$ be an ordinal.  We will prove that $1\alpha = \alpha$ by
    transfinite induction.  The inductive hypothesis states that for all $\delta
    < \alpha$, we have $1\delta = \delta$.  Then
    \begin{align*}
        1\alpha
        &= \lub(1\delta + 1, \delta < \alpha)
            && \text{by the definition of multiplication} \\
        &= \lub(\delta + 1, \delta < \alpha)
            && \text{by the inductive hypothesis} \\
        &= \lsub(\delta, \delta < \alpha)
            && \text{by Theorem \ref{ord_lsub_lub}} \\
        &= \delta
            && \text{by Theorem \ref{ord_lsub_self_eq}.} \\
    \end{align*}
\end{proof}

\begin{instance}
    One in the ordinals is a right multiplicative identity.
\end{instance}
\begin{proof}
    Let $\alpha$ be an ordinal.  Then
    \begin{align*}
        \alpha1
        &= \lub(\alpha \delta + \alpha, \delta < 1)
            && \text{by the definition of multiplication} \\
        &= \lub(\alpha 0 + \alpha, \delta < 1)
            && \text{by Theorem \ref{ord_lt_one_eq}} \\
        &= \lub(\alpha, \delta < 1) && \\
        &= \alpha
            && \text{by Theorem \ref{ord_lub_one}.} \\
    \end{align*}
\end{proof}

\begin{instance}
    The order in the ordinals is multiplicative.
\end{instance}
\begin{proof}
    This is instant from Theorem \ref{ord_pos}.
\end{proof}

\begin{theorem} \label{ord_mult_zero} \label{ord_mult_nz}
    For all ordinals $\alpha$ and $\beta$, if $0 = \alpha \beta$, then either $0
    = \alpha$ and $0 = \beta$.
\end{theorem}
\begin{proof}
    For a contradiction, assume that both $0 \neq \alpha$ and $0 \neq \beta$.
    Then because $0 = \alpha \beta$, we know that $\alpha \delta + \alpha \leq
    0$ for all $\delta < \beta$.  Because $0 \neq \beta$, we have $0 < \beta$,
    so $\alpha 0 + \alpha = \alpha \leq 0$.  By Theorem \ref{ord_neg_eq}, we
    have $\alpha = 0$, a contradiction.
\end{proof}

\begin{theorem} \label{ord_le_lmult}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha \leq \beta$,
    then $\gamma\alpha \leq \gamma\beta$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_lub_least}, it suffices to prove that for all $\delta <
    \alpha$, we have
    \[
        \gamma \delta + \gamma \leq \gamma \beta.
    \]
    Then by Theorem \ref{ord_lub_other_leq}, it suffices to prove that for all
    $\varepsilon$ such that $\gamma \zeta + \gamma \leq \varepsilon$ for all
    $\zeta < \beta$, we have
    \[
        \gamma\delta + \gamma \leq \varepsilon.
    \]
    Since $\delta < \beta$, the result is immediate from the definition of
    $\varepsilon$.
\end{proof}

\begin{theorem} \label{ord_lt_mult_lcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\gamma \alpha < \gamma
    \beta$, then $\alpha < \beta$.
\end{theorem}
\begin{proof}
    If $\beta \leq \alpha$, we could apply the previous theorem to get $\gamma
    \beta \leq \gamma \alpha$, a contradiction.
\end{proof}

\begin{theorem} \label{ord_ldist_one}
    For all ordinals $\alpha$ and $\beta$, we have $\alpha(\beta + 1) =
    \alpha\beta + \alpha$.
\end{theorem}
\begin{proof}
    By the definition of multiplication, we know that
    \[
        \alpha(\beta + 1) = \lub(\alpha\delta + \alpha, \delta < \beta + 1).
    \]
    We will use Theorem \ref{ord_lub_eq} to show that this is equal to $\alpha
    \beta + \alpha$.

    First, let $\delta < \beta + 1$.  By Theorem \ref{ord_lt_suc_le}, we have
    $\alpha \leq \beta$.  Then multiplying by $\alpha$ on the left and adding
    $\alpha$ on the right, we get $\alpha\delta + \alpha \leq \alpha \beta +
    \alpha$, showing that $\alpha\beta + \alpha$ is an upper bound.

    Now let $\varepsilon$ be any other upper bound of $\alpha \delta + \alpha$
    for all $\delta < \beta + 1$.  Since $\beta < \beta + 1$, we have $\alpha
    \beta + \alpha \leq \varepsilon$, showing that $\alpha \beta + \alpha$ is
    the least upper bound.
\end{proof}

\begin{theorem} \label{ord_lub_mult}
    For all ordinals $\alpha$ and $\beta$ and ordinal functions $f$,
    \[
        \alpha \lub(f(\delta), \delta < \beta) = \lub(\alpha f(\delta),
        \delta < \beta).
    \]
\end{theorem}
\begin{proof}
    The proof will be by antisymmetry.  To prove that
    \[
        \alpha \lub(f(\delta), \delta < \beta)
        \leq \lub(\alpha f(\delta), \delta < \beta),
    \]
    first notice that
    \[
        \alpha \lub(f(\delta), \delta < \beta)
        = \lub(\alpha \delta_1 + \alpha,
            \delta_1 < \lub(f(\delta_2), \delta_\beta)).
    \]
    Then by Theorem \ref{ord_lub_least}, it suffices to prove that for all
    $\zeta < \lub(f(\delta), \delta < \beta)$, we have
    \[
        \alpha \zeta + \alpha \leq \lub(\alpha f(\delta), \delta < \beta).
    \]
    Because $\zeta < \lub(f(\delta), \delta < \beta)$, by Theorem
    \ref{ord_lub_in} we have some $\gamma < \beta$ such that $\zeta <
    f(\gamma)$.  Then by Theorem \ref{ord_le_suc_lt}, we have $\zeta + 1 \leq
    f(\gamma)$, and multiplying by $\alpha$ and applying Theorem
    \ref{ord_ldist_one} we get
    \[
        \alpha \zeta + \alpha \leq \alpha f(\gamma).
    \]
    Furthermore, by Theorem \ref{ord_lub_ge}, we have
    \[
        \alpha f(\gamma) \leq \lub(\alpha f(\delta), \delta < \beta).
    \]
    Applying transitivity to the previous two inequalities we get the desired
    result.

    To prove that
    \[
        \lub(\alpha f(\delta), \delta < \beta)
        \leq \alpha \lub(f(\delta), \delta < \beta),
    \]
    we will use Theorem \ref{ord_lub_least}.  Let $\delta < \beta$.  We must
    prove that
    \[
        \alpha f(\delta) \leq \alpha \lub(f(\delta), \delta < \beta).
    \]
    This follows directly from Theorem \ref{ord_le_lmult} and \ref{ord_lub_ge}.
\end{proof}

\begin{instance}
    Multiplication of ordinals is left distributive.
\end{instance}
\begin{proof}
    Let $\alpha$, $\beta$, and $\gamma$ be ordinals.  We will prove that
    $\alpha(\beta + \gamma) = \alpha \beta + \alpha \gamma$ by transfinite
    induction on $\gamma$.  The inductive hypothesis states that for all $\delta
    < \gamma$, we have $\alpha(\beta + \delta) = \alpha \beta + \alpha \delta$.
    If $\gamma = 0$, the result is trivial.  If $\gamma \neq 0$, then
    \begin{align*}
        \alpha(\beta + \gamma)
        &= \alpha \lsub(\beta + \delta, \delta < \gamma)
            && \text{by the definition of addition} \\
        &= \alpha \lub(\beta + \delta + 1, \delta < \gamma)
            && \text{by Theorem \ref{ord_lsub_lub}} \\
        &= \lub(\alpha(\beta + \delta + 1), \delta < \gamma)
            && \text{by Theorem \ref{ord_lub_mult}} \\
        &= \lub(\alpha(\beta + \delta) + \alpha, \delta < \gamma)
            && \text{by Theorem \ref{ord_ldist_one}} \\
        &= \lub(\alpha\beta + \alpha\delta + \alpha, \delta < \gamma)
            && \text{by the inductive hypothesis} \\
        &= \alpha\beta + \lub(\alpha\delta + \alpha, \delta < \gamma)
            && \text{by Theorem \ref{ord_lub_plus}} \\
        &= \alpha\beta + \alpha\gamma
            && \text{by the definition of multiplication.}
    \end{align*}
\end{proof}

\begin{instance}
    Multiplication of ordinals is associative.
\end{instance}
\begin{proof}
    Let $\alpha$, $\beta$, and $\gamma$ be ordinals.  We will prove that
    $\alpha(\beta\gamma) = (\alpha \beta) \gamma$ by transfinite
    induction on $\gamma$.  The inductive hypothesis states that for all $\delta
    < \gamma$, we have $\alpha(\beta\delta) = (\alpha \beta) \delta$.  Then
    \begin{align*}
        \alpha(\beta\gamma)
        &= \alpha \lub(\beta \delta + \beta, \delta < \gamma)
            && \text{by the definition of multiplication} \\
        &= \lub(\alpha(\beta \delta + \beta), \delta < \gamma)
            && \text{by Theorem \ref{ord_lub_mult}} \\
        &= \lub(\alpha(\beta \delta) + \alpha \beta, \delta < \gamma)
            && \\
        &= \lub((\alpha\beta) \delta + \alpha \beta, \delta < \gamma)
            && \text{by the inductive hypothesis} \\
        &= (\alpha\beta) \gamma
            && \text{by the definition of multiplication.}
    \end{align*}
\end{proof}

\begin{theorem} \label{ord_lt_lmult}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $0 \neq \gamma$ and
    $\alpha < \beta$, then $\gamma\alpha < \gamma\beta$.
\end{theorem}
\begin{proof}
    Because $\alpha < \beta$, there exists a $\delta \neq 0$ such that $\alpha +
    \delta = \beta$.  Then by Theorem \ref{ord_mult_nz}, we have
    \begin{align*}
        0 &< \gamma\delta \\
        \gamma\alpha &< \gamma\alpha + \gamma\delta \\
        \gamma\alpha &< \gamma(\alpha + \delta) \\
        \gamma\alpha &< \gamma\beta.
    \end{align*}
\end{proof}

\begin{instance}
    Multiplication of ordinals is left cancellative.
\end{instance}
\begin{proof}
    Let $\alpha$, $\beta$, and $\gamma$ be ordinals such that $0 \neq \gamma$
    and $\gamma \alpha = \gamma \beta$.  If $\alpha \neq \beta$, we can assume
    without loss of generality that $\alpha < \beta$.  Then multiplying this
    inequality by $\gamma$ on the left produces $\gamma \alpha < \gamma \beta$,
    contradicting the equality we started with.  Thus, we must have $\alpha =
    \beta$.
\end{proof}

\begin{theorem} \label{ord_le_mult_lcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $0 \neq \gamma$ an
    d$\gamma \alpha \leq \gamma \beta$, then $\alpha \leq \beta$.
\end{theorem}
\begin{proof}
    If $\gamma\alpha = \gamma\beta$, we could cancel $\gamma$ to get $\alpha =
    \beta$, so $\alpha \leq \beta$.  If $\gamma\alpha \neq \gamma\beta$, we
    could use Theorem \ref{ord_lt_mult_lcancel} to get $\alpha < \beta$.
\end{proof}

\begin{theorem} \label{ord_le_rmult}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha \leq \beta$,
    then $\alpha\gamma \leq \beta\gamma$.
\end{theorem}
\begin{proof}
    The proof will be by transfinite induction on $\gamma$.  The inductive
    hypothesis states that for all $\delta < \gamma$, we have $\alpha \delta
    \leq \beta \delta$.  To prove that
    \[
        \alpha \gamma \leq \beta\gamma
        = \lub(\beta\delta + \beta, \delta < \gamma),
    \]
    we will use Theorem \ref{ord_lub_other_leq}.  So let $\varepsilon$ be an
    ordinal such that for all $\delta < \gamma$, we have $\beta \delta + \beta
    \leq \varepsilon$.  We must prove that
    \[
        \alpha\gamma = \lub(\alpha \delta + \alpha, \delta < \gamma)
        \leq \varepsilon.
    \]
    To do this, we will use Theorem \ref{ord_lub_least}.  So let $\delta <
    \gamma$.  We must prove that $\alpha\delta + \alpha \leq \varepsilon$.
    Because $\delta < \gamma$, we have
    \begin{equation} \label{ord_le_rmult_1}
        \beta\delta + \beta \leq \varepsilon
    \end{equation}
    by the definition of $\varepsilon$.  By the inductive hypothesis, we also
    have
    \begin{equation} \label{ord_le_rmult_2}
        \alpha\delta \leq \beta\delta.
    \end{equation}
    We can add the inequalites $\alpha \leq \beta$ and (\ref{ord_le_rmult_2}) to
    get
    \begin{equation} \label{ord_le_rmult_3}
        \alpha\delta + \alpha \leq \beta\delta + \beta.
    \end{equation}
    Then, by transitivity with (\ref{ord_le_rmult_3}) and
    (\ref{ord_le_rmult_1}), we get
    \[
        \alpha\delta + \alpha \leq \varepsilon
    \]
    as required.
\end{proof}

\begin{theorem} \label{ord_lt_mult_rcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha \gamma < \beta
    \gamma$, then $\alpha < \beta$.
\end{theorem}
\begin{proof}
    If $\beta \leq \alpha$, then by Theorem \ref{ord_le_rmult} we would have
    $\beta \gamma \leq \alpha \gamma$, a contradiction.
\end{proof}

\begin{theorem} \label{ord_le_self_lmult}
    For all ordinals $\alpha$ and $\beta$, if $0 \neq \beta$, then $\alpha \leq
    \beta \alpha$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_pos_one}, we have $1 \leq \beta$.  Then multiplying by
    $\alpha$ we get $\alpha \leq \beta \alpha$.
\end{proof}

\begin{theorem} \label{ord_le_self_rmult}
    For all ordinals $\alpha$ and $\beta$, if $0 \neq \beta$, then $\alpha \leq
    \alpha \beta$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_pos_one}, we have $1 \leq \beta$.  Then multiplying by
    $\alpha$ we get $\alpha \leq \alpha \beta$.
\end{proof}

\begin{theorem} \label{ord_div}
    For all ordinals $\alpha$ and $\beta$, if $0 \neq \beta$, then there exist
    ordinals $\gamma$ and $\delta$ such that $\alpha = \beta \gamma + \delta$
    and $\delta < \beta$.
\end{theorem}
\begin{proof}
    Let $S$ be the set $\{\eta : \Ord \mid \alpha < \beta \eta\}$.  Because $0
    \neq \beta$, by Theorem \ref{ord_le_self_lmult} we have
    \begin{align*}
        \alpha + 1 &\leq \beta(\alpha + 1) \\
        \alpha &< \beta(\alpha + 1),
    \end{align*}
    so $S$ is nonempty.  Let $\varepsilon$ be the least element of $S$.
    $\varepsilon \neq 0$, because if it was, we would have $\alpha < \beta 0 =
    0$.

    We will now prove that there exists an ordinal $\gamma$ such that $\gamma +
    1 = \varepsilon$.  To do so, assume that there is no such $\gamma$.  We will
    prove that $\beta \varepsilon \leq \alpha$, which will be a contradiction
    since $\varepsilon \in S$.  By Theorem \ref{ord_lub_least}, it suffices to
    prove that for all $\zeta < \varepsilon$, we have $\beta\zeta + \beta \leq
    \alpha$.  By Theorem \ref{ord_le_suc_lt}, we have $\zeta + 1 \leq
    \varepsilon$.  If we had $\alpha < \beta\zeta + \beta = \beta(\zeta + 1)$,
    this would mean that $\zeta + 1$ is an upper bound of $S$, so $\varepsilon
    \leq \zeta + 1$.  Since $\zeta + 1 \leq \varepsilon$ too, by antisymmetry we
    have $\zeta + 1 = \varepsilon$.  This contradicts our original assumption
    that no such $\zeta$ exists, so we must have $\beta \varepsilon \leq
    \alpha$, contradicting $\varepsilon \in S$, so we must have some $\gamma$
    such that $\gamma + 1 = \varepsilon$.

    Now we must have $\beta \gamma \leq \alpha$, because if $\alpha < \beta
    \gamma$, we would have $\gamma \in S$, implying that $\varepsilon = \gamma +
    1 \leq \gamma$, which is impossible.  Thus, by Theorem \ref{ord_le_ex}, we
    have an ordinal $\delta$ such that $\beta \gamma + \delta = \alpha$.  This
    shows that $\gamma$ and $\delta$ already satisfy one of the conditions
    required.  To prove that $\delta < \beta$, assume that $\beta \leq \delta$.
    Since $\varepsilon \in \delta$, $\beta \gamma + \delta = \alpha$, and
    $\varepsilon = \gamma + 1$, we have
    \[
        \beta \gamma + \delta < \beta (\gamma + 1).
    \]
    Distributing and cancelling $\beta \gamma$, we get $\delta < \beta$ as
    required.
\end{proof}

\end{document}
