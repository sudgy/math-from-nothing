\documentclass[../../math.tex]{subfiles}
\externaldocument{../../math.tex}
\externaldocument{../basics/foundations}
\externaldocument{../basics/set}
\externaldocument{../basics/elementary_algebra}

\begin{document}

\setcounter{chapter}{8}

\chapter{The Ordinals}

The ordinals are a way of studying well-ordered sets, by basically considering
all of them at once.  They were initially described as equivalence classes of
well-ordered sets, but there were issues with this initial conception and modern
set theories tend to use other constructions.  However, in the foundations used
here, we won't have those issues, so we can describe ordinals using their
traditional interpretation as equivalence classes of well-ordered sets.

\section{Basic Construction}

\begin{definition}
    We will say that an order type is a type $\U$ that has a well order.
\end{definition}

In general, people often use ``order type'' to refer to more than just well
orders, but the concept is mainly useful for well orders, so for the sake of
simplicity we will consider order types to only be well orders.  Remember that
to prove that a type is well-ordered, it suffices to prove that the relation is
antisymmetric and that every nonempty subset has a least element.

\begin{definition}
    Define a relation $\sim$ on order types where $\A \sim \B$ is defined to
    mean that there exists an order isomorphism between $\A$ and $\B$, that is,
    a function $f$ that is bijective and orderly.  Note that these conditions
    also imply that $f$ is equivalently orderly and strictly equivalently
    orderly.
\end{definition}

\begin{lemma}
    The relation $\sim$ is an equivalence relation.
\end{lemma}
\begin{proof}
    \textit{Reflexivitity.}  The identity function is an order isomorphism.

    \textit{Symmetry.}  Assume that there is an order isomorphism $f$ from $\A$
    to $\B$.  Then its inverse $f^{-1}$ is bijective, and when $a \leq b$, we
    have $f(f^{-1}(a)) \leq f(f^{-1}(b))$, and because $f$ is an order
    isomorphism, $f^{-1}(a) \leq f^{-1}(b)$, so $f^{-1}$ is an order isomorphism
    from $\B$ to $\A$.

    \textit{Transitivity.}  Given three order types $\A$, $\B$, and $\C$ with
    order isomorphisms $f : \A \to \B$ and $g : \B \to \C$, $g \circ f$ is an
    order isomorphism from $\A$ to $\C$.
\end{proof}

\begin{definition}
    Define the type $\Ord$ to be the quotient of all order types by $\sim$.
\end{definition}

\section{Order}

It turns out that the ordinals themselves are well ordered.  This ordering is so
important that unlike the previous types that have been developed, this ordering
will be developed before the other operations.  Most sources describe the order
on ordinals using strict inequalities, but describing them using non-strict
inequalities can be useful at times too and is the default way to describe
orderings in the Coq code, so I will first describe the order on ordinals using
non-strict inequalities.

\begin{definition}
    Let $\A$ and $\B$ be order types.  Then we say that $f : \A \to \B$ is an
    ordinal inequality function if it is injective, orderly, and if for all $b :
    \B$ with $f(a) \neq b$ for all $a : \A$, we have $f(a) < b$ for all $a :
    \A$.
\end{definition}

\begin{definition}
    Given two order types $\A$ and $\B$, we will say that $\A \leqq \B$ if there
    exists an ordinal inequality function from $\A$ to $\B$.
\end{definition}

\begin{lemma}
    The relation $\leqq$ is well-defined under the relation $\sim$.
\end{lemma}
\begin{proof}
    Let $A$, $B$, $C$, and $D$ be order types with order isomorphisms $f : A \to
    B$ and $g : C \to D$, and let $h$ be an ordinal inequality function from $A$
    to $C$.  We must prove that there exists an ordinal inequality function from
    $B$ to $D$.  We will prove that $g \circ h \circ f^{-1}$ is such a function.

    \noindent \textit{Injectivity.}
    $g$, $h$, and $f^{-1}$ are all injective, so by Instance \ref{inj_comp}, $g
    \circ h \circ f^{-1}$ is as well.

    \noindent \textit{Orderly.}
    Let $a \leq b$.  Then $f(f^{-1}(a)) \leq f(f^{-1}(b))$, and because $f$ is
    orderly, $f^{-1}(a) \leq f^{-1}(b)$.  Then because $g$ and $h$ are orderly,
    $g(h(f^{-1}(a))) \leq g(h(f^{-1}(b)))$, showing that $g \circ h \circ
    f^{-1}$ is orderly.

    \noindent \textit{Ordinal inequality condition.}
    Let $b : D$ be such that there is no $a : B$ such that $g(h(f^{-1}(a))) =
    b$.  This means that there is no $x : A$ such that $g(h(f^{-1}(f(x)))) =
    g(h(x)) = b = g(g^{-1}(b))$, so by the injectivity of $g$ there is no $x :
    A$ such that $h(x) = g^{-1}(b)$.  Because $h$ is an ordinal inequality
    function, this means that for all $x : A$, $h(x) < g^{-1}(b)$.  Thus, for
    any $a : B$, we have $h(f^{-1}(a)) < g^{-1}(b)$, and applying $g$ to both
    sides gives $g(h(f^{-1}(a))) < b$.
\end{proof}

\begin{instance}
    Define order in the ordinals as the operation obtained by applying Theorem
    \ref{binary_op_ex} to the previous lemma.
\end{instance}

As the following theorem shows, this order is equivalent to the usual definition
of the order on ordinals.

\begin{theorem} \label{ord_lt_simpl}
    For two order types $\A$ and $\B$, $[\A] < [\B]$ iff there exists a $x : \B$
    such that $\A \sim \B_x$, the initial segment of $x$ in $\B$.
\end{theorem}
\begin{proof}
    First assume that $[\A] < [\B]$.  This means that there exists an ordinal
    inequality function $f : \A \to \B$, but no order isomorphism from $\A$ to
    $\B$.  First, there exists an $x' : \B$ such that $f(a) \neq x'$ for all $a
    : \A$.  For if there wasn't such an $x'$, $f$ would be surjective, meaning
    that it is an order isomorphism from $\A$ to $\B$, which is impossible.  Now
    define $x$ to be the least value in $B$ such that $f(a) \neq x$ for all $a :
    \A$.  Because $f$ is an ordinal inequality function, this means that $f(a) <
    x$ for all $a : \A$.  Thus, $f$ can be considered to be a function from $\A$
    to $\B_x$.  $f$ is surjective, because for any $y < x$, by the minimality of
    $x$, there must be an $a : \A$ such that $f(y) = a$.  Thus, $f$ is an order
    isomorphism from $\A$ to $\B_x$.

    Now assume that there exists an $x : \B$ and an order isomorphism $f : \A
    \to \B_x$.  We must prove that $[\A] \leq [\B]$, and that $[\A] \neq [\B]$.

    For $[\A] \leq [\B]$, $f$ itself is already injective and orderly, so all
    that's left to prove is that for all $b : \B$, if $f(a) \neq b$ for all $a$,
    then $f(a) < b$ for all $a$.  So let $b$ be such that $f(a) \neq b$ for all
    $a$, and let $a : \A$.  If $b \leq f(a)$, because $f(a) < x$ by definition
    of $f$, we have $b < x$.  Thus, $b$ is in $\B_x$, so by surjectivity of $f$
    there is some $z$ such that $f(z) = b$.  This however contradicts the
    definition of $b$.  Thus, we must have $f(a) < b$, showing that $f$ is an
    ordinal inequality function.

    For $[\A] \neq [\B]$, assume for a contradiction that $\B \sim \A$.  Then
    there is an order isomorphism $g : B \to A$.  Then we can prove by
    transfinite induction that for all $a : \B$, $a \leq f(g(a))$.  The
    inductive hypothesis states that for all $b < a$, $b \leq f(g(b))$.  Now if
    $f(g(a)) < a$, we would have $f(g(a)) < f(g(f(g(a))))$, and because $f$ and
    $g$ are orderly, we have $a < f(g(a))$.  This contradicts $f(g(a)) < a$, so
    we must have $a \leq f(g(a))$ for all $a : \B$.  This implies that $x \leq
    f(g(x))$, but by the definition of $f$ we must also have $f(g(x)) < x$,
    which is a contradiction.  Thus, we must have $[\A] \neq [\B]$.
\end{proof}

Even though we can normally get away with only proving antisymmetry and the
well-ordering property to prove that a type is well ordered, the proof that the
ordinals are well-ordered here uses the fact that the order is transitive and
connex, so those will have to be proven on their own anyway.

\begin{instance}
    The order on ordinals is connex.
\end{instance}

\begin{proof}
    The proof of this instance is rather involved and will be split up into
    several sub-definitions and lemmas.

    It suffices to prove that for all ordinals $\alpha$ and $\beta$, if $\alpha
    \nless \beta$, then $\beta \leq \alpha$.  Let $\A$ be an order type of
    $\alpha$ and $\B$ be an order type of $\beta$.  Then we know that $\A$ is
    not order isomorphic to an initial segment of $\B$.
    \begin{definition}
        Define a function $f : (p : \B) \to (\B_p \to \A) \to \A$ with $f(p,
        g)$ given by:
        \begin{itemize}
            \item If there exists an $a$ such that $g(x) < a$ for all $x < p$,
                define $f(p, g)$ to be the least such $a$.
            \item Otherwise, $f(p, g)$ will be a random throwaway value in $\A$.
                Such a value is guaranteed to exist since in this context, $p$ is a
                value in $\B$, so if $\A$ was empty, we would have $[\A] < [\B]$,
                which is impossible by assumption.
        \end{itemize}
        By transfinite recursion, there exists a function $g : \B \to \A$ such
        that for all $n : \B$, we have $g(n) = f(n, g \uparrow n)$.
    \end{definition}
    We will prove that $g$ is an ordinal inequality function, proving that
    $\beta \leq \alpha$.

    \begin{definition}
        Given an $n : \B$, define $G_n$ to be the set $\{z : \A \mid \forall x <
        n, g(x) < z\}$.
    \end{definition}

    \begin{definition}
        Say that a value $n : \B$ is \textit{good} if $G_n$ is nonempty.
    \end{definition}
    We will now prove several properties of $g$ and good values:

    \begin{lemma} \label{ord_connex_least}
        For all good $n$, $g(n)$ is the least element of $G_n$.
    \end{lemma}
    \begin{subproof}
        Because $n$ is good, $g(n) = f(n, g \uparrow n)$ takes the first branch
        in the definition of $f$, which produces exactly the least element of
        $G_n$.
    \end{subproof}

    \begin{lemma} \label{ord_connex_preserve}
        $g$ is strictly orderly for good values.
    \end{lemma}
    \begin{subproof}
        This follows directly from the previous lemma.
    \end{subproof}

    \begin{lemma} \label{ord_connex_inj}
        $g$ is injective for good values.
    \end{lemma}
    \begin{subproof}
        Let $a$ and $b$ be good values such that $g(a) = g(b)$.  For a
        contradiction, assume that $a \neq b$, and without loss of generality,
        assume that $a < b$.  Because $g$ is stirctly orderly for good values,
        we have $g(a) < g(b)$, contradicting $g(a) = g(b)$.  Thus, $a = b$.
    \end{subproof}

    \begin{lemma} \label{ord_connex_all_good}
        All $n : \B$ are good.
    \end{lemma}
    \begin{subproof}
        The proof will be by transfinite induction on $n$.  The inductive
        hypothesis states that for all $b < n$, $b$ is good, and we must prove
        that $n$ is good.  For a contradiction, assume that $n$ is not good.  We
        will prove that $\A$ is isomorphic to $\B_n$, contradicting the
        hypothesis that $[\A] \nless [\B]$.  The isomorphism from $\B_n$ to $\A$
        will be $g$ itself.

        $g$ is injective for all $x < n$ because by the inductive hypothesis,
        all such $x$ are good, and $g$ is injective on good values by Lemma
        \ref{ord_connex_inj}.

        For surjectivity, let $x : \A$.  For a contradiction, assume that there
        does not exist any $y : \B_n$ such that $g(y) = x$.  We will prove that
        under this assumption, $n$ is in fact good, contradicting our previous
        assumption.  To prove that $n$ is good, we will prove that for all $a <
        n$, we have $g(a) < x$.  This will be proven using a second transfinite
        induction, this time on $a$: the second inductive hypothesis states that
        for all $b < a$ such that $b < n$ (note that this second condition is
        redundant since $a < n$), we have $g(b) < x$.  This is equivalent to
        saying that $x \in G_a$.  We assumed earlier that $g(y) \neq x$ for all
        $y$, so we only need to prove that $g(a) \leq x$.  By the first
        inductive hypothesis, $a$ is good, so by Lemma \ref{ord_connex_least},
        $g(a)$ is the least element of $G_a$.  Since $x \in G_a$, we have $g(a)
        \leq x$, as required.

        $g$ is orderly for all $x < n$ because by the inductive hypothesis, all
        such $x$ are good, and $g$ is orderly on good values by Lemma
        \ref{ord_connex_preserve}.

        Thus, under the assumption that $n$ is not good, $g$ is an order
        isomorphism from $\B_n$ to $\A$, which is impossible, so all $n : \B$
        are good.
    \end{subproof}
    At this point, most parts of the proof are complete.  Because all values are
    good, $g$ is an injective orderly function from $\B$ to $\A$.  We only need
    to prove the final condition to show that $g$ is an ordinal inequality
    function.  Let $b : \A$ with $g(a) \neq b$ for all $a : \B$, and let $a :
    \B$.  We must prove that $g(a) < b$.  The proof will be by transfinite
    induction on $a$.  The inductive hypothesis states that for all $c < a$, we
    have $g(c) < b$.  This means that $b \in G_a$.  Now since $g(a) \neq b$, we
    only need to prove that $g(a) \leq b$.  By Lemma \ref{ord_connex_least},
    $g(a)$ is the least element of $G_a$, and since $b \in G_a$, $g(a) \leq b$
    as required.
\end{proof}

\begin{lemma} \label{ord_le_part}
    Let $f$ be an ordinal inequality functions from $\A$ to $\B$.  For all $x$
    and $y$ such that all $a < x$ implies $f(a) \neq y$, we have $f(x) \leq y$.
\end{lemma}
\begin{proof}
    Assume for a contradiction that $y < f(x)$.  For an $a : \A$, if $a < x$, we
    have $f(a) \neq y$ by assumption, and if $x \leq a$, we have $y < f(x) \leq
    f(a)$, so $y \neq f(a)$.  Thus, for all $a : \A$, we have $f(a) \neq y$, so
    because $f$ is an ordinal inequality function, we have $f(x) < y$.  This
    contradicts $y < f(x)$, so it must be the case that $f(x) \leq y$ as
    required.
\end{proof}

\begin{instance}
    The order on ordinals is antisymmetric.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be order types with ordinal inequality functions $f : \A
    \to \B$ and $g : \B \to \A$.  We will prove that $f$ itself is an order
    isomorphism.  It is already orderly and injective, so we only
    need to prove that it is surjective.  Let $x : \B$.  We will prove that
    $f(g(x)) = x$.  The proof will be by transfinite induction on $x$.  The
    inductive hypothesis states that for all $b < x$, $f(g(b)) = b$.

    We will now use Lemma \ref{ord_le_part} to prove that $f(g(x)) \leq x$.  So
    let $a < g(x)$.  We must prove that $f(a) \neq x$.  For a contradiction,
    assume that $f(a) = x$.  If $g(x) \leq a$, we would have a contradiction, so
    let's again use Lemma \ref{ord_le_part} to prove this.  So let $b < x$, and
    again for a contradiction assume that $g(b) = a$.  Then from $f(a) = x$ and
    $g(b) = a$, we have $f(g(b)) = x$.  $f(g(b)) = b$ by the inductive
    hypothesis, so $b = x$, contradicting $b < x$.

    All of these contradictions end up showing that, in fact, $f(g(x)) \leq x$.
    Again, we need to prove that $f(g(x)) = x$.  If $f(g(x)) \neq x$, we would
    have $f(g(x)) < x$, so by the inductive hypothesis we would have
    $f(g(f(g(x)))) = f(g(x))$, and since $f$ and $g$ are injective we have
    $f(g(x)) = x$ as required.
\end{proof}

We can now prove a simpler form of ordinal inequalities.

\begin{lemma} \label{ord_le_simpl}
    For all order types $\A$ and $\B$, if there exists an injective orderly
    function from $\A$ to $\B$, then $[\A] \leq [\B]$.
\end{lemma}
\begin{proof}
    Let $f$ be an injective orderly function from $\A$ to $\B$, and assume for a
    contradiction that $[\B] < [\A]$.  This means that there exists $x : \A$ and
    an order isomorphism $g : \B \to \A_x$.  Defining $h = g \circ f$, we have
    an injective orderly function from $\A$ to $\A_x$.

    Let $a$ be an arbitrary value in $\A$.  We will prove by transfinite
    induction that $a \leq h(a)$.  The inductive hypothesis states that for all
    $b < a$, we have $b \leq h(b)$.  Now if $h(a) < a$, we would have $h(a) \leq
    h(h(a))$ by the inductive hypothesis, so $a \leq h(a)$ by $h$ being
    equivalently orderly.  $h(a) < a$ contradicts $a \leq h(a)$, proving that $a
    \leq h(a)$ for all $a$.

    By the previous paragraph, we have $x \leq h(x)$.  But by definition, $h(x)
    < x$.  This is a contradiction, showing that our original assumption that
    $[\B] < [\A]$ is wrong.  Thus, $[\A] \leq [\B]$.
\end{proof}

With this lemma, we no longer need to prove that the ordinal inequality
condition holds when trying to prove that one ordinal is less than or equal to
another.

\begin{instance}
    The order on ordinals is transitive.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types with ordinal inequality functions $f
    : \A \to \B$ and $g : \B \to \C$.  By Lemma \ref{ord_le_simpl}, We need to
    find an injective orderly function from $\A$ to $\C$.  By instances
    \ref{inj_comp} and \ref{homo_le_compose}, $g \circ f$ is such a function.
\end{proof}

\begin{lemma} \label{ords_lt_wo}
    For all ordinals $\alpha$, the initial segment of $\alpha$ is well-ordered.
\end{lemma}
\begin{proof}
    Let $\A$ be an order type, let $\beta < [\A]$, and let $S$ be a set on
    $\Ord_{[\A]}$, the initial segment of $[\A]$, with $\beta \in S$.  Now for
    all $a : \A$, the initial segment $\A_a$ is itself well-ordered.
    Furthermore, for all $a$, we have $[\A_a] < [\A]$ since $\A_a$ is itself an
    initial segment of $\A$.  Thus, we can define a function $f : \A \to
    \Ord_{[\A]}$ given by $f(a) = [\A_a]$.

    We will now prove that $f$ is surjective.  Let $[\Y]$ be an ordinal less
    than $[\A]$.  This means that there exists some $x : \A$ such that $\Y$ is
    order isomorphic to $\A_x$.  Then $f(x) = [\A_x] = [\Y]$ as required.

    We will now prove that $f$ is orderly.  Let $a$ and $b$ be values in $\A$
    such that $a \leq b$.  Then we must prove that $f(a) \leq f(b)$.  By Lemma
    \ref{ord_le_simpl}, we need to find an injective orderly function from
    $\A_a$ to $\A_b$.  Because $a \leq b$, everything in $\A_a$ is in $\A_b$, so
    we the identity function is such a function.

    Now that we have a well-behaved function $f : \A \to \Ord_{[\A]}$, define a
    new set $S' = \{a \A \mid f(a) \in S\}$.  Because $f$ is surjective, there
    exists some $x : \A$ such that $f(a) = \beta$.  Since $\beta \in S$, we have
    $x \in S'$.  Thus, because $\A$ is well-ordered, $S'$ has a least element
    $m$.  We will prove that $f(m)$ is the least element of $S$.  $f(m) \in S$
    since $m \in S'$.  To prove that it's the least element in $S$, let $\gamma$
    be an ordinal less than $[\A]$ that is in $S$.  Since $f$ is surjective,
    there exists some $z$ such that $f(z) = \gamma$.  Then $z \in S'$, so $m
    \leq z$ because $m$ is the least element of $S'$.  Because $f$ is orderly,
    $f(m) \leq f(z) = \gamma$, showing that $f(m)$ is the least element of $S$.
\end{proof}

\begin{instance}
    The order on ordinals is a well order.
\end{instance}
\begin{proof}
    Let $S$ be a set of ordinals, and let $\alpha \in S$.  If $\alpha$ is the
    least element of $S$ then we're done, so assume that $\alpha$ is not the
    least element of $S$.  Then this means that there exists some ordinal $\beta
    < \alpha$ such that $\beta \in S$.  Now define a set $S' = \{\gamma \in
    \Ord_\alpha \mid \gamma \in S\}$.  Since $\beta \in S'$, by Lemma
    \ref{ords_lt_wo} $S'$ has a least element $\mu < \alpha$.  We will prove
    that $\mu$ is the least element of $S$ as well.  $\mu$ is already an element
    of $S$ by virtue of being in $S'$, so we just need to prove that it's the
    least element of $S$.  So let $y \in S$.  If $y < \alpha$, Then $y \in S'$,
    and since $\mu$ is the least element of $S'$, $\mu \leq S'$.  If $y \geq
    \alpha$, then since $\mu < \alpha$, we have $\mu < y$.  Either way, $\mu
    \leq y$, showing that $\mu$ is the least element of $S$.
\end{proof}

\section{Addition}

\begin{definition}
    Given two order types $\A$ and $\B$, define an order on $\A + \B$ given by
    \[
        x \leq y =
        \begin{cases}
            x \leq_\A y  &\text{ if $x : \A$ and $y : \A$} \\
            \verb|True|  &\text{ if $x : \A$ and $y : \B$} \\
            \verb|False| &\text{ if $x : \B$ and $y : \A$} \\
            x \leq_\B y  &\text{ if $x : \B$ and $y : \B$.}
        \end{cases}
    \]
\end{definition}

\begin{lemma}
    Given two order types $\A$ and $\B$, the order on $\A + \B$ is well-order.
\end{lemma}
\begin{proof}
    For antisymmetry, let $x$ and $y$ be in $\A + \B$ with $x \leq y$ and $y
    \leq x$.  If $x$ and $y$ are not in the same of $\A$ and $\B$, then one of
    $x \leq y$ and $y \leq x$ will be \verb|False|, which is impossible.  So the
    only cases left is when $x$ and $y$ are both of the same type.  In that
    case, $x = y$ follows from the antisymmetry of that type.

    For well ordering, let $S$ be a nonempty set in $\A + \B$.  There will be
    two cases: when there exists an $a : \A$ with $a| \in S$, and when no $a :
    \A$ with $a| \in S$ exists.  When such an $a$ exists, define a set $S' : \A
    \to \Prop$, which is just the restriction of $S$ to $\A$.  Then $S'$ is
    nonempty, so it has a least element $m$.  Then for every $y \in S$, if $y :
    \A$, then $m| \leq y|$ by $m$ being the least element of $S'$.  If $y : \B$,
    then $m| \leq |y$ by the definition of $\leq$ in $\A + \B$.  Either way,
    $m|$ is the least element of $S$.

    Now consider the case where there is no $a : \A$ with $a| \in S$.  Because
    $S$ is nonempty, there is some $b : \B$ with $|b \in S$.  Now define a set
    $S' : \B \to \Prop$, which is just the restriction of $S$ to $\B$.  $S'$ is
    nonempty, so it has a least element $m$.  Then $|m \in S$, and it must be
    the least element of $S$ as well because it's the least element of $S'$, and
    nothing in $\A$ can be in $S$.
\end{proof}

\begin{definition}
    Define a binary operation $\oplus$ on order types that takes in two order
    types $\A$ and $\B$ and produces the order type $\A + \B$.
\end{definition}

\begin{lemma}
    The operation $\oplus$ is well-defined under the relation $\sim$.
\end{lemma}
\begin{proof}
    Let $\A$, $\B$, $\C$, and $\D$ be order types with order isomorphisms $f :
    \A \to \B$ and $g : \C \to \D$.  Then define a new function $h : \A \oplus
    \C \to \B \oplus \D$ defined by
    \[
        h(x) =
        \begin{cases}
            f(x)| &\text{if $x : \A$} \\
            |g(x) &\text{if $x : \C$.}
        \end{cases}
    \]
    We will prove that $h$ is an order isomorphism.

    For injectivity, let $x$ and $y$ be in $\A \oplus \C$ with $h(x) = h(y)$.
    If $x : \A$ and $y : \A$, then $x = y$ follows from the injectivity of $f$.
    If $x : \A$ and $y : \B$, then $h(x) = h(y)$ would imply $f(x)| = |g(y)$, so
    this case is impossible.  The case $x : \B$ and $y : \A$ is similar.  And if
    $x : \B$ and $y : \B$, then $x = y$ follows from the injectivity of $g$.

    For surjectivity, let $y$ be a value in $\B \oplus \D$.  If $y : \B$, then
    by the surjectivity of $f$, there is an $x$ such that $f(x)| = h(x) = y|$.
    If $y : \D$, then by the surjectivity of $g$, there is an $x$ such that
    $|g(x) = h(x) = |y$.  Either way, $h$ is surjective.

    For being orderly, let $x$ and $y$ be values in $\A \oplus \C$ such that $x
    \leq y$.  If $x : \A$ and $y : \A$, then since $f$ is orderly, we have
    $f(x)| \leq f(y)|$, showing that $h(x) \leq h(y)$.  If $x : \A$ and $y :
    \C$, then $f(x)| \leq |g(y)$ by definition, showing that $h(x) \leq h(y)$.
    If $x : \C$ and $y : \A$, then $|x \leq y|$ is impossible, so this case is
    impossible.  If $x : \C$ and $y : \C$, then since $g$ is orderly, we have
    $|g(x) \leq |g(y)$, showing that $h(x) \leq h(y)$.
\end{proof}

\begin{instance}
    Define addition in the ordinals as the binary operation given by Theorem
    \ref{binary_op_ex} and the previous lemma.
\end{instance}

Addition of ordinals is notably more ill-behaved than in other types.  In
particular, ordinal addition is not commutative, and there are many properties
that hold for addition on one side, but not the other side.  Some of the
algebraic facts about ordinals can use the implications developed in Chapter
\ref{chap_ealgebra}, but not all of them.  Just looking at what is listed in
this document, it can be a bit difficult to figure out which of those
implications are valid and which aren't.  Again, Coq figures that stuff out
automatically, so I just let it tell me when I'm doing something wrong.

\begin{instance}
    Addition of ordinals is associative.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types.  Then define a function $f : \A +
    (\B + \C) \to (\A + \B) + \C$ given by
    \[
        f(x) =
        \begin{cases}
            x|| &\text{if $x : \A$} \\
            (|x)| &\text{if $x : \B$} \\
            |x &\text{if $x : \C$.}
        \end{cases}
    \]
    We will prove that $f$ is an order isomorphism.

    For injectivity, let $x$ and $y$ be values in $\A + (\B + \C)$ with $f(x) =
    f(y)$.  There are nine cases, depending on which types $x$ and $y$ are in.
    Whenever they are not of the same type, $f(x) = f(y)$ becomes an impossible
    equation, making those cases impossible.  In the other cases, $f(x) = f(y)$
    reduces to $x = y$.

    For surjectivity, let $y$ be in $(\A + \B) + \C$.  Whatever type it is in,
    you can construct the corresponding value $x$ in $\A + (\B + \C)$, where
    $f(x) = y$ by definition.

    For being orderly, let $x$ and $y$ be values in $\A + (\B + \C)$ such that
    $x \leq y$.  There are nine cases, depending on which types $x$ and $y$ are
    in.  When $x : \A$ and $y : \B$ or $y : \C$, or when $x : \B$ and $y : \C$,
    $x \leq y$ in $(\A + \B) + \C$ by definition.  In the opposite cases where
    the types of $x$ and $y$ are swapped from the previous cases, $x \leq y$ in
    $\A + (\B + \C)$ is impossible, so these cases are impossible.  In the final
    cases, where $x$ and $y$ have the same type, $x \leq y$ in $(\A + \B) + \C$
    follows directly from $x \leq y$ in $\A + (\B + \C)$.
\end{proof}

\begin{instance}
    Define zero in the ordinals to be the $[\E]$, where $\E$ is the empty type.
\end{instance}

\begin{instance}
    Zero is a left additive identity in the ordinals.
\end{instance}
\begin{proof}
    For all order types $\A$, the function taking $x : \A$ to $|x$ is an order
    isomorphism from $\A$ to $\E + \A$.
\end{proof}

\begin{instance}
    Zero is a right additive identity in the ordinals.
\end{instance}
\begin{proof}
    For all order types $\A$, the function taking $x : \A$ to $x|$ is an order
    isomorphism from $\A$ to $\A + \E$.
\end{proof}

\begin{theorem} \label{ord_lt_lplus}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha < \beta$, then
    $\gamma + \alpha < \gamma + \beta$.
\end{theorem}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types with $x : \B$ and an order
    isomorphism $f : \A \to \B_x$.  We will prove that $\C \oplus \A$ is
    isomorphic to the initial segment $(\C \oplus \B)_{|x}$.  Define a function
    $g : \C \oplus \A \to (\C \oplus \B)_{|x}$ given by
    \[
        g(a) =
        \begin{cases}
            |a    &\text{if $a : \C$} \\
            f(a)| &\text{if $a : \A$.}
        \end{cases}
    \]
    $g$ is well-defined because when $a : \C$, we have $a| < |x$ by
    definition, and when $a : \A$, we have $f(a) < x$ by the definition of
    $f$.  We will now prove that $g$ is an order isomorphism.

    For injectivity, let $c$ and $a$ be values in $\C \oplus \A$ with $g(c) =
    g(a)$.  When $c : \C$ and $a : \C$, $g(c) = g(a)$ means that $c = a$.  The
    case $c : \C$ and $a : \A$ is impossible because it implies that $|c =
    f(a)|$.  The case $c : \A$ and $a : \C$ is similar.  When $c : \A$ and $a :
    \A$, $g(c) = g(a)$ means that $f(c) = f(a)$, and by the injectivity of $f$
    we have $c = a$.

    For surjectivity, let $y$ be a value in $(\C \oplus \B)_{|x}$.  If $y : \C$,
    then we have $g(y|) = y|$ as required.  If $y : \B$, we have $y < x$ since
    $y : (\C \oplus \B)_{|x}$.  Then because $f$ is surjective, we have an $a$
    with $f(a) = y$.  Then $g(|a) = |f(a) = |y$ as required.

    For being orderly, let $a$ and $b$ be values in $C \oplus A$ with $a \leq
    b$.  If $a : \C$ and $b : \C$, $a \leq b$ is equivalent to $g(a) \leq g(b)$.
    If $a : \C$ and $b : \A$, we have $g(a|) = a| \leq |f(b) = g(|b)$.  If $a :
    \A$ and $b : \C$, $a \leq b$ is impossible.  If $a : \A$ and $b : \A$, then
    because $f$ is orderly, we have $f(a) \leq f(b)$, so $g(|a) \leq g(|b)$ as
    required.
\end{proof}

\begin{instance}
    Addition is left cancellative in the ordinals.
\end{instance}
\begin{proof}
    Let $\gamma + \alpha = \gamma + \beta$.  Assume for a contradiction that
    $\alpha \neq \beta$, and without loss of generality assume that $\alpha <
    \beta$.  Then by Theorem \ref{ord_lt_lplus}, we have $\gamma + \alpha <
    \gamma + \beta$.  This contradicts $\gamma + \alpha = \gamma + \beta$, so we
    must have $\alpha = \beta$.
\end{proof}

\begin{instance}
    The order in the ordinals is left additive.
\end{instance}
\begin{proof}
    Let $\alpha \leq \beta$.  We must prove that $\gamma + \alpha \leq \gamma +
    \beta$.  If $\alpha = \beta$, the result follows from reflexivity.  If
    $\alpha \neq \beta$, we have $\alpha < \beta$, so the result follows from
    Theorem \ref{ord_lt_lplus}.
\end{proof}

\begin{theorem} \label{ord_pos}
    For all ordinals $\alpha$, $0 \leq \alpha$.
\end{theorem}
\begin{proof}
    The empty function is vacuously an ordinal inequality function.
\end{proof}

\begin{theorem} \label{ord_pos2}
    For all ordinals $\alpha$ with $0 \neq \alpha$, we have $0 < \alpha$.
\end{theorem}
\begin{proof}
    This follows from the previous theorem and the definition of $<$.
\end{proof}

\begin{theorem} \label{ord_le_ex}
    For all ordinals $\alpha$ and $\beta$ with $\alpha \leq \beta$, there exists
    an ordinal $\gamma$ such that $\alpha + \gamma = \beta$.
\end{theorem}
\begin{proof}
    Let $\A$ and $\B$ be order types with an ordinal inequality function $f : \A
    \to \B$.  Then the set $C = \{b : \B \mid \forall a : \A, f(a) \neq b\}$
    describes a sub order type of $\B$.  We will prove that $[\A] + [\T(C)] =
    [\B]$.  Define a function $g : \A + \T(C) \to \B$ given by
    \[
        g(x) =
        \begin{cases}
            f(x) &\text{if $x : \A$} \\
            x    &\text{if $x : \T(C)$.}
        \end{cases}
    \]
    We will prove that $g$ is an order isomorphism.

    For injectivity, let $x$ and $y$ be values in $\A + \T(C)$ such that $g(x) =
    g(y)$.  If $x : \A$ and $y : \A$, we have $f(x) = f(y)$, so $x = y$ by the
    injectivity of $f$.  If $x : \A$ and $y : \T(C)$, we would have $f(a) = b$,
    but $b$ by definition is not equal to any $f(a)$, so this case is
    impossible.  The case $x : \T(C)$ and $y : \A$ is similar.  If $x : \T(C)$
    and $y : \T(C)$, $g(x) = g(y)$ directly means that $x = y$.

    For surjectivity, let $y : \B$.  There will be two cases: if $f(a) \neq y$
    for all $a$, or if there is an $a$ with $f(a) = y$.  When $f(a) \neq y$ for
    all $a$, then $y \in C$, so $g(|y) = y$ as required.  If there is an $a$ with
    $f(a) = y$, when $g(|a) = f(a) = y$ as required.

    For being orderly, let $x$ and $y$ be values in $\A + \T(C)$ with $x \leq
    y$.  If $x : \A$ and $y : \A$, $g(x) \leq g(y)$ is equivalent to $f(x) \leq
    f(y)$, which follows from $f$ being orderly.  If $x : \A$ and $y : \T(C)$,
    $y$ being in $c$ is precisely the condition in $f$ being an ordinal
    inequality function, so $f(x) \leq y$.  When $x : \T(C)$ and $y : \A$, $|x <
    y|$ is already impossible, so this case is impossible.  When $x : \T(C)$ and
    $y : \T(C)$, $g(x) \leq g(y)$ is precisely $x \leq y$, which we already
    have.
\end{proof}

\begin{theorem} \label{ord_lt_ex}
    For all ordinals $\alpha$ and $\beta$ with $\alpha < \beta$, there exists
    an ordinal $\gamma \neq 0$ such that $\alpha + \gamma = \beta$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_le_ex}, we can already get such a $\gamma$, except that
    we don't know if $\gamma \neq 0$.  If $\gamma = 0$, we would have $\alpha +
    0 = \alpha = \beta$, which contradicts $\alpha < \beta$.  Thus, we must have
    $\gamma \neq 0$.
\end{proof}

\begin{theorem} \label{ord_lt_plus_lcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\gamma + \alpha <
    \gamma + \beta$, then $\alpha < \beta$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_lt_ex}, there exists a $\delta \neq 0$ such that $\gamma
    + \alpha + \delta = \gamma + \beta$.  Cancelling $\gamma$, we get $\alpha +
    \delta = \beta$.  Then what we need to prove reduces to $\alpha < \alpha +
    \delta$.  By Theorem \ref{ord_lt_lplus}, it suffices to prove that $0 <
    \delta$, which follows from Theorem \ref{ord_pos2}.
\end{proof}

\begin{instance}
    The order on ordinals is left addition cancellative.
\end{instance}
\begin{proof}
    Let $\gamma + \alpha \leq \gamma + \beta$.  We need to prove that $\alpha
    \leq \beta$.  If we had $\gamma + \alpha = \gamma + \beta$, we could cancel
    $\gamma$ to get $\alpha = \beta$ and the result would follow from flexivity.
    If $\gamma + \alpha \neq \gamma + \beta$, we have $\gamma + \alpha < \gamma
    + \beta$, so we can now cancel by using Theorem \ref{ord_lt_plus_lcancel} to
    get the desired result.
\end{proof}

\begin{theorem} \label{ord_le_self_rplus}
    For all ordinals $\alpha$ and $\beta$, $\alpha \leq \alpha + \beta$.
\end{theorem}
\begin{proof}
    We can just cancel $\alpha$ to get $0 \leq \beta$, which is just Theorem
    \ref{ord_pos}.
\end{proof}

\begin{theorem} \label{ord_le_self_lplus}
    For all ordinals $\alpha$ and $\beta$, $\alpha \leq \beta + \alpha$.
\end{theorem}
\begin{proof}
    Let $\A$ and $\B$ be order types.  Then the function $f : \B \to \A + \B$
    given by $f(x) = |x$ is injective and orderly, so by Theorem
    \ref{ord_le_simpl} we have $[\A] \leq [\B] + [\A]$.
\end{proof}

\begin{instance}
    The order on ordinals is right additive.
\end{instance}
\begin{proof}
    Let $\alpha \leq \beta$.  By Theorem \ref{ord_le_ex}, there exists a
    $\delta$ such that $\alpha + \delta = \beta$.  For any $\gamma$, by Theorem
    \ref{ord_le_self_lplus}, we have
    \begin{align*}
        \gamma &\leq \delta + \gamma \\
        \alpha + \gamma &\leq \alpha + \delta + \gamma \\
        \alpha + \gamma &\leq \beta + \gamma.
    \end{align*}
\end{proof}

\begin{theorem} \label{ord_lt_plus_rcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha + \gamma <
    \beta + \gamma$, $\alpha < \beta$.
\end{theorem}
\begin{proof}
    Assume that $\beta \leq \alpha$.  Then we can add $\gamma$ on the right to
    get $\beta + \gamma \leq \alpha + \gamma$.  This contradicts $\alpha +
    \gamma < \beta + \gamma$, so we must have $\alpha < \beta$.
\end{proof}

\begin{theorem} \label{ord_lt_self_rplus}
    For all ordinals $\alpha$ and $\beta$ with $0 \neq \beta$, we have $\alpha <
    \alpha + \beta$.
\end{theorem}
\begin{proof}
    That $\alpha \leq \alpha + \beta$ is just Theorem \ref{ord_le_self_rplus}.
    To prove that $\alpha \neq \alpha + \beta$, just cancel $\alpha$ to get $0
    \neq \beta$, which we already know.
\end{proof}

\begin{theorem} \label{ord_false_0}
    For all order types $\A$, if $\A \to \verb|False|$, then $0 = [\A]$.
\end{theorem}
\begin{proof}
    The empty function from $\E$ to $\A$ is vacuously injective and orderly.  It
    vacuously surjective because $\A \to \verb|False|$.
\end{proof}

\section{Multiplication}

\begin{definition}
    Define a binary operation $\otimes$ on order types that takes in two order
    types $\A$ and $\B$ and produces the order type $\A \times \B$ with the
    dictionary order.
\end{definition}

\begin{lemma}
    The operation $\otimes$ is well-defined under the relation $\sim$.
\end{lemma}
\begin{proof}
    Let $\A$, $\B$, $\C$, and $\D$ be order types with order isomorphisms $f :
    \A \to \B$ and $g : \C \to \D$.  Then define a new function $h : \A \otimes
    \C \to \B \otimes \D$ defined by $h(a, c) = (f(a), g(c))$.  We will prove
    that $h$ is an order isomorphism.

    For injectivity, Let $(a_1, c_1)$ and $(a_2, c_2)$ be such that $h(a_1, c_1)
    = h(a_2, c_2)$.  This means that $f(a_1) = f(a_2)$ and $g(c_1) = g(c_2)$.
    By the injective of $f$ and $g$, we get $a_1 = a_2$ and $c_1 = c_2$, showing
    that $(a_1, c_1) = (a_2, c_2)$.

    For surjectivity, let $(b, d)$ be in $\B \otimes \D$.  Then because $f$ and
    $g$ are surjective, we have an $a$ and $c$ such that $f(a) = b$ and $g(c) =
    d$.  Then $h(a, c) = (f(a), g(c)) = (b, d)$ as required.

    For being orderly, let $(a_1, c_1)$ and $(a_2, c_2)$ be such that $(a_1,
    c_1) \leq (a_2, c_2)$.  By the definition of the dictionary order, $(a_1,
    c_1) \leq (a_2, c_2)$ means that either $c_1 < c_2$, or $a_1 \leq a_2$ and
    $c_1 = c_2$.  When $c_1 < c_2$, we have $g(c_1) < g(c_2)$, meaning that
    $(f(a_1), g(c_1)) \leq (f(a_2), g(c_2))$.  When $a_1 \leq a_2$ and $c_1 =
    c_2$, we have $f(a_1) \leq f(a_2)$ and $g(c_1) = g(c_2)$, meaning that
    $(f(a_1), g(c_1)) \leq (f(a_2), g(c_2))$.  Either way, we have $(f(a_1),
    g(c_1)) \leq (f(a_2), g(c_2))$ as required.
\end{proof}

\begin{instance}
    Define multiplication in the ordinals as the binary operation given by
    Theorem \ref{binary_op_ex} and the previous lemma.
\end{instance}

Like with addition, ordinal multiplication is not commutative, making proving
things about it quite cumbersome.

\begin{instance}
    Ordinal multiplication is left distributive over addition.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types, and define a function $f : \A
    \times (\B + \C) \to \A \times \B + \A \times \C$ given by
    \begin{align*}
        f(a, b|) &= (a, b)| \\
        f(a, |c) &= |(a, c).
    \end{align*}
    We will prove that $f$ is an order isomorphism.

    For injectivity, let $(a_1, x_1)$ and $(a_2, x_2)$ be such that $f(a_1, x_1)
    = f(a_2, x_2)$.  When $x_1 : \B$ and $x_2 : \B$, we have $a_1 = a_2$ and
    $x_1 = x_2$ as required.  The case $x_1 : \C$ and $x_2 : \C$ is similar.
    When $x_1 : \B$ and $x_2 : \C$, we have $(a_1, x_1)| = |(a_2, x_2)$, which
    is impossible.  The case $x_1 : \C$ and $x_2 : \B$ is impossible for a
    similar reason.

    For surjectivity, let $(a, x)$ be a value in $\A \times \B + \A \times \C$.
    If $x : \B$, then $f(a, x|) = (a, x)$, and if $x : \C$, then $f(a, |x) = (a,
    x)$.

    For being orderly, let $(a_1, x_1)$ and $(a_2, x_2)$ be such that $(a_1,
    x_1) \leq (a_2, x_2)$.  We have four cases for when $x_1$ and $x_2$ are
    values in $\B$ and $\C$, but then each case has two more cases for whether
    $(a_1, x_2) \leq (a_2, x_2)$ means that $x_1 < x_2$ or that $a_1 \leq a_2$
    and $x_1 = x_2$.  However, some of the cases end up being the same still.
    \begin{case} $x_1 : \B$ and $x_2 : \B$.
        In this case, $f(a_1, x_1) \leq f(a_2, x_2)$ is precisely the statement
        that $(a_1, b_1) \leq (a_2, b_2)$, which we already have.
    \end{case}
    \begin{case} $x_1 : \B$ and $x_2 : \C$.
        In this case, $f(a_1, x_1) \leq f(a_2, x_2)$ becomes the statement
        $(a_1, x_1)| \leq |(a_2, x_2)$, which is true by definition.
    \end{case}
    \begin{case} $x_1 : \C$, $x_2 : \B$, and $x_1 < x_2$.
        $x_1 < x_2$ is actually the statement $|x_1 < x_2|$, which is
        impossible.
    \end{case}
    \begin{case} $x_1 : \C$, $x_2 : \B$, and $a_1 \leq a_2$ and $x_1 = x_2$.
        Since $x_1$ and $x_2$ are of different types, this case is also
        impossible.
    \end{case}
    \begin{case} $x_1 : \C$ and $x_2 : \C$.
        This case is similar to the first case.
    \end{case}
\end{proof}

\begin{instance}
    Multiplication of ordinals is associative.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types.  Define $f : \A \times (\B \times
    \C) \to (\A \times \B) \times \C$ by $f(a, (b, c)) = ((a, b), c)$.  This
    function is easily shown to be bijective.  To show that it is orderly, let
    $(a_1, (b_1, c_1))$ and $(a_2, (b_2, c_2))$ be such that $(a_1, (b_1, c_1))
    \leq (a_2, (b_2, c_2))$.  We have two cases: when $(b_1, c_1) < (b_2, c_2)$,
    and when $a_1 \leq a_2$ and $(b_1, c_1) = (b_2, c_2)$.  The first case can
    be split into two further cases: when $c_1 < c_2$, and when $b_1 < b_2$ and
    $c_1 = c_2$.  Thus there are three cases.
    \setcounter{case}{0}
    \begin{case} $c_1 < c_2$.
        This directly proves $((a_1, b_1), c_1) \leq ((a_2, b_2), c_2)$.
    \end{case}
    \begin{case} $b_1 < b_2$ and $c_1 = c_2$.
        By $b_1 < b_2$, we have $(a_1, b_1) \leq (a_2, b_2)$, and that along
        with $c_1 = c_2$ proves that $((a_1, b_1), c_1) \leq ((a_2, b_2), c_2)$.
    \end{case}
    \begin{case} $a_1 \leq a_2$ and $(b_1, c_1) = (b_2, c_2)$.
        Since $a_1 \leq a_2$ and $b_1 = b_2$, we have $(a_1, b_1) \leq (a_2,
        b_2)$.  Then, that along with $c_1 = c_2$ proves that $((a_1, b_1), c_1)
        \leq ((a_2, b_2), c_2)$.
    \end{case}
\end{proof}

\begin{instance}
    Zero is a left annihilator in the ordinals.
\end{instance}
\begin{proof}
    For an arbitrary order type $\A$, we can use the left projection $P_1$ as a
    function from $\E \times \A$ to $\E$.  Then, all the conditions for $P_1$ to
    be an order isomorphism hold vacuously.
\end{proof}

\begin{instance}
    Define one in the ordinals to be the $[\S]$, where $\S$ is the singleton
    type.
\end{instance}

\begin{instance}
    One is a left identity in the ordinals.
\end{instance}
\begin{proof}
    For an arbitrary order type $\A$, we will prove that the right projection
    $P_2$ is an order isomorphism from $\S \times \A$ to $\A$.  For injectivity,
    if $P_2(a) = P_2(b)$, we have the second coordinate being equal, and the
    first coordinate is equal because all values of the singleton type are
    equal.  For surjectivity, given a $y : \A$, we have $P_2(I, y) = y$.  For
    preseving inequalities,  let $(a_1, a_2) \leq (b_1, b_2)$.  If $a_2 < b_2$,
    we have $a_2 \leq b_2$ as required.  If $a_1 \leq b_1$ and $a_2 = b_2$, we
    have $a_2 \leq b_2$ from $a_2 = b_2$.
\end{proof}

\begin{instance}
    One is a right identity in the ordinals.
\end{instance}
\begin{proof}
    The proof mostly goes the same as the last proof but with $P_1$ instead of
    $P_2$, except that proving that that $P_1$ is orderly is a little different.
    Let $(a_1, a_2) \leq (b_1, b_2)$.  It's impossible for $a_2 < b_2$ because
    they are both elements of the singleton type.  Thus, we must have $a_1 \leq
    b_1$ and $a_2 = b_2$, from which we already have $a_1 \leq b_1$ as required.
\end{proof}

\begin{theorem} \label{ord_mult_zero}
    For all ordinals $\alpha$ and $\beta$, if $0 = \alpha \beta$, then either $0
    = \alpha$ or $0 = \beta$.
\end{theorem}
\begin{proof}
    Let $\A$ be an order type for $\alpha$ and $\B$ be an order type for
    $\beta$.  If both $0 \neq \alpha$ and $0 \neq \beta$, by the contrapositive
    of Theorem \ref{ord_false_0}, there exists some $a : \A$ and $b : \B$.  Then
    since $\alpha\beta = 0$, there exists a function $f : \A \times \B \to \E$.
    Then $f(a, b)$ would be a value in the empty type, which is impossible.
    Thus, at least one of $\alpha$ and $\beta$ must be zero.
\end{proof}

\begin{theorem} \label{ord_le_lmult}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha \leq \beta$,
    then $\gamma \alpha \leq \gamma \beta$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_le_ex}, we have a $\delta$ such that $\alpha + \delta =
    \beta$.  Then
    \begin{align*}
        0 &\leq \gamma \delta \\
        \gamma \alpha &\leq \gamma \alpha + \gamma \delta \\
        \gamma \alpha &\leq \gamma (\alpha + \delta) \\
        \gamma \alpha &\leq \gamma \beta.
    \end{align*}
\end{proof}

\begin{theorem} \label{ord_lt_lmult}
    For all ordinals $\alpha$, $\beta$, and $\gamma$ with $\gamma \neq *$, if
    $\alpha < \beta$, then $\gamma \alpha < \gamma \beta$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_lt_ex}, there exists a $\delta \neq 0$ such that $\alpha
    + \delta = \beta$.  By Theorem \ref{ord_mult_zero}, $\gamma \delta \neq 0$,
    so by Theorem \ref{ord_pos2},
    \begin{align*}
        0 &< \gamma \delta \\
        \gamma \alpha &< \gamma \alpha + \gamma \delta \\
        \gamma \alpha &< \gamma (\alpha + \delta) \\
        \gamma \alpha &< \gamma \beta.
    \end{align*}
\end{proof}

\begin{instance}
    Multiplication of ordinals is left cancellative.
\end{instance}
\begin{proof}
    Let $\alpha$, $\beta$, and $\gamma$ be ordinals with $0 \neq \gamma$ and
    $\gamma \alpha = \gamma \beta$.  Assume for a contradiction that $\alpha
    \neq \beta$, and without loss of generality assume that $\alpha < \beta$.
    Then by Theorem \ref{ord_lt_lmult} we have $\gamma \alpha < \gamma \beta$,
    which is impossible because $\gamma \alpha = \gamma \beta$.  Thus, we must
    have $\alpha = \beta$.
\end{proof}

\begin{theorem} \label{ord_lt_mult_lcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\gamma \alpha < \gamma
    \beta$, then $\alpha < \beta$.
\end{theorem}
\begin{proof}
    Assume for a contradiction that $\beta \leq \alpha$.  Then by Theorem
    \ref{ord_le_lmult}, we have $\gamma \beta \leq \gamma \alpha$.  This
    contradicts $\gamma \alpha < \gamma \beta$, so we must have $\alpha <
    \beta$.
\end{proof}

\begin{theorem} \label{ord_le_mult_lcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$ with $0 \neq \gamma$, if
    $\gamma \alpha \leq \gamma \beta$, then $\alpha \leq \beta$.
\end{theorem}
\begin{proof}
    If $\gamma \alpha = \gamma \beta$, we can cancel $\gamma$ to get $\alpha =
    \beta$, so $\alpha \leq \beta$ in that case.  If $\gamma \alpha \neq \gamma
    \beta$, we have $\gamma \alpha < \gamma \beta$, where the result follows
    from Theorem \ref{ord_lt_mult_lcancel}.
\end{proof}

\begin{theorem} \label{ord_le_rmult}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha \leq \beta$,
    then $\alpha \gamma \leq \beta \gamma$.
\end{theorem}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be order types with an ordinal inequality function
    $f : \A \to \B$.  By Theorem \ref{ord_le_simpl}, we need to find an
    injective orderly function from $\A \times \C$ to $\B \times \C$.
    We will prove that the function $g(a, c) = (f(a), c)$ works.

    For injectivity, let $(a_1, c_1)$ and $(a_2, c_2)$ be such that $g(a_1, c_1)
    = g(a_2, c_2)$.  This means that $f(a_1) = f(a_2)$ and that $c_1 = c_2$.  By
    the injectivity of $f$, we have $a_1 = a_2$, so $(a_1, c_1) = (a_2, c_2)$.

    For being orderly, let $(a_1, c_1) \leq (a_2, c_2)$.  We must prove that
    $(f(a_1), c_1) \leq (f(a_2), c_2)$.  If $c_1 < c_2$, we directly have
    $(f(a_1), c_1) \leq (f(a_2), c_2)$.  If $a_1 \leq a_2$ and $c_1 = c_2$, then
    $f(a_1) \leq f(a_2)$ by $f$ being orderly, so $(f(a_1), c_1) \leq (f(a_2),
    c_2)$.
\end{proof}

\begin{theorem} \label{ord_lt_mult_rcancel}
    For all ordinals $\alpha$, $\beta$, and $\gamma$, if $\alpha \gamma < \beta
    \gamma$, then $\alpha < \beta$.
\end{theorem}
\begin{proof}
    Assume for a contradiction that $\beta \leq \alpha$.  Then by Theorem
    \ref{ord_le_rmult}, we have $\beta \gamma \leq \alpha \gamma$, contradicting
    $\alpha \gamma < \beta \gamma$.  Thus, $\alpha < \beta$.
\end{proof}

\begin{theorem} \label{ord_lt_one}
    For all ordinals $\alpha$, if $\alpha < 1$, then $0 = \alpha$.
\end{theorem}
\begin{proof}
    Let $\A$ be an order type for $\alpha$.  Then because $\alpha < 1$, there
    exists an order isomorphism $f$ from $\A$ to the initial segment of $I$ in
    the singleton type.  Notably, the initial segment of $I$ must be empty.
    This means that if there was an $a : \A$, $f(a)$ would produce an impossible
    value.  Thus, by Theorem \ref{ord_false_0}, $0 = \alpha$.
\end{proof}

\begin{theorem} \label{ord_le_self_lmult}
    For all ordinals $\alpha$ and $\beta$ with $0 \neq \beta$, we have $\alpha
    \leq \beta \alpha$.
\end{theorem}
\begin{proof}
    Since $0 \neq \beta$, by the contrapositive of Theorem \ref{ord_lt_one}, we
    have $1 \leq \beta$.  Then by Theorem \ref{ord_le_rmult}, we have $\alpha
    \leq \beta \alpha$ as required.
\end{proof}

\begin{theorem} \label{ord_le_self_rmult}
    For all ordinals $\alpha$ and $\beta$ with $0 \neq \beta$, we have $\alpha
    \leq \alpha \beta$.
\end{theorem}
\begin{proof}
    Since $0 \neq \beta$, by the contrapositive of Theorem \ref{ord_lt_one}, we
    have $1 \leq \beta$.  Then by Theorem \ref{ord_le_lmult}, we have $\alpha
    \leq \alpha \beta$ as required.
\end{proof}

\begin{instance}
    The ordinals are not trivial.
\end{instance}
\begin{proof}
    Assume that $1 = 0$.  Then there would exist a function $f : \S \to \E$.
    It's impossible for $f(I)$ to exist, so we must have $1 \neq 0$.
\end{proof}

\end{document}
