\documentclass[../../math.tex]{subfiles}
\externaldocument{../../math.tex}
\externaldocument{../basics/foundations}
\externaldocument{../basics/set}
\externaldocument{../basics/elementary_algebra}
\externaldocument{../basics/natural}
\externaldocument{ordinal}

\begin{document}

\setcounter{chapter}{9}

\chapter{The Cardinals}

The cardinals were already introduced in the previous chapter as part of the
development of the theory of ordinals.  Cardinals represent the size of types,
and are defined here as equivalence classes of types under the existence of
bijections.  If you want to see the definition of the cardinals, the
development of their order, and the definition of the function $\aleph$, see the
previous chapter.  In this chapter, we will describe cardinal arithmetic,
describe infinite cardinals, and prove many useful theorems to make working with
cardinals easier.

\section{Addition of Cardinals}

Remember that for two types $\A$ and $\B$, the type $\A + \B$ is the sum of $\A$
and $\B$, also called their disjoint union.  Given an $a : \A$, we call the
corresponding value in $\A + \B$ $a|$, and given a $b : \B$, we call the
corresponding value in $\A + \B$ $|b$.  To make definitions and proofs simpler
here, we will introduce a new notation.  When working with an arbitrary value in
$\A + \B$, we will often use the notation $a|b$ to represent a value made with
either an $a : \A$ or a $b : \B$.  We can manipulate functions to/from sum types
using this notation, and doing so can compactly represent multiple cases of a
definition or proof at once.

\begin{lemma}
    The sum type operation is well-defined under the equivalence relation $\sim$
    given in Section \ref{card_base}.
\end{lemma}
\begin{proof}
    Let $\A \sim \B$ and $\C \sim \D$.  This means that we have bijections $f :
    \A \to \B$ and $g : \C \to \D$.  We must find a bijection between $\A + \C$
    and $\B + \D$.  Define $h : \A + \C \to \B + \D$ by $h(a|c) = f(a)|g(c)$.
    We can also define $h^{-1} : \B + \D \to \A + \C$ by $h(b|d) =
    f^{-1}(b)|g^{-1}(d)$.  Then
    \[
        h(h^{-1}(b|d))
        = h(f^{-1}(b)|g^{-1}(d))
        = f(f^{-1}(b))|g(g^{-1}(d))
        = b|d
    \]
    and
    \[
        h^{-1}(h(a|b))
        = h^{-1}(f(a)|g(b))
        = f^{-1}(f(a))|g^{-1}(g(b)) =
        a|b,
    \]
    so $h$ is bijective by Theorem \ref{inverse_ex_bijective}.
\end{proof}

\begin{instance}
    Define addition in the cardinals as the binary operation given by Theorem
    \ref{binary_op_ex} and the previous lemma.
\end{instance}

\begin{instance}
    Addition of cardinals is associative.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be types.  Define the functions
    \[
        f : \A + (\B + \C) \to (\A + \B) + \C
    \]
    and
    \[
        g : (\A + \B) + \C \to \A + (\B + \C)
    \]
    by
    \[
        f(a|(b|c)) = (a|b)|c
    \]
    and
    \[
        g((a|b)|c) = a|(b|c).
    \]
    Then
    \[
        f(g((a|b)|c)) = f(a|(b|c)) = (a|b)|c
    \]
    and
    \[
        g(f(a|(b|c))) = g((a|b)|c) = a|(b|c).
    \]
\end{proof}

\begin{instance}
    Addition of cardinals is commutative.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be types.  Define functions
    \[
        f : \A + \B \to \B + \A
    \]
    and
    \[
        g : \B + \A \to \A + \B
    \]
    by
    \[
        f(a|b) = b|a
    \]
    and
    \[
        g(b|a) = a|b.
    \]
    Then
    \[
        f(g(b|a)) = f(a|b) = b|a
    \]
    and
    \[
        g(f(a|b)) = g(b|a) = a|b.
    \]
\end{proof}

\begin{instance}
    Define zero in the cardinals to be $|\E|$, the cardinality of the empty
    type.
\end{instance}

\begin{instance}
    Zero is a left additive identity in the cardinals.
\end{instance}
\begin{proof}
    Let $\A$ be a type.  Define the functions $f : \A + \E \to \A$ and $g : \A
    \to \A + \E$ by $f(_|a) = a$ and $g(a) = |a$.  Note that the first case of
    the definition of $f$ is unnecessary because no values of the empty type
    exist.  Then
    \[
        f(g(a)) = f(|a) = a
    \]
    and
    \[
        g(f(|a)) = g(a) = |a.
    \]
\end{proof}

\begin{instance}
    The order of the cardinals is left additive.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be types such that there exists an injective
    function $f : \A \to \B$.  Then define a function $g : \C + \A \to \C + \B$
    given by
    \[
        g(c|a) = c|f(a).
    \]
    Now assume that $g(c_1|a_1) = g(c_2|a_2)$.  Then $c_1|f(a_1) = c_2|f(a_2)$.
    If it's the first branch, we have $c_1 = c_2$, and if it's the second
    branch, by the injectivity of $f$, we have $a_1 = a_2$.  Thus, we have
    $c_1|a_1 = c_2|a_2$ as required.
\end{proof}

\begin{instance}
    All cardinals are positive.
\end{instance}
\begin{proof}
    The empty function is vacuously injective to any type.
\end{proof}

\begin{theorem} \label{card_false_0}
    For all types $\A$, if $\A \to \False$, then $0 = |\A|$.
\end{theorem}
\begin{proof}
    The empty function is vacuously injective from $\E$ to $\A$, and since $\A
    \to \False$, the empty function is also vacuously surjective.
\end{proof}

\begin{theorem} \label{card_nz_ex}
    For all types $\U$, if $0 \neq |\U|$, then a value exists in $\U$.
\end{theorem}
\begin{proof}
    This is the contrapositive of the previous theorem.
\end{proof}

\begin{instance}
    The function $|\alpha|$ taking an ordinal to a cardinal is nullitive.
\end{instance}
\begin{proof}
    Since $0$ is defined as the equivalence class of the empty type in both the
    cardinals and the ordinals, this follows by reflexivity.
\end{proof}

\begin{instance}
    The function $|\alpha|$ taking an ordinal to a cardinal is additive.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be order types.  We must prove that
    \[
        |[\A] + [\B]| = |[\A]| + |[\B]|.
    \]
    By the definition of cardinal addition, this simplifies to
    \[
        |[\A] + [\B]| = |\A + \B|.
    \]
    The proof will be by Theorem \ref{ord_to_card_eq2}.  Let $f$ be the function
    given by definition \ref{ord_type_init_ord}.  Then define a function $g : \A
    + \B \to \Ord$ given by
    \[
        g(x) =
        \begin{cases}
            f_\A(a) &\text{if $x = a|$} \\
            [\A] + f_\B(b) &\text{if $x = |b$.}
        \end{cases}
    \]
    Before we can use this function to prove the result, we must prove that it
    is always less than $[\A] + [\B]$.  If $x = a|$, then
    \[
        g(x) = f_\A(a) < [\A] \leq [\A] + [\B],
    \]
    and if $x = |b$, then
    \[
        g(x) = [\A] + f_\B(b) < [\A] + [\B].
    \]
    Thus, we now have a function between $\A + \B$ and $\Ord_{[\A] + [\B]}$.  We
    will now prove that the function is bijective.

    For injectivity, let $x$ and $y$ be such that $g(x) = g(y)$.  We have four
    cases for when $x$ and $y$ are values in $\A$ or $\B$.  When $x = a_1|$ and
    $y = a_2|$, me have $f_\A(a_1) = f_\A(a_2)$, and the result follows from the
    injectivity of $f_\A$.  When $x = a_1$ and $y = b_2$, we have $f_\A(a_1) =
    [\A] + f_\B(b_2)$, but $f_\A(a_1) < [\A] \leq [\A] + f_\B(b_2)$, meaning
    that this case is impossible.  The case $x = b_1$ and $y = a_2$ is similar.
    When $x = b_1$ and $y = b_2$, we have $[\A] + f_\B(b_1) = [\A] + f_\B(b_2)$,
    and the result follows from cancelling $[\A]$ and applying the injectivity
    of $f_\B$.  Thus, $g$ is injective.

    For surjectivity, let $\gamma < [\A] + [\B]$.  There will be two cases:
    when $\gamma < [\A]$, and when $\gamma \geq [\A]$.  When $\gamma < \alpha$,
    by the surjectivity of $f_\A$ there exists some $a : \A$ such that
    $f_\A(a) = \gamma$.  This means that $g(a|) = \gamma$ as required.  When
    $\gamma \geq [\A]$, by Theorem \ref{ord_le_ex} we have some $\delta$ such
    that $\gamma = [\A] + \delta$.  Then we have $[\A] + \delta < [\A] + [\B]$,
    and by cancelling $[\A]$ we get $\delta < [\B]$.  Thus, by the surjectivity
    of $f_\B$, there exists some $b : \B$ such that $f_\B(b) = \delta$.  Then
    \[
        g(|b) = [\A] + f_\B(b) = [\A] + \delta = \gamma
    \]
    as required.
\end{proof}

\section{Multiplication of Cardinals}

Remember that for two types $\A$ and $\B$, the type $\A \times \B$ is the
product of $\A$ and $\B$, also called their Cartesian product.  Given an $a :
\A$ and a $b : \B$, we call the corresponding value in $\A \times \B$ $(a, b)$.

\begin{lemma}
    The product type operation is well-defined under the equivalence relation
    $\sim$ given in Section \ref{card_base}.
\end{lemma}
\begin{proof}
    Let $\A \sim \B$ and $\C \sim \D$.  This means that we have bijections $f :
    \A \to \B$ and $g : \C \to \D$.  We must find a bijection between $\A \times
    \C$ and $\B \times \D$.  Define $h : \A \times \C \to \B \times \D$ by $h(a,
    c) = (f(a), g(c))$.  We can also define $h^{-1} : \B \times \D \to \A \times
    \C$ by $h^{-1}(b, d) = (f^{-1}(b), g^{-1}(d))$.  Then
    \[
        h(h^{-1}(b, d))
        = h(f^{-1}(b), g^{-1}(d))
        = (f(f^{-1}(b)), g(g^{-1}(d)))
        = (b, d)
    \]
    and
    \[
        h^{-1}(h(a, c))
        = h^{-1}(f(a), g(c))
        = (f^{-1}(f(a)), g^{-1}(g(c)))
        = (a, c),
    \]
    so $h$ is bijective by Theorem \ref{inverse_ex_bijective}.
\end{proof}

\begin{instance}
    Define multiplication in the cardinals as the binary operation given by
    Theorem \ref{binary_op_ex} and the previous lemma.
\end{instance}

\begin{instance}
    Multiplication of cardinals is multiplicative.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be types.  Define
    \[
        f : \A \times (\B \times \C) \to (\A \times \B) \times \C
    \]
    and
    \[
        g : (\A \times \B) \times \C \to \A \times (\B \times \C)
    \]
    by
    \[
        f(a, (b, c)) = ((a, b), c)
    \]
    and
    \[
        g((a, b), c) = (a, (b, c)).
    \]
    Then
    \[
        f(g((a, b), c)) = f(a, (b, c)) = ((a, b), c)
    \]
    and
    \[
        g(f(a, (b, c))) = g((a, b), c) = (a, (b, c)).
    \]
\end{proof}

\begin{instance}
    Multiplication of cardinals is commutative.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be types.  Define functions
    \[
        f : \A \times \B \to \B \times \A
    \]
    and
    \[
        g : \B \times \A \to \A \times \B
    \]
    given by
    \[
        f(a, b) = (b, a)
    \]
    and
    \[
        g(b, a) = (a, b).
    \]
    Then
    \[
        f(g(b, a)) = f(a, b) = (b, a)
    \]
    and
    \[
        g(f(a, b)) = g(b, a) = (a, b).
    \]
\end{proof}

\begin{instance}
    Zero is an annihilator in the cardinals.
\end{instance}
\begin{proof}
    We must find a bijective function from $\A \times \E$ to $\E$ for any type
    $\A$.  Any value in $\A \times \E$ induces a value in $\E$, which is
    impossible, so $\A \times \E$ can't have any values.  Thus, the empty
    function works, and is surjective because the codomain is empty as well.
\end{proof}

\begin{instance}
    Define one in the cardinals to be $|\S|$, the cardinality of the singleton
    type.
\end{instance}

\begin{instance}
    One is a multiplicative identity in the cardinals.
\end{instance}
\begin{proof}
    Let $\A$ be a type.  Define $f : \A \times \S \to \A$ by $f(a, I) = a$ and
    $g : \A \to \A \times \S$ by $g(a) = (a, I)$.  Then
    \[
        f(g(a)) = f(a, I) = a
    \]
    and
    \[
        g(f(a, I)) = g(a) = (a, I).
    \]
\end{proof}

\begin{instance}
    Cardinal multiplication distributes over addition.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be types.  Define functions
    \[
        f : \A \times (\B + \C) \to (\A \times \B) + (\A \times \C)
    \]
    and
    \[
        g : (\A \times \B) + (\A \times \C) \to \A \times (\B + \C)
    \]
    by
    \[
        f(a, b|c) = (a, b)|(a, c)
    \]
    and
    \[
        g((a, b)|(a, c)) = (a, b|c).
    \]
    Then
    \[
        f(g((a, b)|(a, c))) = f(a, b|c) = (a, b)|(a, c)
    \]
    and
    \[
        g(f(a, b|c)) = g((a, b)|(a, c)) = (a, b|c).
    \]
\end{proof}

\begin{instance}
    Multiplication of cardinals has the zero property.
\end{instance}
\begin{proof}
    For a contradiction, assume that $0 = |\A \times \B|$ but $0 \neq |\A|$ and
    $0 \neq |\B|$.  By Theorem \ref{card_nz_ex}, we have values $a : \A$ and $b
    : \B$.  Because $0 = |\A \times \B|$, we have a bijection $f : \A \times \B
    \to \E$, meaning that $f(a, b)$ is a value in the empty type, which is
    impossible.
\end{proof}

\begin{instance}
    The order of cardinals is left multiplicative.
\end{instance}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be types such that $|\A| \leq |\B|$.  We must prove
    that $|\C \times \A| \leq |\C \times \B|$.  Because $|\A| \leq |\B|$, there
    exists an injective function $f : \A \to \B$.  Define a new function $g : \C
    \times \A \to \C \times \B$ given by $g(c, a) = (c, f(a))$.  Then if
    \[
        g(c_1, a_1) = g(c_2, a_2),
    \]
    we have
    \[
        (c_1, f(a_1)) = (c_2, f(a_2)),
    \]
    from which we get $c_1 = c_2$ and $f(a_1) = f(a_2)$.  By the injectivity of
    $f$, we get $a_1 = a_2$.  Thus, $(c_1, a_1) = (c_2, a_2)$, showing that $g$
    is injective.
\end{proof}

\begin{instance}
    The function $|\alpha|$ taking an ordinal to a cardinal is unital.
\end{instance}
\begin{proof}
    Since $1$ is defined as the equivalence class of the singleton type in both
    the cardinals and the ordinals, this follows by reflexivity.
\end{proof}

\begin{instance}
    The function $|\alpha|$ taking an ordinal to a cardinal is multiplicative.
\end{instance}
\begin{proof}
    Let $\A$ and $\B$ be order types.  We must prove that
    \[
        |[\A][\B]| = |[\A]|\,|[\B]|.
    \]
    By the definition of cardinal multiplication, this simplifies to
    \[
        |[\A][\B]| = |\A \times \B].
    \]
    The proof will be by Theorem \ref{ord_to_card_eq}.  Let $f$ be the function
    given by Definition \ref{ord_type_init_ord}.  Then define a function $g : \A
    \times \B \to \Ord$ given by
    \[
        g(a, b) = [\A] f_\B(b) + f_\A(a).
    \]
    Before we can use this function to prove the result, we must prove that it
    is always less than $[\A] [\B]$.  Let $a : \A$ and $b : \B$.  Then
    \[
        g(a, b) = [\A] f_\B(b) + f_\A(a) < [\A] f_\B(b) + [\A] = [\A] (f_\B(b) +
        1).
    \]
    We have $f_\B(b) < [\B]$, so $f_\B(b) + 1 \leq [\B]$.  Multiplying by $[\A]$
    on the left we get
    \[
        g(a, b) < [\A] (f_\B(b) + 1) \leq [\A] [\B]
    \]
    as required.  Thus, we now have a function between $\A \times \B$ and
    $\Ord_{[\A] [\B]}$.  We will now prove that the function is bijective.

    For injectivity, let $g(a_1, b_1) = g(a_2, b_2)$.  Given that a value $a_1$
    exists in $\A$, we must have $0 \neq [\A]$.  Expanding $g(a_1, b_1) = g(a_2,
    b_2)$, we have
    \begin{equation} \label{ord_to_card_mult_1}
        [\A] f_\B(b_1) + f_\A(a_1) = [\A] f_\B(b_2) + f_\A(a_2).
    \end{equation}
    We have $f_\A(a_1) < [\A]$, and adding $[\A] f_\B(b_1)$ on the left we get
    \begin{equation} \label{ord_to_card_mult_2}
        [\A] f_\B(b_1) + f_\A(a_1) < [\A] f_\B(b_1) + [\A] = [\A] (f_\B(b_1) +
        1).
    \end{equation}
    Using (\ref{ord_to_card_mult_1}) in this, we get
    \begin{equation} \label{ord_to_card_mult_3}
        [\A] f_\B(b_2) + f_\A(a_2) < [\A] (f_\B(b_1) + 1).
    \end{equation}
    Since $[\A] f_\B(b_2) \leq [\A] f_\B(b_2) + f_\A(a_2)$, we also have
    \begin{equation} \label{ord_to_card_mult_4}
        [\A] f_\B(b_2) < [\A] (f_\B(b_1) + 1),
    \end{equation}
    and we can now cancel $[\A]$ to get
    \begin{equation} \label{ord_to_card_mult_5}
        f_\B(b_2) < f_\B(b_1) + 1.
    \end{equation}
    The same argument works symmetrically to get
    \begin{equation} \label{ord_to_card_mult_6}
        f_\B(b_1) < f_\B(b_2) + 1.
    \end{equation}
    This means that $f_\B(b_2) \leq f_\B(b_1)$ and $f_\B(b_1) \leq f_\B(b_2)$,
    so $f_\B(b_1) = f_\B(b_2)$ by antisymmetry.  By the injectivity of $f_\B$,
    we have $b_1 = b_2$.  Going back to (\ref{ord_to_card_mult_1}), we now have
    \begin{equation} \label{ord_to_card_mult_7}
        [\A] f_\B(b_1) + f_\A(a_1) = [\A] f_\B(b_1) + f_\A(a_2),
    \end{equation}
    and we can now cancel $[\A] f_\B(b_1)$ to get $f_\A(a_1) = f_\A(a_2)$, so
    $a_1 = a_2$ by the injectivity of $f_\A$.  Thus, $(a_1, b_1) = (a_2, b_2)$,
    so $g$ is injective.

    For surjectivity, let $\gamma < [\A][\B]$.  We must have $0 \neq [\A]$,
    since if $0 = [\A]$, we would have $\gamma < 0$.  By Theorem \ref{ord_div},
    there exist ordinals $\varepsilon$ and $\delta$ such that $\gamma = [\A]
    \varepsilon + \delta$ and $\delta < [\A]$.  We have
    \[
        [\A] \varepsilon \leq [\A] \varepsilon + \delta = \gamma < [\A] [\B],
    \]
    and cancelling $[\A]$ we get $\varepsilon < [\B]$.  Because $\delta < [\A]$
    and $\varepsilon < [\B]$, we have values $a : \A$ and $b : \B$ such that
    $f_\A(a) = \delta$ and $f_\B(b) = \varepsilon$.  Then
    \[
        g(a, b) = [\A] f_\B(b) + f_\A(a) = [\A] \varepsilon + \delta = \gamma
    \]
    as required.
\end{proof}

\begin{instance} \label{card_not_trivial}
    The cardinals are not trivial.
\end{instance}
\begin{proof}
    If $0 = 1$, we would have a bijective function $f$ from the singleton type
    to the empty type.  Then $f(I)$ is a value of the singleton type, which is
    impossible.  Thus, we must have $0 \neq 1$.
\end{proof}

\begin{theorem} \label{card_one_pos}
    In the cardinals, $0 < 1$.
\end{theorem}
\begin{proof}
    This follows directly from Theorem \ref{all_pos2} and the previous proof.
\end{proof}

\section{Cardinal Exponentiation}

Given two types $\A$ and $\B$, we can create the type of all functions $\A \to
\B$.  In this sense, we can think of $\to$ as being a binary operation on types.
This leads to cardinal exponentiation.  However, we want to define the
exponential $|\A|^{|\B|}$ to be the cardinality of $\B \to \A$, not $\A \to \B$.
Because of this, we can't quite just say to consider $\to$ as a binary
operation for the purpose of constructing cardinal exponentiation.

\begin{lemma}
    $\to$ is well-defined under the equivalence relation $\sim$ given in Section
    \ref{card_base}, in the reverse sense described above.  More explicitly, if
    $\A \sim \B$ and$\C \sim \D$, then $(\C \to \A) \sim (\D \to \B)$.
\end{lemma}
\begin{proof}
    From $\A \sim \B$ and $\C \sim \D$, we have bijections $f : \A \to \B$ and
    $g : \C \to \D$.  Define
    \[
        h : (\C \to \A) \to (\D \to \B)
    \]
    and
    \[
        h^{-1} : (\D \to \B) \to (\C \to \A)
    \]
    by
    \[
        h(i)(d) = f(i(g^{-1}(d)))
    \]
    and
    \[
        h^{-1}(i)(c) = f^{-1}(i(g(c))).
    \]
    To prove that $h(h^{-1}(i)) = i$ and $h^{-1}(h(i)) = i$, by functional
    extensionality it suffices that
    \[
        h(h^{-1}(i))(d)
        = f(h^{-1}(i)(g^{-1}(d)))
        = f(f^{-1}(i(g(g^{-1}(d)))))
        = i(d)
    \]
    and
    \[
        h^{-1}(h(i))(c)
        = f^{-1}(h(i)(g(c)))
        = f^{-1}(f(i(g^{-1}(g(c)))))
        = i(c).
    \]
\end{proof}

\begin{definition}
    Define cardinal exponentiation $\mu^\kappa$ to be the binary operation given
    by Lemma \ref{binary_op_ex} and the previous lemma.  To be explicit, we have
    $|\A|^{|\B|} = |\B \to \A|$.
\end{definition}

\begin{theorem}
    For all cardinals $\kappa$, we have $\kappa^0 = 1$.
\end{theorem}
\begin{proof}
    Given a type $\A$, we can define a map $f$ from $\E \to \A$ to $\S$ that
    takes all functions to the single value in $\S$, and a map $g$ from $\S$ to
    $\E$ to $\A$ that takes in the value in $\S$ and produces the empty
    function $e$, which is the only possible function.  Then
    \[
        f(g(I)) = f(e) = I
    \]
    and
    \[
        g(f(e)) = g(I) = e.
    \]
\end{proof}

\begin{theorem}
    For all cardinals $\kappa \neq 0$, we have $0 ^ \kappa = 0$.
\end{theorem}
\begin{proof}
    Let $\A$ be a type of cardinality $\kappa$.  Since $0 \neq |\A|$, we have a
    value $a : \A$ by Theorem \ref{card_nz_ex}.  If we had a function $f : \A
    \to \E$, we would have a value in the empty type $f(a)$, which is
    impossible.  Thus, by Theorem \ref{card_false_0}, we have $0^\kappa = 0$.
\end{proof}

\begin{theorem}
    For all cardinals $\kappa$, we have $1^\kappa = 1$.
\end{theorem}
\begin{proof}
    Let $\A$ be a type.  Then define the functions $f : (\A \to \S) \to \S$ and
    $g : \S \to (\A \to \S)$ by $f(h) = I$ and $g(I)(x) = I$.  Then
    \[
        f(g(I)) = f(I)
    \]
    and
    \[
        g(f(h)) = g(I) = h.
    \]
\end{proof}

\begin{theorem}
    For all cardinals $\kappa$, we have $\kappa ^ 1 = \kappa$.
\end{theorem}
\begin{proof}
    Let $\A$ be a type.  Define the functions $f : (\S \to \A) \to \A$ and $g :
    \A \to (\S \to \A)$ by $f(h) = h(I)$ and $g(a)(I) = a$.  Then
    \[
        f(g(a)) = g(a)(I) = a
    \]
    and
    \[
        g(f(h))(I) = g(h(I))(I) = h(I).
    \]
\end{proof}

\begin{theorem}
    For all cardinals $\kappa$, $\mu$, and $\nu$, we have $\kappa ^ {\mu + \nu}
    = \kappa ^ \mu \kappa ^ \nu$.
\end{theorem}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be types.  Then define the functions
    \[
        f : ((\B + \C) \to \A) \to ((\B \to \A) \times (\C \to \A))
    \]
    and
    \[
        g : ((\B \to \A) \times (\C \to \A)) \to ((\B + \C) \to \A)
    \]
    by
    \[
        f(h) = ((\lambda b, h(b|)), (\lambda c, h(|c)))
    \]
    and
    \[
        g(h_1, h_2)(b|c) = h_1(b)|h_2(c).
    \]
    Then
    \[
        f(g(h_1, h_2))
        = ((\lambda b, g(h_1, h_2)(b|)), (\lambda c, g(h_1, h_2)(|c)))
        = (\lambda b, h_1(b), \lambda c, h_2(c))
        = (h_1, h_2)
    \]
    and
    \[
        g(f(h))(b|c)
        = g((\lambda b, h(b|)), (\lambda c, h(|c)))(b|c)
        = h(b|)|h(|c)
        = h(b|c).
    \]
\end{proof}

\begin{theorem}
    For all cardinals $\kappa$, $\mu$ and $\nu$, we have $(\kappa ^ \mu) ^ \nu =
    \kappa ^ {\mu \nu}$.
\end{theorem}
\begin{proof}
    Let $\A$, $\B$, and $\C$ be types.  Define the functions
    \[
        f : (\C \to (\B \to \A)) \to ((\B \times \C) \to \A)
    \]
    and
    \[
        g : ((\B \times \C) \to \A) \to (\C \to (\B \to \A))
    \]
    by
    \[
        f(h)(b, c) = h(c)(b)
    \]
    and
    \[
        g(h)(c)(b) = h(b, c).
    \]
    Then
    \[
        f(g(h))(b, c) = g(h)(c)(b) = h(b, c)
    \]
    and
    \[
        g(f(h))(c)(b) = f(h)(b, c) = h(c)(b).
    \]
\end{proof}

\begin{theorem}
    For all cardinals $\kappa$, $\mu$, and $\nu$, we have $(\kappa \mu)^\nu =
    \kappa ^ \nu \mu ^ \nu$.
\end{theorem}
\begin{proof}
    Let $\A$, $\B$, and $C$ be types.  Then define functions
    \[
        f : (\C \to (\A \times \B)) \to ((\C \to \A) \times (\C \to \B))
    \]
    and
    \[
        g : ((\C \to \A) \times (\C \to \B)) \to (\C \to (\A \times \B))
    \]
    by
    \[
        f(h) = ((\lambda c, P_1(h(c))), (\lambda c, P_2(h(c))))
    \]
    and
    \[
        g(h_1, h_2)(c) = (h_1(c), h_2(c)).
    \]
    Then
    \begin{align*}
        f(g(h_1, h_2))
        &= ((\lambda c, P_1(g(h_1, h_2))(c)), (\lambda c, P_2(g(h_1, h_2))(c)))
            \\
        &= ((\lambda c, P_1(h_1, h_2)(c)), (\lambda c, P_2(h_1, h_2)(c))) \\
        &= ((\lambda c, h_1(c)), (\lambda c, h_2(c))) \\
        &= (h_1, h_2)
    \end{align*}
    and
    \[
        g(f(h))(c)
        = g((\lambda c', P_1(h(c'))), (\lambda c', P_2(h(c'))))(c)
        = (P_1(h(c)), P_2(h(c)))
        = h(c).
    \]
\end{proof}

\begin{theorem}
    $|\Prop| = 2$.
\end{theorem}
\begin{proof}
    Recall that $2$ is equal to $|\S| + |\S|$.  Define functions $f : \Prop \to
    \S + \S$ and $g : \S + \S \to \Prop$ given by
    \[
        f(P) = \begin{cases}
            I| & \text{if $P$} \\
            |I & \text{if $\neg P$}
        \end{cases}
    \]
    and
    \[
        g(I|I) = \True|\False.
    \]
    Then
    \[
        f(g(I|I)) = f(\True|\False) = I|I
    \]
    and
    \[
        g(f(P)) = g(I|I) = P.
    \]
\end{proof}

Notice that because of this, $|\A \to \Prop|$ is equal to $2^{|\A|}$, and more
importantly, by Theorem \ref{power_set_bigger}, we have $|\A| < 2^{|\A|}$ for
all cardinals $\A$.

\section{Relationship Between the Cardinals and Natural Numbers}

Like with the ordinals, we can think of the function $\iN$ taking natural
numbers to cardinals.  We will be proving various things about this function and
relating it to the version of $\iN$ for the ordinals.  As such, for the moment,
we will need a way to differentiate between the $\iN$ of the cardinals and the
$\iN$ of the ordinals.  For now, let $\iN^C$ be the version for the cardinals
and $\iN^O$ be the version for the ordinals.  If just $\iN$ is written, it means
$\iN^C$.

\begin{theorem} \label{ord_to_card_nat}
    For all natural numbers $n$, we have $|\iN^O(n)| = \iN^C(n)$.
\end{theorem}
\begin{proof}
    The proof will be by induction on $n$.  When $n = 0$, the result follows
    from $\iN$ and $|\alpha|$ being nullative.  Now assume that $|\iN^O(n)| =
    \iN^C(n)$.  Then
    \[
        |\iN^O(n + 1)| = |\iN^O(n)| + |\iN^O(1)| = \iN^C(n) + 1 = \iN^C(n + 1),
    \]
    proving the theorem by induction.
\end{proof}

\begin{theorem} \label{from_nat_card}
    For all natural numbers $n$, $\iN^C(n) = |\N_n|$.
\end{theorem}
\begin{proof}
    By the previous theorem, we have $\iN^C(n) = |\iN^O(n)|$.  Then the result
    follows from Theorem \ref{from_nat_ord}.
\end{proof}

\begin{instance}
    The cardinals are characteristic zero.
\end{instance}
\begin{proof}
    If $\iN(S(n)) = 0$, we would have a function $f : \N_{S(n)} \to \E$, and
    $f(n)$ would be a value in the empty type, which is impossible.
\end{proof}

Sadly, even with this instance, the usual proof that $\iN$ is injective doesn't
work here because cardinal addition isn't cancellative.  Instead we have to do a
lot of extra work to prove that it is injective.

\begin{lemma} \label{from_nat_card_inj_lemma}
    For all natural numbers $a$ and $b$, if $\iN(S(a)) \leq \iN(S(b))$, then $a
    \iN(a) \leq \iN(b)$.
\end{lemma}
\begin{proof}
    We have an injective function $f : \N_{S(a)} \to \N_{S(b)}$ and must find an
    injective function from $\N_a$ to $\N_b$.  Define $g : \N_a \to \N$ by
    \[
        g(n) =
        \begin{cases}
            f(a) & \text{if $f(n) = b$} \\
            f(n) & \text{otherwise.}
        \end{cases}
    \]
    We must prove that $g(n) < b$ for all $n < a$.  There are two cases: when
    $f(n) = b$, and when $f(n) \neq b$.  When $f(n) = b$, we have $g(n) = f(a)$.
    We already have $f(a) \leq b$ by the definition of $f$, so we just need to
    prove that $f(a) \neq b$.  If $f(a) = b$, we would have $f(n) = f(a)$, and
    by the injectivity of $f$ we get $n = a$, cnotradicting $n < a$.  Thus, we
    must have $f(a) \neq b$, so $g(n) < b$ in the case $f(n) = b$.  In the case
    $f(n) \neq b$, we have $g(n) = f(n)$.  Since $f(n) \leq b$ by definition and
    $f(n) \neq b$, we have $g(n) < b$.

    Thus, $g$ is a function from $\N_a$ to $\N_b$.  We must prove that $g$ is
    injective.  Let $m < a$ and $n < a$ and $g(m) = g(n)$.  There will be four
    cases, for when $f(m) = b$ and $f(m) \neq b$, and for when $g(m) = b$ and
    $g(m) \neq b$.  When $f(m) = b$ and $f(n) = b$, we have $f(m) = f(n)$, and
    by injectivity of $f$ we have $m = n$ as required.  When $f(m) = b$ and
    $f(n) \neq b$, we have $f(a) = f(n)$, and by injectivity of $f$ we have $a =
    n$, contradicting $n < a$, so this case is impossible.  The case $f(m) \neq
    b$ and $f(n) \neq b$ is similar.  When $f(m) \neq b$ and $f(n) \neq b$, we
    have $f(m) = f(n)$, and by injectivity of $f$ we get $m = n$ as required.
    Thus, $g$ is injective.
\end{proof}

\begin{lemma} \label{from_nat_card_zero_eq}
    For all natural numbers $n$, if $0 = \iN n$, then $0 = n$.
\end{lemma}
\begin{proof}
    Since $\iN n = 0$, we have a bijection $f : \N_n \to \E$.  If $0 \neq n$, we
    have $0 < n$, so $f(0)$ is a value in the empty type, which is impossible.
\end{proof}

\begin{instance}
    $\iN$ is injective.
\end{instance}
\begin{proof}
    Let $\iN(a) = \iN(b)$.  The proof will be byinduction on $a$.  When $a = 0$,
    the result follows by Lemma \ref{from_nat_card_zero_eq}.  Now assume that
    for all $b'$ such that $\iN(a) = \iN(b')$, we have $a = b'$.  We have
    $\iN(S(a)) = \iN(b)$ and must prove $S(a) = b$.  if $b = 0$, we would have
    $S(a) = 0$ by Lemma \ref{from_nat_card_zero_eq}, which is impossible.  So
    there exists a $b'$ such that $b = S(b')$.  Then we have $\iN(S(a)) =
    \iN(S(b'))$, and by antisymmetry and Lemma \ref{from_nat_card_inj_lemma}, we
    have $\iN(a) = \iN(b')$.  Thus, by the inductive hypothesis, we have $a =
    b'$, so $S(a) = S(b') = b$ as required.
\end{proof}

\begin{theorem} \label{card_to_initial_ord_nat}
    For all natural numbers $n$, $\lfloor \iN^C(n) \rfloor = \iN^O(n)$.
\end{theorem}
\begin{proof}
    By Theorem \ref{ord_to_card_nat}, we have $\lfloor \iN^C(n) \rfloor =
    \lfloor | \iN^O(n) | \rfloor$.  To prove that $\lfloor | \iN^O(n) |
    \rfloor$, we can use Theorem \ref{card_to_initial_ord_other_eq}.  We must
    prove that for all ordinals $\beta < \iN^O(n)$, we have $|\beta| <
    |\iN^O(n)|$.  Because $\beta < \iN^O(n)$, we have $\beta < \omega$, so there
    exists a natural number $m$ such that $\beta = \iN^O(m)$.  Thus, we have
    $\iN^O(m) < \iN^O(n)$, so $m < n$.  We now must prove that $|\iN^O(m)| <
    |\iN^O(n)|$.  We have $|\iN^O(m)| \leq |\iN^O(n)|$ from Theorem
    \ref{ord_to_card_le}.  We have $|\iN^O(m)| \neq |\iN^O(n)|$ from Theorem
    \ref{ord_to_card_nat} and the fact that $\iN^C$ is injective.
\end{proof}

\begin{instance}
    $\iN^C$ is orderly.
\end{instance}
\begin{proof}
    Let $a \leq b$.  Then $\iN^O(a) \leq \iN^O(b)$ by $\iN^O$ being orderly.
    Then $\lfloor \iN^C(a) \rfloor \leq \lfloor \iN^C(b) \rfloor$ by Theorem
    \ref{card_to_initial_ord_nat}.  Then $\iN^C(a) \leq \iN^C(b)$ by $\lfloor
    \mu \rfloor$ being equivalently orderly.
\end{proof}

Now that we have proven these basic properties of $\iN^C$, we don't need to
consider it to be any different from $\iN^O$, and $\iN$ will be dropped entirely
for cardinals/ordinals now.

\begin{theorem} \label{card_omega}
    $|\omega| = |\N|$.
\end{theorem}
\begin{proof}
    This is true by definition.
\end{proof}

\begin{theorem} \label{nat_lt_card}
    For all natural numbers $n$, we have $n < |\N|$.
\end{theorem}
\begin{proof}
    Assume that $|\N| \leq n$.  This means that there exists an injective
    function from $\N$ to $\N_n$.  Thus, $\N$ is simply finite, contradicting
    Theorem \ref{nat_not_finite}.  So we must have $n < |\N|$.
\end{proof}

\begin{theorem} \label{card_omega_initial}
    $\lfloor | \N | \rfloor = \omega$.
\end{theorem}
\begin{proof}
    The proof will be by Theorem \ref{card_to_initial_ord_other_eq}.  We must
    prove that for all ordinals $\beta < \omega$, we have $|\beta| < |\omega|$.
    Because $\beta \omega$, we know that $\beta$ is a natural number.  Then the
    result follows from Theorem \ref{nat_lt_card}.
\end{proof}

\begin{theorem} \label{card_lt_nat}
    For all cardinals $\kappa < |\N|$, there exists a natural number $n =
    \kappa$.
\end{theorem}
\begin{proof}
    Because $\kappa < |\N|$, we have $\lfloor \kappa \rfloor < \lfloor |\N|
    \rfloor = \omega$, so by Theorem \ref{ord_lt_omega} there exists a natural
    number $n = \lfloor \kappa \rfloor$.  Then by Theorem
    \ref{card_to_initial_ord_to_card_eq}, we have $n = \kappa$.
\end{proof}

\begin{theorem} \label{card_lt_one_eq}
    For all cardinals $\kappa$, if $\kappa < 1$, then $0 = \kappa$.
\end{theorem}
\begin{proof}
    Since $\kappa < 1$, we have $\kappa < |\N|$, so $\kappa$ is a natural
    number.  Then the theorem follows from the corresponding result in the
    natural numbers.
\end{proof}

\begin{theorem} \label{card_pos_one}
    For all cardinals $\kappa$, we have $0 \neq \kappa$ if and only if $1 \leq
    \kappa$.
\end{theorem}
\begin{proof}
    If $0 \neq \kappa$ and $\kappa < 1$, we have $0 = \kappa$ by the previous
    theorem, contradicting $0 \neq \kappa$.  Thus, when $0 \neq \kappa$, we have
    $1 \leq \kappa$.  Now when $1 \leq \kappa$, if we have $0 = \kappa$, we
    would have $1 \leq 0$, which is impossible.  Thus, if $1 \leq \kappa$, we
    have $0 \neq \kappa$.
\end{proof}

\begin{theorem} \label{aleph'_nat}
    For all natural numbers $n$, we have $\aleph'_n = n$.
\end{theorem}
\begin{proof}
    The proof will be by strong induction on $n$.  The inductive hypothesis
    states that for all $m < n$, we have $\aleph'_m = m$.  We will prove that
    $\aleph'_n = n$ by antisymmetry.  To prove that $\aleph'_n \leq n$, we will
    use Theorem \ref{aleph'_least}.  Let $m < n$.  Then by the inductive
    hypothesis, $\aleph'_m = m < n$, so we have $\aleph'_n \leq n$.  To prove
    that $n \leq \aleph'_n$, assume for a contradiction that $\aleph'_n < n$.
    Then there exists a natural number $m = \aleph'_n$, so $m < n$.  By the
    inductive hypothesis we have $\aleph'_m = m$, so $\aleph'_m = \aleph'_n$.
    Because $\aleph'$ is injective, we have $m = n$, contradicting $m < n$.
    Thus, $n \leq \aleph'_n$, so by antisymmetry we have $\aleph'_n = n$.
\end{proof}

\begin{theorem} \label{aleph_0}
    $\aleph_0 = |\N|$.
\end{theorem}
\begin{proof}
    We must prove that $\aleph'_\omega = |\N|$.  We will prove it by
    antisymmetry.  To prove that $\aleph'_\omega \leq |\N|$, we will use Theorem
    \ref{aleph'_least}.  Let $m < \omega$.  By Theorem \ref{ord_lt_omega}, $m$
    is a natural number.  Then $\aleph'_m = m < |\N|$, showing that
    $\aleph'_\omega \leq |\N|$.  To prove that $|\N| \leq \aleph'_\omega$,
    assume for a contradiction that $\aleph'_\omega < |\N|$.  Then there exists
    a natural number $m$ such that $m = \aleph'_\omega$  By Theorem
    \ref{aleph'_nat}, we have $\aleph'_m = \aleph'_\omega$, so $m = \omega$,
    which is impossible.  Thus, $|\N| \leq \aleph'_\omega$, so $\aleph_0 = |\N|$
    by antisymmetry.
\end{proof}

\section{Infinite and Finite Cardinals}

\begin{definition}
    A cardinal $\kappa$ is finite if $\kappa < |\N|$.
\end{definition}

\begin{definition}
    A cardinal $\kappa$ is infinite if $|\N| \leq \kappa$.
\end{definition}

Because the cardinals are totally ordered, every cardinal is either finite or
infinite, and can't be both.

\begin{theorem} \label{nat_is_finite}
    Every natural number is finite.
\end{theorem}
\begin{proof}
    This is just restating Theorem \ref{nat_is_finite}.
\end{proof}

\begin{theorem} \label{fin_nat_ex}
    For all finite cardinals $\kappa$, there exists an $n = \kappa$,
\end{theorem}
\begin{proof}
    This is just restating Theorem \ref{card_lt_nat}.
\end{proof}

\begin{theorem} \label{greater_all_nat_inf}
    For all cardinals $\kappa$, if $\kappa > n$ for all natural numbers $n$,
    then $\kappa$ is infinite.
\end{theorem}
\begin{proof}
    Assume that $\kappa$ is finite.  Then by Theorem \ref{fin_nat_ex}, there
    exists some natural number $n$ with $n = \kappa$.  Then $n > n$, a
    contradiction.  Thus, $\kappa$ is infinite.
\end{proof}

\begin{theorem} \label{inf_not_nat}
    For all infinite cardinals $\kappa$, $\kappa \neq n$ for all natural numbers
    $n$.
\end{theorem}
\begin{proof}
    Direct from Theorem \ref{nat_is_finite}.
\end{proof}

\begin{theorem} \label{simple_finite_finite}
    For all types $\U$, $\U$ is simply finite if and only if $|\U|$ is finite.
\end{theorem}
\begin{proof}
    Assume that $\U$ is simply finite.  Then there exists an injective function
    from $\U$ to $\T(n)$ for some natural number $n$, so $|\U| \leq n$.  Since
    $n < |\N|$, $|\U|$ is finite.

    Now assume that $|\U|$ is finite.  This means that $|\U| = n$ for some
    natural number $n$.  Thus, there exists a bijective function $f$ from $\U$
    to $\T(n)$.  Because $f$ is injective, $\U$ is simply finite.
\end{proof}

Thus, all of the theorems proven for simply finite types apply to finite types
too.

\begin{theorem} \label{infinite_nz}
    For all infinite cardinals $\kappa$, $0 \neq \kappa$.
\end{theorem}
\begin{proof}
    Special case of Theorem \ref{inf_not_nat}.
\end{proof}

\begin{theorem} \label{infinite_ex}
    For all infinite types $\U$, there exists a value in $\U$.
\end{theorem}
\begin{proof}
    Direct from Theorem \ref{card_nz_ex} and the previous theorem.
\end{proof}

\begin{theorem} \label{all_greater_inf}
    For all ordered types $\U$, if there exists a value $a : \U$ and if for all
    $b : \U$, there exists a $c > b$, then $\U$ is infinite.
\end{theorem}
\begin{proof}
    Define a function $f : \N \to \U$ recursively as
    \[
        f(n) = \begin{cases}
            a & \text{if $n = 0$} \\
            \text{a value greater than $f(n-1)$} &\text{otherwise,}
        \end{cases}
    \]
    where the recursive case always exists by assumption.  Now let $f(m) =
    f(n)$.  We must prove that $m = n$.  For a contradiction, assume that $m
    \neq n$, and without loss of generality assume that $m < n$.  By Theorem
    \ref{nat_lt_ex}, we have some $c : \N$ such that $n = m + S(c)$.  So we now
    must prove that $f(m) < f(m + S(c))$, which we will do by induction on $c$.

    When $c = 0$, we have $f(m) < f(m + 1)$ by the definition of $f$, so the
    base case is true.  Now assume that $f(m) < f(m + S(c))$.  Then
    \[
        f(m) < f(m + S(c)) = f(S(m + S(c))) = f(m + S(S(c))),
    \]
    showing that the inductive case is true.  Thus, by induction, we have $f(m)
    < f(m + S(c)) = f(n)$.  However, this contradicts $f(m) = f(n)$, so our
    original assumption that $m < n$ must be false.  Thus, $m = n$, proving that
    $f$ is injective, so $\U$ is infinite.
\end{proof}

\section{Arithmetic of Infinite Cardinals}

It turns out that arithmetic of infinite cardinals is trivial in many aspects.
However, to get to that point, we will have to prove several other things first.

\begin{lemma} \label{card_inf_plus_one}
    For all infinite cardinals $\mu$, $\mu + 1 = \mu$.
\end{lemma}
\begin{proof}
    Let $\U$ be a type with cardinality $\mu$.  Because $\U$ is infinite, there
    exists an injective function $f : \N \to \U$.  Now define a functions $g :
    \U + \S \to \U$ and $h : \U \to \U + \S$ by
    \[
        g(x) = \begin{cases}
            f(S(n)) & \text{if there exists an $n$ with $f(n)| = x$} \\
            a       & \text{if no such $n$ exists and $a| = x$} \\
            f(0)    & \text{if $|I = x$}
        \end{cases}
    \]
    and
    \[
        h(a) = \begin{cases}
            |I    & \text{if $a = f(0)$} \\
            f(n)| & \text{if there exists an $n$ with $f(S(n)) = a$} \\
            a|    & \text{otherwise.}
        \end{cases}
    \]

    Now consider an arbitrary value $a : \U$.  If $a = f(0)$,
    \[
        g(h(a)) = g(|I) = f(0) = a.
    \]
    If there exists an $n$ with $f(S(n)) = a$,
    \[
        g(h(a)) = g(f(n)|) = f(S(n)) = a.
    \]
    Otherwise,
    \[
        g(h(a)) = g(a|) = a.
    \]
    In all cases, $g(h(a)) = a$.

    Now consider an arbitrary value $x : \U + \S$.  If there exists an $n$ with
    $f(n)| = x$,
    \[
        h(g(x)) = h(f(S(n))|) = f(n)| = x.
    \]
    If no such $n$ exists and $a| = x$,
    \[
        h(g(x)) = h(a) = a| = x.
    \]
    Otherwise, $|I = x$, so
    \[
        h(g(x)) = h(f(0)) = |I = x.
    \]
    In all cases, $h(g(x)) = x$.

    Thus, by Theorem \ref{inverse_ex_bijective}, $g$ is bijective, so $\mu + 1 =
    \mu$.
\end{proof}

\begin{lemma} \label{card_inf_minus_one_inf}
    For all cardinals $\mu$, if $\mu + 1$ is infinite, then $\mu$ is infinite.
\end{lemma}
\begin{proof}
    Assume that $\mu$ is not infinite.  Then $\mu$ is a natural number, meaning
    that $\mu + 1$ is a natural number too, contradicting $\mu + 1$ being
    infinite.  Thus, $\mu$ is infinite.
\end{proof}

\begin{lemma} \label{card_inf_remove_one}
    For all types $\U$ and values $a : \U$, if $\U$ is infinite, then
    \[
        |\U| = |\{x : \U, x \neq a\}|.
    \]
\end{lemma}
\begin{proof}
    Denote the set $\{x : \U, x \neq a\}$ as $A$.  Then $|A| + 1 = |\U|$ by
    bringing everything in $A$ to its value in $\U$, and then taking the
    singleton value to $a$.  Then by Lemma \ref{card_inf_minus_one_inf}, $|A|$
    is infinite too, so by Lemma \ref{card_inf_plus_one}, $|A| + 1 = |A|$, so
    $|\U| = |A|$.
\end{proof}

We can now start moving towards the main result.  It involves many substeps and
lemmas, all of which work from an infinite order type $\A$ as its starting
point.  So from this point up until Lemma \ref{ord_mult_idemp}, let $\A$ be an
arbitrary infinite order type.

\begin{instance}
    Order the type $\A \times \A$ by saying that $(a_1, a_2) \leq (b_1, b_2)$ if
    \begin{align*}
        &(\max(a_1, a_2) < \max(b_1, b_2)) \text{ or} \\
        &(\max(a_1, a_2) = \max(b_1, b_2) \text{ and } a_1 < b_1) \text{ or} \\
        &(\max(a_1, a_2) = \max(b_1, b_2) \text{ and } a_1 = b_1 \text{ and }
            a_2 \leq b_2).
    \end{align*}
\end{instance}

\begin{instance}
    The order on $\A \times \A$ is antisymmetric.
\end{instance}
\begin{proof}
    Let $(a_1, a_2) \leq (b_1, b_2)$ and $(b_1, b_2) \leq (a_1, a_2)$.  Since
    each inequality has three cases, it would appear that there are nine cases.
    However, in all but one of those cases, we have either two things strictly
    less than each other, which is impossible, or two things that are equal but
    also with one strictly less than the other, which is also impossible.  The
    only possible cases is when $\max(a_1, a_2) = \max(b_1, b_2)$, $a_1 = b_1$,
    $a_2 \leq b_2$, and $b_2 \leq a_2$.  Then by antisymmetry we have $a_2 =
    b_2$, and since $a_1 = b_1$ and $a_2 = b_2$, we have $(a_1, a_2) = (b_1,
    b_2)$.
\end{proof}

\begin{instance}
    The order on $\A \times \A$ is a well order.
\end{instance}
\begin{proof}
    Let $S$ be a nonempty set in $\A \times \A$.  Define a set $S'$ by
    \[
        S' = \{a : \A \mid
            \exists a_1 a_2, (a_1, a_2) \in S \wedge a = \max(a_1, a_2)\}.
    \]
    Because $S$ is nonempty, this has a least element $d$.  Now define a set
    $S''$ by
    \[
        S'' = \{a_1 : \A \mid
            \exists a_2, (a_1, a_2) \in S \wedge d = \max(a_1, a_2)\}.
    \]
    Because $d \in S'$, $S''$ is nonempty, so it has a least element $x$.  Now
    define a set $S'''$ by
    \[
        S''' = \{a_2 : \A \mid (x, a_2) \in S \wedge d = \max(x, a_2)\}.
    \]
    Then because $x \in S''$, $S'''$ is nonempty, so it has a least element $y$.
    Note that $d = \max(x, y)$.  We will now prove that $(x, y)$ is the least
    element of $S$.  First, $(x, y) \in S$ by definition, so we only need to
    prove that it is the least element of $S$.  So let $(a_1, a_2) \in S$.  We
    must prove that $(x, y) \leq (a_1, a_2)$.

    If $\max(x, y) = \max(a_1, a_2)$ and $x = a_1$, then $a_2 \in S'''$, so $y
    \leq a_2$ by the minimality of $y$.  Thus, $(x, y) \leq (a_1, a_2)$.

    If $\max(x, y) = \max(a_1, a_2)$ and $x \neq a_1$, then $a_1 \in S''$, so $x
    \leq a_1$ by the minimality of $x$.  Thus, $x < a_1$, so $(x, y) \leq (a_1,
    a_2)$.

    If $\max(x, y) \neq \max(a_1, a_2)$, then $\max(a_1, a_2)$ is in $S'$, so
    $\max(x, y) = d \leq \max(a_1, a_2)$ by the minimality of $d$.  Thus,
    $\max(x, y) < \max(a_1, a_2)$, so $(x, y) \leq (a_1, a_2)$.

    In all cases $(x, y) \leq (a_1, a_2)$, showing that $(x, y)$ is the least
    element of $S$, proving that $\A \times \A$ is well ordered.
\end{proof}

We will now be working up to the main lemma that $|\A| = |\A \times \A|$.  This
will be done by transfinite induction.  The inductive hypothesis states that for
all infinite order types $\B$ with $[\B] < [\A]$, we have $|\B| = |\B \times
\B|$.  So until Lemma \ref{ord_mult_idemp}, this inductive hypothesis will be
valid.

\begin{lemma} \label{not_card_idemp}
    If there exists an order type $\B$ with $[\B] < [\A]$ and $|\B| = |\A|$,
    then $|\A| = |\A \times \A|$.
\end{lemma}
\begin{proof}
    Since $|\A| = |\B|$ and $|\B| = |\B \times \B|$ by the inductive hypothesis,
    we have $|\A| = |\A \times \A|$.
\end{proof}

We will now consider the case when the assumption of the previous lemma is not
true, that is, when for all ordinals $\beta < [\A]$, we have $|\beta| \neq
|\A|$.  This assumption will hold until Lemma \ref{ord_mult_idemp}.  Call this
assumption the cardinality assumption.

\begin{lemma} \label{card_mult_idemp_gt_ex}
    There exists a $b > a$ for all $a : \A$.
\end{lemma}
\begin{proof}
    Assume otherwise, that is, there exists an $a : \A$ with $b \leq a$ for all
    $b : \A$.  Then with $f$ being the function given by Definition
    \ref{ord_type_init_ord}, we have $f_\A(a) < [\A]$, and if we can prove that
    $|f_\A(a)| = |\A|$, we will have a contradiction with the cardinality
    assumption.  By Theorem \ref{ord_to_card_init}, we have $|f_\A(a)| =
    |\A_a|$, so it suffices to prove that $|\A_a| = |\A|$.  Because $a$ is the
    maximum element of $\A$, $\A_a$ is just the set $\{x : \A \mid x \neq a\}$.
    Then $|\A_a| = |\A|$ by Lemma \ref{card_inf_remove_one}.
\end{proof}

\begin{lemma} \label{card_mult_idemp_l_leq}
    For all $l_1$, $l_2$, and $l$ in $\A$, if $\max(l_1, l_2) < l$, then
    \[
        |(\A \times \A)_{(l_1, l_2)} \leq
        |\A_l| \, |\A_l|.
    \]
\end{lemma}
\begin{proof}
    First, we will prove that for all $(d_1, d_2) < (l_1, l_2)$, we have $d_1 <
    l$ and $d_2 < l$.  When $\max(d_1, d_2) < \max(l_1, l_2) < l$, we have $d_1
    < l$ and $d_2 < l$.  When $\max(d_1, d_2) = \max(l_1, l_2)$, we also have
    $d_1 < l$ and $d_2 < l$.  In both cases, we have $d_1 < l$ and $d_2 < l$.
    Then the function taking $(d_1, d_2)$ in $(\A \times \A)_{(l_1, l_2)}$ to
    $(d_1, d_2)$ in $\A_l \times \A_l$ is an injective function.
\end{proof}

\begin{lemma} \label{card_mult_idemp_l_lt}
    For all $l_1$ and $l_2$ in $\A$, with $f$ the function given by Definition
    \ref{ord_type_init_ord}, we have $f_{\A \times \A}(l_1, l_2) < [\A]$.
\end{lemma}
\begin{proof}
    First, by Lemma \ref{card_mult_idemp_gt_ex}, we have some $l$ with $l_1 < l$
    and $l_2 < l$.  By Theorems \ref{ord_to_card_lt} and \ref{ord_to_card_init},
    it suffices to prove that $|(\A \times \A)_{(l_1, l_2)}| < |\A|$.  By
    transitivity and Lemma \ref{card_mult_idemp_l_leq}, it suffices to prove
    that $|\A_l| \, |\A_l| < |\A|$.  There will be two cases: when $|\A_l|$ is
    infinite, and when it is finite.

    When $|\A_l|$ is infinite, by the inductive hypothesis we have $|\A_l| =
    |\A_l \times \A_l|$.  Then we must prove that $|\A_l| < |\A|$.  By Theorem
    \ref{ord_to_card_le}, we already have $|\A_l| \leq |\A|$, so we just need to
    prove that $|\A_l| \neq |\A|$.  This follows directly from the cardinality
    assumption.

    When $|\A_l|$ is finite, $|\A_l| \, |\A_l|$ is finite as well, and since
    $|\A|$ is infinite, we have $|\A_l| \, |\A_l| < |\A|$.
\end{proof}

\begin{lemma} \label{card_mult_idemp_A_leq}
    $[\A \times \A] \leq [\A]$.
\end{lemma}
\begin{proof}
    Assume that $[\A] < [\A \times \A]$.  Then because the ordinal initial
    segment function $f_{\A \times \A}$ is surjective, there exist $x_1$ and
    $x_2$ in $\A$ wuth $f_{\A \times \A}(x_1, x_2) = [\A]$.  However, by Lemma
    \ref{card_mult_idemp_l_lt}, we have $f_{\A \times \A}(x_1, x_2) < [\A]$, a
    contradiction.  Thus, $[\A \times \A] \leq [\A]$.
\end{proof}

\begin{lemma} \label{card_idemp}
    $|\A| = |\A \times \A|$.
\end{lemma}
\begin{proof}
    The proof will be by antisymmetry.  The function $f(x) = (x, x)$ is
    injective, showing that $|\A| \leq |\A \times \A|$.  By Lemma
    \ref{card_mult_idemp_A_leq}, we have $\A \leq \A \times \A$, so by Theorem
    \ref{ord_to_card_le} we have $|\A| \leq |\A \times \A|$ as well.
\end{proof}

Now, drop all the assumptions of the previous lemmas and include them as part of
their conditions.

\begin{lemma} \label{ord_mult_idemp}
    For all infinite order types $\A$, we have $|\A| = |\A \times \A|$.
\end{lemma}
\begin{proof}
    By transfinite induction we can get the inductive hypothesis the previous
    lemmas require.  There will be two cases: when a $\beta < [\A]$ with
    $|\beta| = |\A|$ exists, and when no such $\beta$ exists.  In the case where
    $\beta$ exists, the result follows by Lemma \ref{not_card_idemp}, and in the
    case where no such $\beta$ exists, the result follows by Lemma
    \ref{card_idemp}.
\end{proof}

We can finally get to the main result:

\begin{theorem} \label{card_mult_idemp}
    For all infinite cardinals $\kappa$, we have $\kappa\kappa = \kappa$.
\end{theorem}
\begin{proof}
    Let $\A$ be a type with cardinality $\kappa$.  By the well ordering theorem,
    it can be well ordered.  Then the result follows by Lemma
    \ref{ord_mult_idemp}.
\end{proof}

From this result, several other similar results follow.

\begin{theorem} \label{card_plus_idemp}
    For all infinite cardinals $\kappa$, we have $\kappa + \kappa = \kappa$.
\end{theorem}
\begin{proof}
    First, $\kappa + \kappa = 2\kappa$.  Since $\kappa$ is infinite, we have $2
    \leq \kappa$.  Then multiplying by $\kappa$, we get $2\kappa \leq
    \kappa\kappa = \kappa$.  Multiplying $1 \leq 2$ by $\kappa$ we get $\kappa
    \leq 2\kappa$.  Thus, by antisymmetry, $2\kappa = \kappa$.
\end{proof}

\begin{theorem} \label{card_plus_lmax}
    For all cardinals $\kappa$ and $\mu$, if $\kappa$ is infinite and $\mu \leq
    \kappa$, then $\kappa + \mu = \kappa$.
\end{theorem}
\begin{proof}
    From $\mu \leq \kappa$, adding $\kappa$ on both sides we get $\kappa + \mu
    \leq \kappa + \kappa = \kappa$.  From $0 \leq \mu$ and adding $\kappa$ on
    both sides we get $\kappa \leq \kappa + \mu$.  Thus, by antisymmetry we get
    $\kappa + \mu = \kappa$.
\end{proof}

\begin{theorem} \label{card_mult_lmax}
    For all cardinals $\kappa$ and $\mu$, if $\kappa$ is infinite, $0 \neq \mu$,
    and $\mu \leq \kappa$, then $\kappa \mu = \kappa$.
\end{theorem}
\begin{proof}
    From $\mu \leq \kappa$, multiplying by $\kappa$ on both sides we get $\kappa
    \mu \leq \kappa \kappa = \kappa$,  And from $0 \neq \mu$ we get $1 \leq
    \mu$, and multiplying by $\kappa$ we get $\kappa \leq \kappa \mu$.  Thus, by
    antisymmetry we get $\kappa \mu = \kappa$.
\end{proof}

\begin{theorem} \label{card_plus_max}
    For all infinite cardinals $\kappa$ and $\mu$, $\kappa + \mu = \max(\kappa,
    \mu)$.
\end{theorem}
\begin{proof}
    The result follows by looking at the cases $\mu \leq \kappa$ and $\kappa
    \leq \mu$ and applying Theorem \ref{card_plus_lmax}.
\end{proof}

\begin{theorem} \label{card_mult_max}
    For all infinite cardinals $\kappa$ and $\mu$, $\kappa \mu = \max(\kappa,
    \mu)$.
\end{theorem}
\begin{proof}
    The result follows by looking at the cases $\mu \leq \kappa$ and $\kappa
    \leq \mu$ and applying Theorem \ref{card_mult_lmax}.
\end{proof}

\begin{theorem} \label{card_inf_plus_mult}
    For all infinite cardinals $\kappa$ and $\mu$, $\kappa + \mu = \kappa\mu$.
\end{theorem}
\begin{proof}
    By the previous two theorems, both sides are equal to $\max(\kappa, \mu)$.
\end{proof}

\end{document}
